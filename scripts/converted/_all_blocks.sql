-- ============================================================================
-- AUTO-GENERATED: All lesson block conversions from seed HTML content
-- Run this AFTER the original seed files and content_migrated migration.
-- Generated by: npx tsx scripts/convert-seed-files.ts
-- Generated at: 2026-02-19T05:52:58.429Z
-- ============================================================================

-- Ensure content_migrated column exists
ALTER TABLE learning_lessons ADD COLUMN IF NOT EXISTS content_migrated BOOLEAN DEFAULT FALSE;

-- supabase_seed_acc_content_1335_wk1.sql — Lesson: acc02b01-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc02b01-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Welcome to the Surveying Lab</h2><p>SRVY 1335 is a <strong>hands-on lab course</strong> where you learn by doing. Every week you will handle precision instruments, work outdoors in central Texas weather, and produce field notes that could stand up in a court of law. Before you touch a single piece of equipment, you need to understand three things: how to keep yourself and others <strong>safe</strong>, what each piece of <strong>equipment</strong> does, and how to <strong>record</strong> your work properly.</p><p>This first lab session covers all three. Take these topics seriously — safety violations can cause injury, equipment damage can cost thousands of dollars, and poor field notes can invalidate an entire survey.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Part 1: Lab and Field Safety</h2>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>General Safety Principles</h3><p>Surveying is outdoor work performed near traffic, on uneven terrain, and often in extreme heat. The most important safety principle is <strong>situational awareness</strong> — always know what is around you.</p><ul>\n<li><strong>Never turn your back on traffic.</strong> When working near roads, always face oncoming traffic. Use a spotter if you must focus on the instrument.</li>\n<li><strong>Wear appropriate clothing.</strong> Closed-toe shoes (preferably boots), long pants, and a hat are mandatory for fieldwork. High-visibility vests are required when working near any roadway.</li>\n<li><strong>Stay hydrated.</strong> Central Texas summers regularly exceed 100°F. Drink water <em>before</em> you feel thirsty. Know the signs of heat exhaustion: heavy sweating, weakness, cold/pale/clammy skin, nausea, fainting.</li>\n<li><strong>Watch for wildlife.</strong> Fire ants, copperheads, rattlesnakes, and thorny brush are common in the Austin area. Look before you step, especially around tall grass, rock piles, and brush.</li>\n<li><strong>Never look at the sun through any optical instrument.</strong> Levels, theodolites, and total stations can focus sunlight directly into your eye, causing instant and permanent retinal damage.</li>\n</ul>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Equipment Safety</h3><ul>\n<li><strong>Carry tripods vertically</strong> with the legs together and pointed down. Never carry a tripod over your shoulder pointed forward — you could strike someone.</li>\n<li><strong>Never leave an instrument unattended on a tripod.</strong> Wind, people, or animals can knock it over. A dropped total station can cost $15,000–$40,000 to replace.</li>\n<li><strong>Use lens caps</strong> when the instrument is not in active use. Scratched lenses degrade measurement accuracy.</li>\n<li><strong>Tighten all clamps gently but firmly.</strong> Over-tightening damages threads and tangent screws. Under-tightening allows the instrument to drift.</li>\n<li><strong>Level rods and prism poles</strong> should be carried vertically, not horizontally, when moving through the field.</li>\n</ul>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>ACC Lab-Specific Rules</h3><ol>\n<li>All equipment must be <strong>checked out</strong> by the team leader and <strong>checked in</strong> by the same person at the end of each lab session.</li>\n<li>Report any equipment damage <strong>immediately</strong> — do not attempt to repair instruments yourself.</li>\n<li>No food or drinks near instruments or in the equipment storage room.</li>\n<li>Field vehicles must have a designated driver who has completed the ACC defensive driving orientation.</li>\n<li>First aid kits are located in the lab storage room and in each field vehicle. Know their location.</li>\n</ol>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Part 2: Surveying Equipment Overview</h2><p>This section introduces the major categories of surveying equipment you will use throughout the semester. You do not need to master every instrument today — you will learn each one in depth during the labs that use it. Today is about recognition and basic handling.</p>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Levels</h3><p>A <strong>level</strong> establishes a horizontal line of sight for measuring differences in elevation. There are two main types you will encounter:</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'table', '{"headers":["Type","Description","Typical Accuracy"],"rows":[["<strong>Automatic (compensating) level</strong>","Uses a pendulum compensator to maintain a level line of sight after rough leveling. The standard instrument for differential leveling.","±1–2 mm per km"],["<strong>Digital level</strong>","Reads a bar-coded rod electronically and records data digitally. Eliminates reading errors.","±0.3–1.0 mm per km"]]}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<p>Both require a <strong>tripod</strong> for mounting and a <strong>leveling rod</strong> (graduated staff) as the target.</p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Total Stations</h3><p>A <strong>total station</strong> combines an electronic theodolite (for measuring horizontal and vertical angles) with an EDM (Electronic Distance Measurement device). It is the workhorse of modern surveying, used for traversing, boundary surveys, construction layout, and topographic mapping.</p><p>Key components:</p><ul>\n<li><strong>Telescope</strong> — optical tube with crosshairs for precise aiming</li>\n<li><strong>Horizontal circle</strong> — electronic encoder measuring horizontal angles</li>\n<li><strong>Vertical circle</strong> — electronic encoder measuring zenith (vertical) angles</li>\n<li><strong>EDM</strong> — infrared or laser distance measurement</li>\n<li><strong>Display and keyboard</strong> — for entering data and reading measurements</li>\n<li><strong>Tribrach</strong> — the leveling mount that attaches to the tripod</li>\n</ul><p>Total station accuracy classes are defined by the standard deviation of a single angle measurement — for example, a \"5-second\" instrument has a stated angle accuracy of ±5″.</p>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Theodolites</h3><p>A <strong>theodolite</strong> measures horizontal and vertical angles but does <em>not</em> include an EDM. Modern total stations have largely replaced standalone theodolites, but you may encounter them for specific tasks (such as precise angle work) or in contexts where distance is measured separately by tape or GNSS.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Distance Measurement Equipment</h3>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'table', '{"headers":["Equipment","Description","When Used"],"rows":[["<strong>Steel tape (30 m / 100 ft)</strong>","Graduated metal tape for direct distance measurement","Short distances, boundary corners, construction layout"],["<strong>EDM (in total station)</strong>","Electronic distance measurement using infrared beam reflected from a prism","All traverse and control distances"],["<strong>Prism and prism pole</strong>","Glass retroreflector mounted on an adjustable-height pole — the EDM target","Used with total station for all electronic distance measurement"]]}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Leveling Rods</h3><p>A <strong>leveling rod</strong> (or level staff) is a graduated pole used as the target for leveling measurements. Standard rods are graduated in meters/centimeters or feet/hundredths of a foot. The rod must be held <strong>perfectly vertical</strong> — even a small tilt introduces error. Rod levels (circular bubble vials) are attached to the rod to help maintain plumb.</p>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Tripods</h3><p>All precision instruments (levels, total stations, theodolites) mount on a <strong>tripod</strong>. Surveying tripods have:</p><ul>\n<li><strong>Adjustable legs</strong> with both extension and spread adjustment</li>\n<li><strong>Metal or fiberglass legs</strong> (wood is traditional but heavier)</li>\n<li><strong>A flat head</strong> with a 5/8″-11 threaded center bolt for attaching the tribrach or instrument directly</li>\n<li><strong>Pointed feet</strong> for pushing into soft ground</li>\n</ul>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Tribrachs</h3><p>A <strong>tribrach</strong> is the leveling adapter between the tripod and the instrument. It contains:</p><ul>\n<li>Three <strong>leveling screws</strong> (foot screws) for precise leveling</li>\n<li>A <strong>circular bubble</strong> (bull''s-eye) for rough leveling</li>\n<li>An <strong>optical plummet</strong> (or laser plummet) for centering over a ground mark</li>\n<li>A <strong>locking ring</strong> that accepts the instrument or prism adapter</li>\n</ul>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Auxiliary Equipment</h3><ul>\n<li><strong>Plumb bob</strong> — weighted cone on a string for vertical alignment over a point (backup to optical plummet)</li>\n<li><strong>Range poles</strong> — bright red-and-white striped poles for sighting targets at a distance</li>\n<li><strong>Chaining pins</strong> — steel stakes used to mark tape endpoints during taping</li>\n<li><strong>Flagging tape</strong> — brightly colored plastic ribbon for marking points</li>\n<li><strong>Field book and pencils</strong> — for recording measurements (more on this below)</li>\n<li><strong>Hammer, lath, nails</strong> — for setting temporary points</li>\n</ul>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Part 3: The Surveying Field Book</h2><p>The <strong>field book</strong> is the legal record of your survey observations. It is not a scratch pad — it is a <em>permanent document</em> that may be subpoenaed in court years or decades after the survey was performed. Every measurement, sketch, and note you record must follow professional standards.</p>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Field Book Format</h3><p>Standard surveying field books have a specific layout:</p><ul>\n<li><strong>Left page:</strong> Tabular data — station names, angles, distances, rod readings, HI, HR</li>\n<li><strong>Right page:</strong> Sketches — plan view of the site, showing station locations, traverse lines, reference objects, north arrow, and descriptive notes</li>\n</ul>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Required Information on Every Page</h3>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Purpose"],"rows":[["Date","Establishes when the work was performed"],["Weather conditions","Temperature, wind, visibility affect measurement accuracy"],["Crew members and roles","Establishes who performed and checked the work"],["Project name / location","Ties the data to a specific job"],["Equipment used (ID numbers)","Allows tracing calibration records"],["Page number","Maintains data sequence"]]}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Rules of Field Note Recording</h3><ol>\n<li><strong>Use pencil only</strong> (HB or 2H) — ink smears in rain and humidity.</li>\n<li><strong>Record measurements at the time of observation.</strong> Never rely on memory or scraps of paper.</li>\n<li><strong>Never erase.</strong> If you make an error, draw a single horizontal line through the incorrect value so it remains legible, write the correct value adjacent to it, and initial the correction.</li>\n<li><strong>Write legibly.</strong> If others cannot read your notes, the data is useless.</li>\n<li><strong>Include sketches.</strong> A plan-view sketch of the site with labeled stations, traverse lines, and reference features is essential for anyone using the data later.</li>\n<li><strong>Note unusual conditions</strong> — passing traffic that may have disturbed a setup, strong wind, heat shimmer, anything that might affect data quality.</li>\n<li><strong>Check your work.</strong> Before leaving a station, review all recorded values for completeness and reasonableness.</li>\n</ol>"}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Electronic Data Collection</h3><p>Many modern total stations connect to an electronic <strong>data collector</strong> (handheld computer) that records measurements automatically. While this reduces recording errors, you must still:</p><ul>\n<li>Verify the data collector settings (units, coordinate system, atmospheric corrections)</li>\n<li>Confirm point naming conventions before starting</li>\n<li>Back up data at the end of every session</li>\n<li>Maintain a paper field book as a backup record with sketches and notes that the data collector cannot capture</li>\n</ul>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Part 4: Equipment Check-Out Procedures</h2><p>Proper equipment handling begins and ends with the check-out process:</p>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Checking Out Equipment</h3><ol>\n<li>Sign the equipment log with your name, date, course section, and the serial numbers of all items checked out.</li>\n<li><strong>Inspect each item</strong> before accepting it:\n  <ul>\n  <li>Tripod: legs extend and lock properly, feet are attached, head bolt is present</li>\n  <li>Total station / level: lens is clean, display powers on, battery is charged</li>\n  <li>Rod: sections extend and lock, graduations are readable, rod level bubble is intact</li>\n  <li>Prism: glass is uncracked, prism constant label is visible, pole clamp works</li>\n  </ul>\n</li>\n<li>Report any pre-existing damage to the instructor before leaving the storage room.</li>\n</ol>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Returning Equipment</h3><ol>\n<li>Clean all equipment — wipe down instruments with a soft cloth, remove dirt from tripod feet and rod base.</li>\n<li>Return each item to its designated storage location (case, shelf, rack).</li>\n<li>Sign the equipment back in on the log.</li>\n<li>Report any damage or issues discovered during the lab session.</li>\n<li>Ensure all batteries are placed on chargers if needed.</li>\n</ol>"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc02b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week you will put this knowledge to work in your first hands-on lab: <strong>differential leveling</strong>. You will set up an automatic level, read a leveling rod, and run a simple level circuit to determine elevation differences between points. Bring your field book prepared with a fresh page, your pencil, and a hat — we will be outside.</p>"}'::jsonb, 26, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc02b01-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1335_wk2.sql — Lesson: acc02b02-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc02b02-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Your First Hands-On Lab: Measuring Distances Electronically</h2><p>This week you move from the classroom to the field. You will set up a total station on a tripod, assemble a prism target, measure distances electronically, apply atmospheric corrections, and record everything in your field book. Electronic Distance Measurement (EDM) is the foundation of virtually all modern surveying — every traverse, boundary survey, and construction layout depends on accurate EDM distances.</p><p>By the end of this lab you should be able to set up, measure, correct, and record distances confidently and independently.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>How EDM Works</h2><p>An EDM measures distance by transmitting a <strong>modulated electromagnetic signal</strong> — typically infrared light — to a <strong>retroreflecting prism</strong> at the target point. The signal bounces back and the instrument measures the <strong>phase shift</strong> between the outgoing and returning waves. From the phase shift it computes the travel time and, knowing the speed of light in the atmosphere, derives the distance.</p>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Measurement Process (Simplified)</h3><ol>\n<li>The EDM transmits an infrared beam modulated at a known frequency</li>\n<li>The beam travels to the prism and reflects directly back along the same path</li>\n<li>The instrument compares the phase of the returned signal to the transmitted signal</li>\n<li>The phase difference corresponds to a fraction of the modulation wavelength</li>\n<li>Multiple modulation frequencies are used to resolve the total number of whole wavelengths (the \"ambiguity\")</li>\n<li>The instrument reports the <strong>slope distance</strong> from the instrument to the prism</li>\n</ol><p>Modern EDMs in total stations can measure distances up to several kilometers with a single prism, and shorter distances (up to ~200 m) in \"reflectorless\" mode using the return from a solid surface.</p>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>EDM Accuracy Specification</h3><p>EDM accuracy is expressed as <strong>±(a mm + b ppm)</strong>, where:</p><ul>\n<li><strong>a</strong> is the constant error (typically 1–3 mm) — independent of distance</li>\n<li><strong>b</strong> is the proportional error (typically 1–3 ppm) — grows with distance</li>\n</ul><p><strong>Example:</strong> An EDM rated at ±(2 mm + 2 ppm) measuring a distance of 500 m has an expected uncertainty of: 2 mm + (2 × 500/1,000,000 × 1,000,000 mm) = 2 mm + 1 mm = <strong>±3 mm</strong>.</p><p>For a 100 m distance: 2 mm + (2 × 0.1 mm) = <strong>±2.2 mm</strong>. The constant error dominates at short distances; the proportional error dominates at long distances.</p>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Setting Up the Equipment</h2>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 1: Tripod Setup</h3><p>You learned the tripod basics last week. Here is the full procedure you will execute today:</p><ol>\n<li><strong>Position the tripod</strong> over the station mark. Spread the legs to form a stable triangle with the head roughly level.</li>\n<li><strong>Push each leg</strong> firmly into the ground (or use a tripod pad on pavement). The instrument eyepiece should be at a comfortable viewing height.</li>\n<li><strong>Check that the head is roughly level</strong> by eye before mounting the instrument.</li>\n</ol>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 2: Mount the Tribrach and Instrument</h3><ol>\n<li>Attach the <strong>tribrach</strong> to the tripod head using the center bolt.</li>\n<li>Place the <strong>total station</strong> on the tribrach and engage the locking ring.</li>\n<li><strong>Rough-level</strong> using the circular bubble — adjust the tripod legs until the bubble is approximately centered.</li>\n<li><strong>Center over the mark</strong> using the optical plummet (or laser plummet). Look through the plummet eyepiece and slide the instrument on the tripod head until the crosshair is on the station mark.</li>\n<li><strong>Fine-level</strong> using the plate bubble and three leveling screws:\n  <ul>\n  <li>Rotate the instrument so the plate bubble is parallel to two of the leveling screws</li>\n  <li>Turn those two screws simultaneously in opposite directions until the bubble centers (the bubble follows your left thumb)</li>\n  <li>Rotate 90° and center the bubble with the third screw</li>\n  <li>Repeat until the bubble stays centered in all orientations</li>\n  </ul>\n</li>\n<li><strong>Re-check centering</strong> — fine-leveling often shifts the instrument slightly off center. Re-center over the mark and re-level. Iterate until both conditions are satisfied.</li>\n<li><strong>Measure and record HI</strong> (Height of Instrument) — the vertical distance from the ground mark to the trunnion axis.</li>\n</ol>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 3: Assemble the Prism Target</h3><ol>\n<li><strong>Thread the prism</strong> onto the prism holder/adapter.</li>\n<li><strong>Attach the prism holder</strong> to the top of the prism pole (range pole).</li>\n<li><strong>Set the prism pole height</strong> to match the HI if possible (this simplifies vertical angle computations), or to a convenient fixed height. Record the <strong>HR</strong> (Height of Reflector/Rod).</li>\n<li><strong>Check the prism constant</strong> label on the prism housing. Common values are 0 mm (Leica-style) or −30 mm (standard). Ensure the total station is set to the correct prism constant.</li>\n<li><strong>Level the prism pole</strong> using the attached circular bubble. The rod person must hold the pole plumb over the target point during every measurement.</li>\n</ol>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Measuring Distances</h2>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Measurement Procedure</h3><ol>\n<li><strong>Power on</strong> the total station and enter or verify settings: units (meters or feet), atmospheric corrections (temperature and pressure), and prism constant.</li>\n<li><strong>Sight the prism.</strong> Use the sighting notch or red-dot finder on the instrument to roughly aim at the prism. Then look through the telescope and use the horizontal and vertical tangent screws to precisely center the crosshair on the prism.</li>\n<li><strong>Press the \"Measure\" button</strong> (or \"DIST\" key). The EDM fires and returns the slope distance, horizontal distance, and vertical difference. Most instruments display all three.</li>\n<li><strong>Record the reading</strong> in your field book: slope distance, horizontal distance, zenith angle, and any vertical difference.</li>\n<li><strong>Take at least three readings</strong> and verify they agree within the instrument''s specification. If one reading disagrees significantly, discard it and re-measure.</li>\n<li><strong>Compute the mean</strong> of the accepted readings.</li>\n</ol>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>What the Instrument Reports</h3>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'table', '{"headers":["Value","Symbol","Description"],"rows":[["Slope Distance","SD","The straight-line distance from instrument to prism along the line of sight"],["Horizontal Distance","HD","The distance projected onto a horizontal plane: HD = SD × sin(zenith angle)"],["Vertical Difference","VD","The elevation difference: VD = SD × cos(zenith angle) + HI − HR"],["Zenith Angle","ZA","The vertical angle from straight up (0°) to the line of sight (90° = horizontal)"]]}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Atmospheric Corrections</h2><p>The EDM computes distance based on the speed of its signal through the atmosphere. The speed of light in air depends on <strong>temperature</strong>, <strong>atmospheric pressure</strong>, and <strong>humidity</strong>. If conditions differ from the instrument''s standard reference (typically 15°C and 760 mmHg / 1013.25 hPa), the measured distance will have a systematic error.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Why It Matters in Texas</h3><p>In central Texas:</p><ul>\n<li>Summer temperatures routinely reach <strong>38–42°C (100–108°F)</strong> — far above the 15°C standard</li>\n<li>Winter temperatures can drop to <strong>−5°C (23°F)</strong> during cold fronts</li>\n<li>Temperature swings of 20°C in a single day are common in spring and fall</li>\n</ul><p>At 38°C and standard pressure, the atmospheric correction is approximately <strong>+12 ppm</strong> compared to standard conditions. For a 1,000 m distance, that is <strong>+12 mm</strong>. For a 100 m distance, it is <strong>+1.2 mm</strong>. The correction is always positive in hot weather (the signal travels faster in warm air, so the uncorrected distance reads short).</p>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Applying the Correction</h3><p>Most modern total stations apply atmospheric corrections automatically when you enter the current temperature and pressure. You should:</p><ol>\n<li><strong>Measure temperature</strong> at the instrument with a thermometer. Do not use the forecast temperature — local conditions near the ground may differ significantly.</li>\n<li><strong>Measure pressure</strong> with a barometer or use the pressure from a nearby weather station, adjusted for elevation difference if needed.</li>\n<li><strong>Enter both values</strong> into the total station''s atmospheric correction settings.</li>\n<li><strong>Update periodically</strong> during long sessions — conditions change throughout the day.</li>\n</ol>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Atmospheric Correction Formula</h3><p>The correction in parts per million (ppm) can be approximated by:</p><p style=\"text-align:center;\"><strong>C<sub>atm</sub> ≈ 281.8 − (79.661 × P) / (273.15 + T)</strong></p><p>where T is temperature in °C and P is pressure in hPa. The corrected distance is:</p><p style=\"text-align:center;\"><strong>D<sub>corrected</sub> = D<sub>measured</sub> × (1 + C<sub>atm</sub> / 1,000,000)</strong></p><p>You do not need to memorize this formula — the instrument handles it — but you should understand that the correction exists and can be significant in Texas conditions.</p>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>The Prism Constant</h2><p>The EDM measures the distance to the <strong>optical center</strong> of the prism, not to the physical center of the prism pole. The difference between these two points is the <strong>prism constant</strong> (also called the prism offset).</p>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'table', '{"headers":["Prism Type","Typical Constant","Notes"],"rows":[["Standard (most brands)","−30 mm","The optical center is 30 mm behind the physical face"],["Leica-style (360° prism)","0 mm","Designed for zero offset"],["Mini prism","−17.5 mm to 0 mm","Varies by model"]]}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<p><strong>Critical:</strong> The prism constant set in the total station must match the prism being used. If you use a standard −30 mm prism but the instrument is set to 0 mm, every distance will be <strong>30 mm too long</strong>. On a traverse with 10 legs, that is a cumulative error of 300 mm (about 1 foot) — enough to blow any precision requirement.</p>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Slope Distance vs. Horizontal Distance</h2><p>The EDM measures <strong>slope distance</strong> — the straight-line distance through the air from the instrument to the prism. For surveying computations, you almost always need the <strong>horizontal distance</strong>.</p><p>The conversion uses the zenith angle (ZA) measured by the vertical circle:</p><p style=\"text-align:center; font-size:1.1em;\"><strong>HD = SD × sin(ZA)</strong></p><p>where ZA is measured from the zenith (straight up = 0°, horizontal = 90°). Most total stations compute and display HD automatically.</p><p><strong>Example:</strong> SD = 215.482 m, ZA = 87°24′10″</p><p>HD = 215.482 × sin(87.4028°) = 215.482 × 0.99896 = <strong>215.258 m</strong></p><p>The difference (0.224 m ≈ 9 inches) matters. On steep terrain, the difference between slope and horizontal distance can be much larger.</p>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Recording EDM Measurements</h2><p>In your field book, record the following for each distance measurement:</p>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Example","Why"],"rows":[["From station","STA 1","Identifies the instrument position"],["To station","STA 2","Identifies the prism position"],["HI","1.523 m","Needed for elevation computation"],["HR (prism height)","1.800 m","Needed for elevation computation"],["Prism constant","−30 mm","Confirms correct setting"],["Temperature","34°C","For verifying atmospheric correction"],["Pressure","1008 hPa","For verifying atmospheric correction"],["SD (slope distance) — 3 readings","215.481, 215.483, 215.482","Redundancy and blunder check"],["Mean SD","215.482 m","Accepted value"],["ZA (zenith angle)","87°24′10″","For slope-to-horizontal conversion"],["HD (horizontal distance)","215.258 m","Used in computations"]]}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Common EDM Errors and How to Avoid Them</h2>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'table', '{"headers":["Error","Cause","Prevention"],"rows":[["Wrong prism constant","Constant set for different prism type","Check the prism label and verify the total station setting before first measurement"],["Wrong atmospheric correction","Default values left in instrument; conditions changed","Measure and enter actual temperature and pressure; update during the day"],["Prism not plumb","Rod person not holding pole vertical","Use rod-level bubble; instrument operator should watch for leaning"],["Sighting wrong target","Multiple prisms in the area; reflective surfaces","Communicate with rod person; use only designated prism targets"],["Multipath interference","EDM beam reflects off nearby surfaces (vehicles, walls)","Ensure clear sightline; move instrument if readings are erratic"],["Heat shimmer","Atmospheric turbulence near hot ground surfaces","Raise sightline above ground; avoid low shots over pavement in afternoon"]]}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Today''s Lab Exercise</h2><p>You will measure a series of <strong>known distances</strong> on the campus baseline course — a set of permanently monumented points whose distances have been precisely determined by calibration. This allows you to:</p><ol>\n<li>Practice the complete setup and measurement procedure</li>\n<li>Verify that your instrument is reading correctly</li>\n<li>Experience the effect of atmospheric corrections firsthand</li>\n<li>Compare your measured distances to the known values</li>\n</ol><p>Your goal is to measure each baseline distance within <strong>±5 mm</strong> of the known value. If your measurements are consistently off by a similar amount, check your prism constant and atmospheric correction settings first.</p>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc02b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week you will learn <strong>differential leveling</strong> — using an automatic level and leveling rod to determine elevation differences between points. EDM distances are horizontal; leveling gives you the vertical component. Together, they define three-dimensional positions.</p>"}'::jsonb, 25, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc02b02-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1335_wk3.sql — Lesson: acc02b03-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc02b03-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>The Total Station: Your Most Important Tool</h2><p>Last week you used the total station''s EDM to measure distances. This week you learn to operate the <em>entire</em> instrument — setting up precisely over a point, orienting to a backsight, and measuring angles and distances simultaneously. The total station is the instrument you will use more than any other in your surveying career, so the skills you develop this week are ones you will repeat thousands of times.</p><p>By the end of today''s lab you should be able to set up a total station, orient it to a backsight azimuth, and measure a complete round of horizontal angles, zenith angles, and slope distances to multiple targets — recording everything properly in your field book.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Total Station Components Review</h2><p>Before operating the instrument, make sure you can identify every part:</p>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Optical and Mechanical Components</h3>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'table', '{"headers":["Component","Function"],"rows":[["<strong>Telescope</strong>","Magnifying optical tube with crosshairs (reticle) for precise aiming. Typically 26–30× magnification."],["<strong>Objective lens</strong>","Front lens of the telescope — gathers light. Keep the lens cap on when not in use."],["<strong>Eyepiece</strong>","Rear lens with a focus ring. Adjust the eyepiece first to sharpen the crosshairs, then use the main focus knob to focus on the target."],["<strong>Crosshairs (reticle)</strong>","Fine lines (vertical and horizontal) etched on glass inside the telescope. The intersection defines the line of sight."],["<strong>Sighting device</strong>","A notch-and-post sight or red-dot finder on top of the telescope for rough aiming before looking through the eyepiece."],["<strong>Horizontal clamp and tangent screw</strong>","The clamp locks the horizontal rotation; the tangent screw provides fine adjustment. Release the clamp to swing freely, lock it near the target, then use the tangent screw for precise pointing."],["<strong>Vertical clamp and tangent screw</strong>","Same function for vertical (tilting) motion of the telescope."],["<strong>Tribrach</strong>","Leveling base with three foot screws, circular bubble, optical/laser plummet, and locking ring."]]}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Electronic Components</h3>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'table', '{"headers":["Component","Function"],"rows":[["<strong>Horizontal circle encoder</strong>","Measures horizontal angles electronically (replaces the old glass circle and micrometer)"],["<strong>Vertical circle encoder</strong>","Measures zenith (vertical) angles electronically"],["<strong>EDM transmitter/receiver</strong>","Infrared distance measurement unit, coaxial with the telescope"],["<strong>Dual-axis compensator</strong>","Electronic tilt sensor that corrects angles for small leveling errors (typically ±3′ range)"],["<strong>Display panel</strong>","LCD screen showing angles, distances, coordinates, and menu options"],["<strong>Keyboard</strong>","For entering data (station name, HI, HR, atmospheric corrections) and navigating menus"],["<strong>Battery</strong>","Rechargeable; typical runtime 6–10 hours depending on EDM usage"],["<strong>Data port</strong>","Connection for external data collector or computer download"]]}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Setting Up Over a Point: The Complete Procedure</h2><p>You practiced a basic setup last week. This week you will refine it and learn to achieve <strong>sub-millimeter centering</strong> — critical for short sightlines where centering error dominates.</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 1: Tripod Placement</h3><ol>\n<li>Stand behind the tripod and look down through the center hole in the tripod head. Position the tripod so the center hole is approximately over the ground mark.</li>\n<li>Spread the legs wide enough for stability (roughly shoulder width apart) with the head at a comfortable height.</li>\n<li>Push <strong>each leg firmly</strong> into the ground. On hard surfaces, use rubber leg tips or a tripod pad.</li>\n<li>The tripod head should be <strong>roughly level</strong> — within a few degrees. If one leg is much higher than the others, adjust leg lengths now rather than fighting the leveling screws later.</li>\n</ol>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 2: Instrument Mounting and Rough Leveling</h3><ol>\n<li>Thread the tribrach onto the tripod center bolt and tighten snugly.</li>\n<li>Place the total station on the tribrach and engage the locking ring with a firm quarter-turn.</li>\n<li>Center the <strong>circular (bull''s-eye) bubble</strong> by adjusting the tripod legs. Turn the leg extension clamps to raise or lower individual legs. Do not use the leveling screws yet.</li>\n</ol>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 3: Centering with the Optical Plummet</h3><ol>\n<li>Look through the <strong>optical plummet</strong> eyepiece (located on the side or bottom of the tribrach). Focus the plummet crosshair and then focus on the ground mark.</li>\n<li>Loosen the tribrach center clamp and <strong>slide the instrument</strong> on the tripod head until the plummet crosshair is exactly on the ground mark.</li>\n<li>Re-tighten the center clamp.</li>\n</ol><p><strong>Laser plummet alternative:</strong> Many modern tribrachs have a laser plummet that projects a red dot downward. Center the dot on the ground mark. Laser plummets are easier to use in bright sunlight where the optical plummet image may be dim.</p>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 4: Fine Leveling</h3><ol>\n<li>Rotate the instrument so the <strong>plate bubble</strong> (tubular bubble) is <strong>parallel</strong> to the line between two of the three leveling screws.</li>\n<li>Turn those two screws <strong>simultaneously in opposite directions</strong>. The bubble moves in the direction of your left thumb. Center the bubble.</li>\n<li>Rotate the instrument <strong>90°</strong>. Center the bubble using the <strong>third screw only</strong>.</li>\n<li>Rotate back and check. Repeat until the bubble stays centered in <strong>all orientations</strong>.</li>\n</ol>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 5: Iterate Centering and Leveling</h3><p>Fine leveling often shifts the instrument slightly off the ground mark. Check the optical plummet — if the crosshair has moved off the mark, loosen the center clamp, re-center, re-tighten, and re-level. <strong>Repeat</strong> until the instrument is simultaneously level and centered. This typically takes 2–3 iterations.</p>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Phase 6: Measure HI</h3><p>Measure the <strong>Height of Instrument (HI)</strong> — the vertical distance from the ground mark to the trunnion axis (the horizontal rotation axis of the telescope). Use a steel tape or the graduated HI mark on the instrument/tribrach. Record the HI immediately in your field book.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Focusing the Telescope</h2><p>Proper focus is essential for accurate pointing. There are <strong>two separate focus adjustments</strong>:</p><ol>\n<li><strong>Eyepiece focus (crosshair focus):</strong> Point the telescope at a light background (like the sky — NOT the sun). Turn the eyepiece ring until the crosshairs are sharp and black. This focuses your eye on the reticle plane. Do this <em>once</em> at the beginning of the session; it should not change unless a different person uses the instrument.</li>\n<li><strong>Main focus (target focus):</strong> Point at the target and turn the focus knob on the side of the telescope until the target image is sharp. You must refocus for each new target at a different distance.</li>\n</ol>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Eliminating Parallax</h3><p><strong>Parallax</strong> is the apparent movement of the crosshairs against the target image when you move your eye slightly side to side at the eyepiece. It occurs when the target image and the crosshairs are not in the same focal plane. To eliminate parallax:</p><ol>\n<li>Focus the eyepiece on the crosshairs (step 1 above)</li>\n<li>Focus the main knob on the target (step 2)</li>\n<li>Move your eye slightly at the eyepiece — if the crosshairs appear to shift against the target, re-adjust the main focus until the shift disappears</li>\n</ol><p>Parallax causes pointing errors. Always check for it before taking critical measurements.</p>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Orienting to a Backsight</h2><p>Before measuring angles, you must <strong>orient</strong> the total station — that is, tell it what direction it is pointing. This is done by sighting a <strong>backsight</strong> (a point with a known direction from your station) and setting the horizontal circle accordingly.</p>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Method 1: Zero the Circle on the Backsight</h3><ol>\n<li>Sight the backsight prism precisely (using the tangent screws)</li>\n<li>Press the <strong>\"0 SET\"</strong> or <strong>\"OSET\"</strong> button on the total station. This sets the horizontal circle to 0°00′00″ while pointing at the backsight.</li>\n<li>All subsequent horizontal readings are angles measured clockwise from the backsight direction.</li>\n</ol>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Method 2: Set a Known Azimuth</h3><ol>\n<li>Sight the backsight prism precisely</li>\n<li>Enter the <strong>known azimuth</strong> of the line from your station to the backsight (e.g., 227°15′30″) as the horizontal circle reading</li>\n<li>Now all horizontal readings are true azimuths, not just angles from the backsight</li>\n</ol><p>Method 2 is preferred for traverse work because it gives you azimuths directly, eliminating a computation step. Method 1 is simpler and common for construction layout where you measure angles from a reference line.</p>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Verifying Orientation</h3><p>After orienting, swing to a <strong>second known point</strong> (if available) and check that the displayed angle or azimuth matches the expected value. This confirms that your orientation is correct. If it does not match, recheck your backsight identification and the azimuth you entered.</p>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Measuring Angles and Distances</h2>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Measuring a Horizontal Angle</h3><ol>\n<li><strong>Sight the backsight</strong> and zero the circle (or set the known azimuth).</li>\n<li><strong>Release the horizontal clamp</strong> and swing the telescope clockwise toward the foresight target.</li>\n<li><strong>Lock the horizontal clamp</strong> when the target is near the crosshairs.</li>\n<li><strong>Use the horizontal tangent screw</strong> for precise pointing — center the vertical crosshair on the prism.</li>\n<li><strong>Read the horizontal angle</strong> from the display. This is the angle clockwise from the backsight (or the azimuth if you set one).</li>\n</ol>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Measuring a Vertical (Zenith) Angle</h3><ol>\n<li>With the horizontal angle set, adjust the <strong>vertical clamp and tangent screw</strong> to center the horizontal crosshair on the target (usually the center of the prism).</li>\n<li>Read the <strong>zenith angle</strong> from the display. Zenith = 0° is straight up; 90° is horizontal; >90° means looking downhill.</li>\n</ol>"}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Measuring the Distance</h3><ol>\n<li>With both horizontal and vertical angles set on the target, press <strong>\"MEAS\"</strong> or <strong>\"DIST\"</strong>.</li>\n<li>The EDM fires and returns slope distance (SD), horizontal distance (HD), and vertical difference (VD).</li>\n<li>Record all three values.</li>\n</ol>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>One Button Does It All</h3><p>Many total stations have an <strong>\"ALL\"</strong> button that simultaneously records the horizontal angle, zenith angle, and EDM distance in one shot, storing everything in the data collector. This is the most efficient method when connected to an electronic data collector.</p>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Measuring Multiple Targets from One Setup</h2><p>In practice, you often measure angles and distances to several targets from a single instrument setup — all the foresight stations visible from your position, plus sideshots to features like building corners, fences, trees, or utility poles.</p>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Procedure</h3><ol>\n<li>Orient to the backsight (zero or set azimuth)</li>\n<li>Swing to <strong>Target 1</strong>, measure angle + distance, record</li>\n<li>Swing to <strong>Target 2</strong>, measure angle + distance, record</li>\n<li>Continue for all targets</li>\n<li>Swing <strong>back to the backsight</strong> and re-read the horizontal angle. It should still read 0°00′00″ (or your set azimuth). If it has drifted, the instrument may have been bumped — you must re-orient and re-measure.</li>\n</ol><p>This <strong>closing check</strong> on the backsight is critical. It confirms that the instrument''s orientation was stable throughout all your measurements.</p>"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>The Importance of Face Left / Face Right (D&R)</h2><p>For traverse angles and any measurement that requires high accuracy, you should measure in <strong>both face positions</strong> (Direct and Reverse). You learned the theory in SRVY 1341; today you practice it hands-on:</p><ol>\n<li><strong>Face Left (Direct):</strong> Measure the angle to each target with the vertical circle on the left side of the telescope. Record all readings.</li>\n<li><strong>Plunge the telescope</strong> (rotate it 180° vertically) and rotate 180° horizontally.</li>\n<li><strong>Face Right (Reverse):</strong> Re-measure the angle to each target. The Face Right horizontal reading should differ from Face Left by approximately 180°.</li>\n<li><strong>Compute the mean:</strong> (Face Left + (Face Right − 180°)) / 2 for each angle.</li>\n</ol><p>This eliminates collimation error, trunnion axis tilt, and vertical circle index error — the three systematic instrumental errors.</p>"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Configuring Instrument Settings</h2><p>Before starting measurements, verify these settings in the total station''s menu:</p>"}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'table', '{"headers":["Setting","What to Check","Why"],"rows":[["Distance units","Meters or US Survey Feet","Must match your project units. Mixing units is a common blunder."],["Angle units","Degrees-Minutes-Seconds (DMS) vs. decimal degrees vs. gons","DMS is standard for US surveying"],["Zenith vs. vertical angle","Zenith (0° up) vs. vertical (0° horizontal)","Affects slope-to-horizontal conversion; US standard is zenith"],["EDM mode","Standard (prism), reflectorless, or tracking","Must match your target type"],["Prism constant","0, −30, or other value","Must match the prism being used"],["Atmospheric corrections","Temperature and pressure","Enter actual values measured at the instrument"],["Compensator","On/off, single-axis or dual-axis","Should be ON for normal work"]]}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Recording Your Measurements</h2><p>For each setup (occupied station), your field book should contain:</p>"}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Example"],"rows":[["Station occupied","STA 2"],["HI","1.487 m"],["Backsight station","STA 1"],["Backsight azimuth (if set)","47°15′30″"]]}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<p>For each target measured:</p>"}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Example"],"rows":[["Target station","STA 3"],["HR (prism height)","1.800 m"],["HA — Face Left","92°17′34″"],["HA — Face Right","272°17′40″"],["HA — Mean","92°17′37″"],["ZA — Face Left","89°42′15″"],["ZA — Face Right","270°17′49″"],["ZA — Mean","89°42′13″"],["SD (mean of 3+)","187.342 m"],["HD (computed)","187.340 m"]]}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Today''s Lab Exercise</h2><p>You will set up the total station at a designated control point on campus, orient to a backsight, and measure angles and distances to at least <strong>four targets</strong>. You will measure each target in <strong>both Face Left and Face Right</strong>, compute the mean angles, and verify that the D&R discrepancies are within the instrument''s stated accuracy. Finally, you will close on the backsight to verify that the orientation was stable throughout.</p>"}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc02b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week you apply these total station skills to <strong>differential leveling</strong> — determining precise elevation differences between points using an automatic level and leveling rod. While the total station can compute elevations from zenith angles and distances, dedicated leveling instruments achieve much higher vertical accuracy for benchmark-to-benchmark work.</p>"}'::jsonb, 34, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc02b03-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1335_wk4.sql — Lesson: acc02b04-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc02b04-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Mastering Angular Measurement</h2><p>Last week you measured angles with a total station — pressing a button and reading a number from the display. This week you learn the <em>theory and technique</em> behind those numbers. You will work with a theodolite (or use the total station in angle-only mode), practice multiple methods of turning angles, and learn precision techniques like the <strong>repetition method</strong> and <strong>closing the horizon</strong> that have been cornerstones of surveying for over a century.</p><p>Understanding these methods deeply matters for two reasons: (1) the Texas RPLS licensing exam tests angular measurement theory extensively, and (2) when you encounter discrepancies in the field, you need to know <em>why</em> an angle might be wrong, not just that it is.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Theodolite vs. Total Station</h2><p>A <strong>theodolite</strong> is an instrument designed specifically for measuring horizontal and vertical angles. A <strong>total station</strong> adds an EDM to a theodolite. For angle measurement, they are functionally identical — the same circles, clamps, tangent screws, and reading systems.</p>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'table', '{"headers":["Feature","Theodolite","Total Station"],"rows":[["Horizontal angles","Yes","Yes"],["Vertical/zenith angles","Yes","Yes"],["Electronic distance (EDM)","<strong>No</strong>","Yes"],["Data storage","Manual (field book)","Internal or data collector"],["Typical use today","Precise angle work, teaching","All surveying tasks"],["Circle reading","Optical micrometer or electronic","Electronic encoder"]]}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<p>In this lab, the techniques you learn apply equally to both instruments. Whether the circle is read through an optical micrometer or from an LCD display, the angular measurement methods are the same.</p>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Reading the Circles</h2>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Horizontal Circle</h3><p>The horizontal circle measures angles in the horizontal plane. It is graduated from 0° to 360° and reads clockwise when viewed from above. When you turn the instrument to the right (clockwise), the reading increases.</p>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Vertical Circle</h3><p>The vertical circle measures the tilt of the telescope. Most modern instruments display the <strong>zenith angle</strong>:</p><ul>\n<li><strong>0°</strong> = telescope pointing straight up</li>\n<li><strong>90°</strong> = telescope horizontal</li>\n<li><strong>180°</strong> = telescope pointing straight down</li>\n</ul><p>Some older instruments use a <strong>vertical angle</strong> convention where 0° = horizontal, positive = upward, negative = downward. Always confirm which convention your instrument uses before recording data.</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Optical Micrometer Reading (Older Theodolites)</h3><p>Older theodolites use an <strong>optical micrometer</strong> viewed through a small eyepiece near the main telescope. You see two images of the circle graduation, and turn a micrometer knob until the images align. The micrometer scale then displays the minutes and seconds. This skill is less common today but may appear on licensing exams and in some field situations.</p>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Methods of Measuring Horizontal Angles</h2>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Method 1: Angle to the Right (Direction Method)</h3><p>This is the most common method for modern surveying. All angles are measured <strong>clockwise</strong> from the backsight to the foresight.</p><ol>\n<li>Sight the <strong>backsight</strong> and set the horizontal circle to 0°00′00″ (or a known azimuth).</li>\n<li>Release the horizontal clamp and turn <strong>clockwise</strong> to the foresight.</li>\n<li>Lock the clamp and use the tangent screw for precise pointing.</li>\n<li>Read the horizontal circle. This is the <strong>angle to the right</strong>.</li>\n</ol><p><strong>Advantages:</strong> Unambiguous (always clockwise), directly converts to azimuths, standard for traverse work.</p>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Method 2: Deflection Angles</h3><p>A <strong>deflection angle</strong> is the angle from the prolongation of the incoming line to the outgoing line. It measures how far the new direction <em>deflects</em> from straight ahead.</p><ol>\n<li>Sight the <strong>backsight</strong> with the telescope <strong>inverted</strong> (plunged). This puts you looking along the prolongation of the backsight line — i.e., \"straight ahead.\"</li>\n<li>Rotate to the <strong>foresight</strong> in the normal (direct) position.</li>\n<li>Read the angle. If you turned clockwise, it is a <strong>right deflection (R)</strong>. If counterclockwise, it is a <strong>left deflection (L)</strong>.</li>\n</ol><p><strong>Check:</strong> For a closed traverse, the algebraic sum of deflection angles = 360° (counting right as positive and left as negative).</p><p><strong>Use:</strong> Primarily for route surveys (highways, railroads, pipelines) where you follow a linear corridor.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Method 3: Interior Angles</h3><p><strong>Interior angles</strong> are measured inside the closed polygon of a traverse.</p><ol>\n<li>At each station, sight the <strong>backsight</strong>.</li>\n<li>Turn to the <strong>foresight</strong>, measuring the angle on the <em>interior</em> side of the traverse.</li>\n</ol><p><strong>Check:</strong> Sum of interior angles = (n − 2) × 180° for an n-sided polygon.</p><p><strong>Use:</strong> Standard for closed loop (property) traverses.</p>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Closing the Horizon</h2><p><strong>Closing the horizon</strong> is a powerful check on angular measurements at a station where you measure angles to three or more targets. The procedure:</p><ol>\n<li>Set 0° on the first target (A)</li>\n<li>Turn clockwise to target B and read the angle (e.g., 73°15′22″)</li>\n<li>Turn clockwise to target C and read the angle (e.g., 192°41′08″)</li>\n<li>Turn clockwise <strong>back to target A</strong> — the reading should be <strong>360°00′00″</strong> (or very close to it)</li>\n</ol><p>The difference between 360° and the final reading is the <strong>horizon closure error</strong>. It should be within the instrument''s accuracy. If you measure n angles around the full circle, the closure check is:</p><p style=\"text-align:center;\"><strong>Sum of all measured angles around the horizon = 360°00′00″</strong></p><p>This check catches blunders in individual angles. If the closure is outside tolerance, one or more angles must be re-measured.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Example</h3>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'table', '{"headers":["Target","Circle Reading","Angle"],"rows":[["A (start)","0°00′00″","—"],["B","73°15′22″","73°15′22″"],["C","192°41′08″","119°25′46″"],["A (close)","360°00′06″","167°18′58″"],["<strong>Sum of angles:</strong>","<strong>360°00′06″</strong>"]]}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<p>Horizon closure error = 6″ — well within the tolerance of a 5″ instrument.</p>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>The Repetition Method</h2><p>The <strong>repetition method</strong> (also called the method of repetitions) improves angular precision by measuring the same angle multiple times and <em>accumulating</em> the readings on the circle without resetting to zero. The accumulated total is then divided by the number of repetitions to get the mean angle.</p>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Why It Works</h3><p>Each individual reading has a random pointing error. By accumulating n repetitions and dividing by n, the random errors tend to cancel, and the mean angle is more precise than any single reading by a factor of approximately √n.</p>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Procedure (6 repetitions)</h3><p><strong>First set (3 Direct / Face Left):</strong></p><ol>\n<li>Sight the backsight and set the circle to 0°00′00″. Record the initial reading (R₁ = 0°00′00″).</li>\n<li>Turn clockwise to the foresight and read the angle (e.g., 87°14′20″). Do NOT reset the circle.</li>\n<li>Release the <strong>lower clamp</strong> (which controls the circle) and turn the instrument back to the backsight without changing the circle reading.</li>\n<li>Lock the lower clamp, sight the backsight with the tangent screw.</li>\n<li>Release the <strong>upper clamp</strong> (which turns the telescope relative to the circle) and turn to the foresight again. The reading is now the accumulated value of approximately 2 × 87°14′20″ = 174°28′40″.</li>\n<li>Repeat one more time to get 3 repetitions. The accumulated reading should be approximately 3 × 87°14′20″ = 261°43′00″.</li>\n</ol><p><strong>Second set (3 Reverse / Face Right):</strong></p><ol>\n<li>Plunge the telescope (transit to Face Right).</li>\n<li>Continue accumulating 3 more repetitions in the reverse position, starting from the last Face Left reading.</li>\n<li>After 6 total repetitions, read the final accumulated circle value (e.g., 523°26′06″ — this has gone past 360°, so the actual accumulated value is 523°26′06″).</li>\n</ol><p><strong>Compute the mean:</strong></p><p style=\"text-align:center;\"><strong>Mean angle = Accumulated reading / number of repetitions = 523°26′06″ / 6 = 87°14′21″</strong></p><p>Note: If the accumulated reading passes through 360°, you must add 360° (or 720°, etc.) before dividing. The number of full turns is known from the number of repetitions and the approximate angle.</p>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Practical Notes</h3><ul>\n<li>The minimum number of repetitions is usually <strong>2 D + 2 R = 4 total</strong> for boundary surveys.</li>\n<li>For higher accuracy, use <strong>3 D + 3 R = 6 total</strong> or more.</li>\n<li>The D&R split eliminates systematic instrument errors (collimation, trunnion axis tilt).</li>\n<li>Record the initial and final accumulated readings in your field book. Also record intermediate readings for error checking.</li>\n</ul>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Comparing the Methods</h2>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'table', '{"headers":["Method","Precision Improvement","Eliminates Systematic Errors?","Use Case"],"rows":[["Single D&R","None (just one measurement)","Yes (collimation, trunnion, VCI)","Routine work"],["Repetition (n reps)","~√n improvement","Yes (if D&R included)","Higher precision needed"],["Direction method (multiple sets)","~√n improvement","Yes (if D&R + circle advance)","Highest precision control surveys"]]}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Sources of Angular Error</h2><p>Understanding error sources helps you diagnose problems in the field:</p>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Systematic Errors (Eliminated by D&R)</h3><ul>\n<li><strong>Collimation error:</strong> The line of sight is not perpendicular to the trunnion axis. Effect: angles read consistently too large or too small in one face.</li>\n<li><strong>Trunnion axis tilt:</strong> The horizontal axis is not truly horizontal. Effect: errors in horizontal angles, especially at steep zenith angles.</li>\n<li><strong>Vertical circle index error:</strong> The zero of the vertical circle is offset. Effect: zenith angles are consistently off in one face.</li>\n</ul>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Random Errors (Reduced by Repetition)</h3><ul>\n<li><strong>Pointing error:</strong> Inability to aim at exactly the same point every time. Affected by magnification, target size, atmospheric conditions, and observer skill.</li>\n<li><strong>Reading error:</strong> For optical micrometers, imprecision in aligning the micrometer images. For electronic instruments, typically ±1 least count.</li>\n<li><strong>Centering error:</strong> The instrument or target is not exactly over the station mark. Produces angular error proportional to offset/distance.</li>\n</ul>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Blunders</h3><ul>\n<li>Sighting the wrong target</li>\n<li>Reading the wrong circle (horizontal vs. vertical)</li>\n<li>Transposing digits when recording</li>\n<li>Not properly locking clamps before using tangent screws</li>\n</ul>"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Recording Angular Measurements</h2><p>For each angle measured, your field book should contain:</p>"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Example"],"rows":[["Station occupied","STA B"],["Backsight station","STA A"],["Foresight station","STA C"],["Method used","3D + 3R repetitions"],["Initial circle reading","0°00′00″"],["Accumulated reading after n reps","523°26′06″"],["Number of repetitions","6"],["Mean angle","87°14′21″"],["Horizon closure (if applicable)","+6″"]]}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Today''s Lab Exercise</h2><p>You will practice three exercises:</p><ol>\n<li><strong>Angles to the right:</strong> Measure angles from a setup to 4 targets using single D&R.</li>\n<li><strong>Closing the horizon:</strong> Sum the individual angles between consecutive targets around the full circle and verify the sum equals 360°.</li>\n<li><strong>Repetition method:</strong> Measure one angle using 3D + 3R (6 repetitions) and compare the mean to your single D&R value.</li>\n</ol>"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc02b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week you begin <strong>differential leveling</strong> — using an automatic level and leveling rod to precisely determine elevation differences between points. Angular measurement gives you the horizontal framework; leveling gives you the vertical dimension.</p>"}'::jsonb, 29, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc02b04-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1335_wk5.sql — Lesson: acc02b05-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc02b05-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Putting Angular Measurement into Practice</h2><p>Last week you learned the theory of angular measurement — angles to the right, deflection angles, interior angles, closing the horizon, and the repetition method. This week you take those methods into the field and execute them on a real multi-station figure. By the end of today, you will have measured a complete set of horizontal angles, computed angular closure, and evaluated whether your fieldwork meets accuracy standards.</p><p>This lab is the first exercise where you combine <strong>all</strong> of the skills from the previous weeks: instrument setup, orientation, angle turning, D&R measurement, field note recording, and quality control. The goal is not just to get numbers — it is to get <em>good</em> numbers and to <em>prove</em> that they are good by computing closure.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Today''s Field Setup</h2><p>The instructor has established a <strong>multi-station figure</strong> on campus — typically a closed polygon with 4 to 6 stations marked by hubs and tacks or concrete monuments. You will occupy each station, measure the interior angle (or angle to the right) using the repetition method, and record everything in your field book.</p>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Crew Organization</h3><p>Each crew should have:</p><ul>\n<li><strong>Instrument operator:</strong> Sets up the total station, levels, centers, measures angles</li>\n<li><strong>Rod person(s):</strong> Holds the prism pole plumb over the backsight and foresight stations</li>\n<li><strong>Recorder:</strong> Records all readings in the field book, computes running checks</li>\n</ul><p>Rotate roles so every crew member gets time on the instrument. The recorder role is just as critical as the operator — a recording blunder wastes the operator''s careful measurement.</p>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Measurement Procedure at Each Station</h2><p>At every station in the figure, follow this procedure:</p>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 1: Set Up</h3><ol>\n<li>Place the tripod over the station mark, mount the tribrach and total station</li>\n<li>Rough-level with the circular bubble, center with the optical plummet</li>\n<li>Fine-level with the plate bubble and leveling screws</li>\n<li>Iterate centering and leveling until both are satisfied</li>\n<li>Measure and record HI</li>\n</ol>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 2: Orient and Measure — 2D + 2R Repetitions</h3><p>For this lab, you will measure each angle using <strong>2 Direct + 2 Reverse = 4 repetitions</strong>:</p><h4>Direct (Face Left) — 2 repetitions</h4><ol>\n<li>Sight the <strong>backsight</strong>. Set the circle to 0°00′00″. Record the initial reading.</li>\n<li>Turn clockwise to the <strong>foresight</strong>. Read and record the angle (e.g., 92°17′34″).</li>\n<li>Release the <strong>lower clamp</strong>, swing back to the backsight <em>without</em> changing the circle reading.</li>\n<li>Lock the lower clamp, fine-point on the backsight with the lower tangent screw.</li>\n<li>Release the <strong>upper clamp</strong>, turn to the foresight again. The circle now accumulates: approximately 2 × 92°17′34″ = 184°35′08″. Record this accumulated reading.</li>\n</ol><h4>Reverse (Face Right) — 2 repetitions</h4><ol>\n<li><strong>Plunge the telescope</strong> (transit to Face Right).</li>\n<li>Continue accumulating: return to backsight via lower clamp, turn to foresight via upper clamp. Two more repetitions.</li>\n<li>After 4 total repetitions, read the final accumulated value (e.g., 369°10′12″).</li>\n</ol><h4>Compute the Mean</h4><ol>\n<li>The circle has passed 360° once (since 4 × 92° ≈ 369°). True accumulated = 369°10′12″ (no need to add 360° since the accumulated ≈ 369° and expected ≈ 369°). Wait — 4 × 92°17′34″ = 369°10′16″. The display reads 369°10′12″, so the accumulated value is 369°10′12″.</li>\n<li>Mean angle = 369°10′12″ / 4 = 92°17′33″</li>\n</ol><p>Record the initial reading, intermediate readings (optional but recommended), final accumulated reading, number of repetitions, and computed mean.</p>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 3: Record and Move</h3><ol>\n<li>Record all data in the field book (see recording format below)</li>\n<li>Pack up the instrument and move to the next station</li>\n<li>The rod persons move their poles to the new backsight and foresight positions</li>\n</ol>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Angular Closure Computation</h2><p>After measuring angles at all stations, compute the angular closure <strong>in the field</strong> before leaving the site:</p>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>For Interior Angles</h3><p style=\"text-align:center; font-size:1.1em;\"><strong>Expected sum = (n − 2) × 180°</strong></p><p style=\"text-align:center;\"><strong>Angular misclosure = Measured sum − Expected sum</strong></p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Allowable Misclosure</h3><p style=\"text-align:center;\"><strong>Allowable = K × √n</strong></p><p>where K depends on the accuracy standard and n is the number of angles.</p><p>For this lab exercise with a 5″ total station at third-order Class I (K = 5″):</p>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'table', '{"headers":["Stations (n)","Expected Sum","Allowable Misclosure"],"rows":[["4","360°","5″ × √4 = 10″"],["5","540°","5″ × √5 = 11.2″"],["6","720°","5″ × √6 = 12.2″"]]}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<p>If your misclosure exceeds the allowable value, you must <strong>re-measure</strong> before leaving the field. Start with the angle measured under the worst conditions (longest sightlines, most wind, poorest visibility).</p>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Field Note Format for This Lab</h2><p>Your field book should contain the following for each station:</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Left Page (Data)</h3>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'table', '{"headers":["Item","Example"],"rows":[["Station occupied","STA B"],["HI","1.523 m"],["Backsight","STA A"],["Foresight","STA C"],["Method","2D + 2R"],["Initial circle reading","0°00′00″"],["After 1st D rep","92°17′34″"],["After 2nd D rep","184°35′10″"],["After 1st R rep","276°52′42″"],["After 2nd R rep (final)","369°10′12″"],["Number of reps","4"],["Mean angle","92°17′33″"]]}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Right Page (Sketch)</h3><p>Draw a plan-view sketch of the entire figure showing:</p><ul>\n<li>All station locations (labeled)</li>\n<li>Traverse lines connecting stations</li>\n<li>North arrow</li>\n<li>Approximate angle values at each station</li>\n<li>Reference features (buildings, roads, trees) for context</li>\n</ul>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Quality Control Checklist</h2><p>Before leaving <strong>each station</strong>, verify:</p><ul>\n<li>☐ D&R discrepancy is within instrument specification (the difference between Face Left and Face Right accumulated values, normalized, should be small)</li>\n<li>☐ All intermediate readings are recorded</li>\n<li>☐ Station ID, backsight, and foresight are correct</li>\n<li>☐ HI is recorded</li>\n</ul><p>Before leaving the <strong>field site</strong>:</p><ul>\n<li>☐ Angles at all stations are measured</li>\n<li>☐ Running sum of angles is computed</li>\n<li>☐ Angular misclosure is computed and within tolerance</li>\n<li>☐ If misclosure exceeds tolerance, suspect angle(s) have been re-measured</li>\n<li>☐ Sketch is complete</li>\n</ul>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Common Mistakes in This Lab</h2>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'table', '{"headers":["Mistake","Consequence","Prevention"],"rows":[["Forgetting to use the lower clamp when returning to backsight","Circle resets — accumulated value is lost","Practice the lower-clamp/upper-clamp sequence before starting"],["Not plunging the telescope between D and R sets","Systematic errors not cancelled","Physically verify the vertical circle reads >180° in Face Right"],["Moving the prism pole before all measurements from a station are complete","Inconsistent backsight/foresight positions","Communicate clearly with rod person; finish all reps before signaling \"move\""],["Recording the wrong accumulated reading","Mean angle is wrong","Have the recorder read back the value to the instrument operator"],["Not computing angular closure before leaving the field","Discovering a blown angle back at the office, requiring a return trip","Compute the running sum as you go; check closure at the last station"]]}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>After the Lab: Computation</h2><p>Back at the desk (or in the field if time permits), complete the following computations:</p><ol>\n<li><strong>Tabulate all mean angles</strong> from each station</li>\n<li><strong>Sum the angles</strong> and compute the misclosure against (n − 2) × 180°</li>\n<li><strong>Check the allowable misclosure</strong> for your accuracy standard</li>\n<li><strong>If within tolerance:</strong> distribute the misclosure equally to balance the angles (this prepares them for azimuth computation in a future lab)</li>\n<li><strong>Report:</strong> tabulated raw and balanced angles, misclosure, allowable, and pass/fail evaluation</li>\n</ol>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc02b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week you combine angle measurement with distance measurement for a complete <strong>traverse</strong> — measuring both angles and distances at every station of a closed figure. This week''s angle skills feed directly into that exercise. The better your angle technique, the better your traverse will close.</p>"}'::jsonb, 20, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc02b05-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk0.sql — Lesson: acc03b00-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b00-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Welcome to SRVY 1341 — Land Surveying</h2><p>Welcome to <strong>SRVY 1341: Land Surveying</strong> at Austin Community College. This course is the core lecture companion to <em>SRVY 1335 (Land Surveying Applications Lab)</em>, and together they form the foundation of your traversing, boundary, and adjustment skills.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Course Description</h3><p>A study of the measurement and determination of boundaries, areas, shapes, and location through traversing techniques. Instruction in a variety of adjustment methods using programmed and non-programmed hand-held calculators and computers. Methods of traversing and adjustment of errors according to prevailing and applicable professional standards and the standards of the Texas Board of Professional Engineers and Land Surveyors.</p>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Prerequisites &amp; Corequisites</h3>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'table', '{"headers":["Requirement","Course","Notes"],"rows":[["<strong>Prerequisite</strong>","SRVY 1301 — Introduction to Surveying","Must be completed before enrolling"],["<strong>Corequisite</strong>","SRVY 1335 — Land Surveying Applications (Lab)","Must be taken concurrently"]]}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>What You Will Learn</h3><p>Over the next 16 weeks, you will master the following major topic areas:</p><ul>\n  <li><strong>Distance Measurement &amp; Corrections</strong> — Chain/tape measurement, temperature, tension, and sag corrections; EDM principles</li>\n  <li><strong>Traverse Types &amp; Planning</strong> — Open, closed-loop, and connecting traverses; station selection; accuracy standards</li>\n  <li><strong>Traverse Field Procedures</strong> — Angle measurement, total station operation, field notes, direct &amp; reverse readings</li>\n  <li><strong>Traverse Computations</strong> — Azimuth propagation, latitude &amp; departure calculation, linear error of closure, relative precision</li>\n  <li><strong>Traverse Adjustment</strong> — Compass (Bowditch) rule, transit rule, coordinate adjustment</li>\n  <li><strong>Coordinate Geometry (COGO)</strong> — Inverse computations, intersections, coordinate transformations</li>\n  <li><strong>Area Computation</strong> — Coordinate method, DMD/DPD method, area by coordinates</li>\n  <li><strong>Boundary Surveying</strong> — Retracement principles, deed interpretation, monument hierarchy</li>\n  <li><strong>Professional Standards</strong> — TBPELS rules, ALTA/NSPS standards, accuracy requirements</li>\n</ul>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>16-Week Semester Overview</h3>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'table', '{"headers":["Week","Topic"],"rows":[["0","Course Introduction (this lesson)"],["1","Distance Measurement — Chaining &amp; Tape Corrections"],["2","Traversing Fundamentals — Types &amp; Planning"],["3","Traverse Field Procedures — Angles &amp; Instruments"],["4","Traverse Computations — Azimuths, Latitudes &amp; Departures"],["5","Error of Closure &amp; Relative Precision"],["6","Traverse Adjustment — Compass Rule"],["7","Traverse Adjustment — Transit Rule &amp; Comparison"],["8","<strong>Midterm Exam</strong>"],["9","Coordinate Geometry — Inverse Computations"],["10","Coordinate Geometry — Intersections"],["11","Area Computation Methods"],["12","Boundary Determination &amp; Retracement"],["13","Subdivision &amp; Legal Descriptions"],["14","Professional Standards &amp; TBPELS Compliance"],["15","Review &amp; Exam Preparation"],["16","<strong>Final Exam</strong>"]]}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>What You Need</h3><ul>\n  <li><strong>Textbook:</strong> <em>Elementary Surveying</em> by Ghilani (or <em>Surveying Fundamentals</em> by Nathanson)</li>\n  <li><strong>Calculator:</strong> Scientific calculator with trigonometric functions (TI-30X or similar)</li>\n  <li><strong>Supplies:</strong> Engineering field notebook, pencils, protractor</li>\n</ul>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b00-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Grading Overview</h3><ul>\n  <li>Weekly Quizzes: 20%</li>\n  <li>Homework &amp; Practice Problems: 20%</li>\n  <li>Midterm Exam: 25%</li>\n  <li>Final Exam: 35%</li>\n</ul><p>Review the resources and videos below to get oriented, then click <strong>Continue to Next Lesson</strong> to begin Week 1: Distance Measurement.</p>"}'::jsonb, 8, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b00-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk1.sql — Lesson: acc03b01-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b01-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 1: Distance Measurement — Chaining &amp; Tape Corrections</h2><p>Accurate distance measurement is the foundation of every survey. Before electronic distance measurement (EDM) became standard, all distances were measured with <strong>steel chains</strong> or <strong>steel tapes</strong> — and even today, tape measurement remains a critical skill tested on licensing exams and used in short-range field checks.</p><p>A steel surveying tape is typically 100 feet or 30 meters long. It is manufactured to be exactly that length under <strong>standard conditions</strong>: a temperature of <strong>68°F (20°C)</strong>, a pull of <strong>10 to 20 pounds</strong> (depending on the tape), and full support along its length (no sag). When field conditions differ from these standards, the tape physically changes length, and the surveyor must apply <strong>corrections</strong> to obtain the true distance.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Measuring with a Chain/Tape — Proper Procedure</h3><p>The fundamental rules of chain measurement have not changed in centuries:</p><ol>\n  <li><strong>Apply Proper Tension:</strong> The tape must be pulled with the correct amount of force — typically <strong>20 to 25 pounds</strong> of tension (or whatever the tape was standardized at). Too little tension leaves slack; too much stretches the tape beyond its calibrated length. A spring balance (tension handle) should be used to ensure consistent pull.</li>\n\n  <li><strong>Always Measure Distances Twice:</strong> Every distance is measured once <strong>forward</strong> and once <strong>back</strong> to catch mistakes. The two measurements should agree within the required tolerance. This is the surveyor''s equivalent of <em>\"measure twice, cut once.\"</em> If forward and back measurements disagree beyond tolerance, the measurement must be repeated until they do.</li>\n\n  <li><strong>Align the Tape:</strong> The tape must be held on line between the two points. Range poles or plumb bobs are used to keep the tape aligned over the correct ground points.</li>\n\n  <li><strong>Read and Record Correctly:</strong> Read the tape at the correct graduation. Call out and independently record each reading. Transposed digits and misread graduations are the most common blunders in taping.</li>\n\n  <li><strong>Keep the Tape Level (or Apply Slope Correction):</strong> If the tape is held level, horizontal distance is measured directly. If the terrain is sloped, either break the chain into level segments (''breaking chain'') or measure the slope distance and reduce it to horizontal using the slope angle or elevation difference.</li>\n</ol>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Why Corrections Are Necessary</h3><p>A steel tape is a <strong>physical object</strong> — it expands and contracts with temperature, stretches under tension, and curves under its own weight. These are <strong>systematic errors</strong>: they always push the measurement in the same direction for the same conditions, and they can be mathematically corrected once the conditions are known.</p><p>The three primary chain corrections are:</p><ul>\n  <li><strong>Temperature Correction (C<sub>t</sub>)</strong> — accounts for thermal expansion/contraction</li>\n  <li><strong>Tension/Pull Correction (C<sub>p</sub>)</strong> — accounts for stretching beyond the standard pull</li>\n  <li><strong>Sag Correction (C<sub>s</sub>)</strong> — accounts for the tape hanging in a catenary curve</li>\n</ul>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Temperature Correction</h3><p>Steel expands when heated and contracts when cooled. The coefficient of thermal expansion for steel is approximately <strong>0.00000645 per °F</strong> (6.45 × 10<sup>−6</sup> /°F). Standard tapes are manufactured at <strong>68°F</strong>.</p>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>C<sub>t</sub> = 0.00000645 × (T<sub>F</sub> − 68) × L</strong>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<p>Where:</p><ul>\n  <li><strong>C<sub>t</sub></strong> = correction in feet due to temperature</li>\n  <li><strong>T<sub>F</sub></strong> = field temperature in °F</li>\n  <li><strong>L</strong> = measured distance in feet</li>\n  <li><strong>68°F</strong> = standard temperature at which the tape was calibrated</li>\n</ul><h4>Sign Convention</h4><ul>\n  <li><strong>Above 68°F:</strong> The tape is longer than standard → it spans more ground per graduation → readings are <strong>too short</strong> → correction is <strong>positive</strong> (add to measured distance)</li>\n  <li><strong>Below 68°F:</strong> The tape is shorter than standard → it spans less ground → readings are <strong>too long</strong> → correction is <strong>negative</strong> (subtract from measured distance)</li>\n</ul><h4>Example 1 — Hot Day</h4><p>Observed distance: <strong>357.22 ft</strong>, Field temperature: <strong>88°F</strong></p><p>C<sub>t</sub> = 0.00000645 × (88 − 68) × 357.22 = 0.00000645 × 20 × 357.22 = <strong>+0.046 ft</strong></p><p>Corrected distance = 357.22 + 0.046 = <strong>357.27 ft</strong></p><h4>Example 2 — Cold Day</h4><p>Observed distance: <strong>357.22 ft</strong>, Field temperature: <strong>48°F</strong></p><p>C<sub>t</sub> = 0.00000645 × (48 − 68) × 357.22 = 0.00000645 × (−20) × 357.22 = <strong>−0.046 ft</strong></p><p>Corrected distance = 357.22 + (−0.046) = <strong>357.17 ft</strong></p><p>Notice how the same tape, the same distance, but a 40°F temperature difference produces a total spread of 0.10 ft (about 1.2 inches). On a 1,000-foot traverse, this would be even larger. <strong>Temperature correction is never optional on precision work.</strong></p>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Tension (Pull) Correction</h3><p>If you pull the tape harder than the standard tension, it stretches; if you pull lighter, it sags more. The tension correction accounts for the elastic deformation of the tape:</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>C<sub>p</sub> = (P − P<sub>s</sub>) × L / (A × E)</strong>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<p>Where:</p><ul>\n  <li><strong>C<sub>p</sub></strong> = correction in feet due to tension</li>\n  <li><strong>P</strong> = applied tension in pounds</li>\n  <li><strong>P<sub>s</sub></strong> = standard tension (from tape specifications) in pounds</li>\n  <li><strong>L</strong> = measured distance in feet</li>\n  <li><strong>A</strong> = cross-sectional area of the tape in square inches</li>\n  <li><strong>E</strong> = modulus of elasticity of steel ≈ 29,000,000 psi (29 × 10<sup>6</sup> psi)</li>\n</ul><h4>Sign Convention</h4><ul>\n  <li><strong>P &gt; P<sub>s</sub>:</strong> Over-pulling stretches the tape → correction is <strong>positive</strong></li>\n  <li><strong>P &lt; P<sub>s</sub>:</strong> Under-pulling means tape is too short → correction is <strong>negative</strong></li>\n</ul><h4>Example — Tension Correction</h4><p>Standard tension P<sub>s</sub> = 10 lbs, Applied tension P = 25 lbs, Distance L = 500 ft, Cross-section A = 0.005 in², E = 29,000,000 psi</p><p>C<sub>p</sub> = (25 − 10) × 500 / (0.005 × 29,000,000) = 7,500 / 145,000 = <strong>+0.052 ft</strong></p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Sag Correction</h3><p>When a tape is suspended between two supports (not lying on the ground), gravity pulls the middle downward into a <strong>catenary curve</strong>. The chord distance (straight line between endpoints) is always shorter than the tape reading. Sag correction is <strong>always negative</strong>.</p>"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>C<sub>s</sub> = −w² × L³ / (24 × P²)</strong>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<p>Where:</p><ul>\n  <li><strong>C<sub>s</sub></strong> = sag correction in feet (always negative)</li>\n  <li><strong>w</strong> = weight of tape per foot (lbs/ft)</li>\n  <li><strong>L</strong> = unsupported length in feet</li>\n  <li><strong>P</strong> = applied tension in pounds</li>\n</ul><h4>Why Sag Is Always Negative</h4><p>The tape sags into an arc. The arc is longer than the straight-line (chord) distance between the endpoints. Since the tape reading reflects the arc length, but you need the chord length, you must subtract the sag amount. Increasing tension reduces sag — there is a specific tension called the <strong>normal tension</strong> at which the sag correction exactly cancels the tension correction.</p><h4>Example — Sag Correction</h4><p>Tape weight w = 0.015 lbs/ft, Span L = 100 ft (unsupported), Tension P = 20 lbs</p><p>C<sub>s</sub> = −(0.015)² × (100)³ / (24 × (20)²) = −0.000225 × 1,000,000 / 9,600 = <strong>−0.023 ft</strong></p>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Applying All Corrections Together</h3><p>When field conditions require multiple corrections, simply add them all to the observed distance:</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>D<sub>corrected</sub> = D<sub>measured</sub> + C<sub>t</sub> + C<sub>p</sub> + C<sub>s</sub></strong>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b01-0000-0000-0000-000000000001', 'text', '{"html":"<p>Each correction has its own sign (positive or negative). Compute each one separately, then sum. <strong>Always show your work</strong> — on licensing exams and in professional practice, a clearly documented correction sheet protects you from errors and challenges.</p><h4>Combined Example</h4><p>A surveyor measures 500.00 ft on a day when T = 95°F, using a 25-lb pull on a tape standardized at P<sub>s</sub> = 10 lbs, A = 0.005 in², w = 0.015 lbs/ft, fully supported (no sag).</p><ul>\n  <li>C<sub>t</sub> = 0.00000645 × (95 − 68) × 500 = 0.00000645 × 27 × 500 = +0.087 ft</li>\n  <li>C<sub>p</sub> = (25 − 10) × 500 / (0.005 × 29,000,000) = +0.052 ft</li>\n  <li>C<sub>s</sub> = 0 (tape fully supported on ground)</li>\n  <li><strong>D<sub>corrected</sub> = 500.00 + 0.087 + 0.052 + 0 = 500.14 ft</strong></li>\n</ul><p>The true distance is about 1.7 inches longer than measured. On a multi-thousand-foot traverse, these corrections accumulate and become critical for meeting accuracy standards.</p>"}'::jsonb, 14, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b01-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk2.sql — Lesson: acc03b02-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b02-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 2: Compass Surveying, DD/DMS Conversions &amp; Chaining Review</h2><p>Before the total station and GPS, the <strong>compass</strong> was one of the surveyor''s most important instruments. Even today, a compass remains essential for reconnaissance work, checking angles in the field, and forestry surveys. This week we study how a compass measures direction, the two systems used to express that direction (bearings and azimuths), the relationship between magnetic north and true north, and a hand-held instrument — the SUUNTO KB-14/360 — that every field surveyor should know how to use. We also cover the critically important skill of converting between <strong>decimal degrees (DD)</strong> and <strong>degrees-minutes-seconds (DMS)</strong>, and wrap up with a quick review of the chaining correction formulas from Week 1.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>1. Compass Survey Fundamentals</h3><p>A compass measures the horizontal angle between a line of sight and <strong>magnetic north</strong>. Compass surveys are used for:</p><ul>\n  <li><strong>Reconnaissance</strong> — quickly sketching site conditions before a full instrument survey</li>\n  <li><strong>Preliminary surveys</strong> — rough mapping for planning purposes</li>\n  <li><strong>Checking angles</strong> — independent field verification of total station readings</li>\n  <li><strong>Forestry and natural-resource work</strong> — where extreme precision is not required</li>\n</ul><h4>Types of Surveying Compasses</h4>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'table', '{"headers":["Type","Description","Typical Use"],"rows":[["<strong>Surveyor''s Compass</strong>","Mounted on a tripod with sighting vanes (slits). Reads bearings directly on a graduated circle. Historically used for boundary and land surveys in colonial America.","Historical / educational demonstrations"],["<strong>Prismatic Compass</strong>","Hand-held with a prism that lets the user read the bearing while simultaneously sighting the target. Common in military and geological fieldwork.","Military, geology, rough mapping"],["<strong>Hand/Pocket Compass (e.g., SUUNTO KB-14/360)</strong>","Small, portable, liquid-dampened capsule. Reads directly in 0°–360° (azimuth) or quadrant bearings. Accuracy typically ±0.5° to ±1°.","Reconnaissance, forestry, quick field checks"]]}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<p>All compasses share a limitation: they measure from <strong>magnetic north</strong>, which differs from <strong>true (geographic) north</strong> by an amount called <strong>declination</strong>. We will address this shortly.</p>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>2. Bearings</h3><p>A <strong>bearing</strong> expresses the direction of a line as an acute angle measured from either north or south toward east or west. The format is always:</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>N/S &lt;angle&gt; E/W</strong>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<p>Rules:</p><ul>\n  <li>The angle is always between <strong>0° and 90°</strong>.</li>\n  <li>The first letter is always <strong>N</strong> or <strong>S</strong> (the reference meridian).</li>\n  <li>The last letter is always <strong>E</strong> or <strong>W</strong> (the direction of rotation from the meridian).</li>\n</ul><h4>Examples</h4><ul>\n  <li>A line pointing northeast at 45° from north → <strong>N 45°00'' E</strong></li>\n  <li>A line pointing south-southeast at 20° from south toward east → <strong>S 20°00'' E</strong></li>\n  <li>Due east → <strong>N 90°00'' E</strong> (or equivalently S 90°00'' E)</li>\n  <li>Due north → <strong>N 00°00'' E</strong> (or N 00°00'' W — the angle is zero)</li>\n</ul>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>3. Azimuths</h3><p>An <strong>azimuth</strong> is the direction of a line measured as a clockwise angle from north, ranging from <strong>0° to 360°</strong>. Azimuths are unambiguous — every direction has exactly one azimuth value.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>Azimuth: 0° (North) → 90° (East) → 180° (South) → 270° (West) → 360°/0° (North)</strong>"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Converting Bearing to Azimuth</h4>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'table', '{"headers":["Quadrant","Bearing Format","Azimuth Formula","Example"],"rows":[["<strong>NE</strong>","N θ E","Az = θ","N 45°00'' E → Az = <strong>45°</strong>"],["<strong>SE</strong>","S θ E","Az = 180° − θ","S 30°00'' E → Az = 180° − 30° = <strong>150°</strong>"],["<strong>SW</strong>","S θ W","Az = 180° + θ","S 45°00'' W → Az = 180° + 45° = <strong>225°</strong>"],["<strong>NW</strong>","N θ W","Az = 360° − θ","N 60°00'' W → Az = 360° − 60° = <strong>300°</strong>"]]}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Converting Azimuth to Bearing</h4><ul>\n  <li><strong>0°–90°</strong> (NE quadrant): Bearing = N (azimuth)° E. Example: Az 35° → N 35°00'' E</li>\n  <li><strong>90°–180°</strong> (SE quadrant): Bearing = S (180° − azimuth)° E. Example: Az 150° → S 30°00'' E</li>\n  <li><strong>180°–270°</strong> (SW quadrant): Bearing = S (azimuth − 180°)° W. Example: Az 225° → S 45°00'' W</li>\n  <li><strong>270°–360°</strong> (NW quadrant): Bearing = N (360° − azimuth)° W. Example: Az 300° → N 60°00'' W</li>\n</ul>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>4. Fore Bearings and Back Bearings</h3><p>Every survey line has two directions: the <strong>fore bearing</strong> (direction of travel) and the <strong>back bearing</strong> (the reverse direction). To find the back bearing from a fore bearing, simply reverse both letters:</p>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>Back Bearing: swap N↔S and E↔W</strong>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Examples</h4><ul>\n  <li>Fore bearing = N 35°20'' E → Back bearing = <strong>S 35°20'' W</strong></li>\n  <li>Fore bearing = S 72°45'' W → Back bearing = <strong>N 72°45'' E</strong></li>\n</ul><p>For azimuths, the back azimuth is obtained by adding or subtracting 180°:</p>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>Back Azimuth = Azimuth ± 180°</strong><br>\n  (Add 180° if azimuth &lt; 180°; subtract 180° if azimuth ≥ 180°)"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<p>Example: Az = 45° → Back Az = 45° + 180° = <strong>225°</strong>. Az = 300° → Back Az = 300° − 180° = <strong>120°</strong>.</p>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>5. Magnetic Declination</h3><p><strong>Magnetic declination</strong> (also called <em>variation</em>) is the angle between <strong>true north</strong> (geographic north pole) and <strong>magnetic north</strong> (where the compass needle points). The Earth''s magnetic pole does not coincide with the geographic pole, and its position slowly changes over time.</p><ul>\n  <li><strong>East declination</strong>: Magnetic north is <em>east</em> of true north. The compass needle points to the right of true north.</li>\n  <li><strong>West declination</strong>: Magnetic north is <em>west</em> of true north. The compass needle points to the left of true north.</li>\n</ul><h4>Correction Formula</h4>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>True Bearing = Magnetic Bearing + East Declination</strong><br>\n  <strong>True Bearing = Magnetic Bearing − West Declination</strong>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<p>Or more concisely: <strong>True = Magnetic + Declination</strong> (treating east as positive and west as negative).</p><h4>Example</h4><p>A compass reads N 40°00'' E. The local declination is 3° East.</p><p>True bearing = 40° + 3° = <strong>N 43°00'' E</strong>.</p><p>Lines connecting points of equal declination are called <strong>isogonic lines</strong>. The line where declination is zero is the <strong>agonic line</strong>. Texas currently has approximately <strong>2°–4° east declination</strong>, meaning magnetic north points slightly east of true north across most of the state.</p>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>6. The SUUNTO KB-14/360</h3><p>The <strong>SUUNTO KB-14/360</strong> is a hand-held sighting compass widely used in forestry, reconnaissance surveying, and field checks. Key features:</p><ul>\n  <li>Reads directly in <strong>degrees 0°–360°</strong> (azimuth format)</li>\n  <li><strong>Liquid-dampened capsule</strong> — the needle settles quickly, even in windy conditions</li>\n  <li>Accuracy: <strong>±0.5°</strong> (±30'')</li>\n  <li>Compact and lightweight — fits in a shirt pocket</li>\n  <li>Sighting through a notch/window while reading the bearing through a lens</li>\n</ul><p>The KB-14/360 is not a precision instrument — it cannot replace a total station for boundary work — but it is invaluable for quick directional checks, reconnaissance, and confirming that your total station readings are in the correct quadrant.</p>"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>7. DD and DMS Conversions</h3><p>Angles can be expressed in two common formats:</p><ul>\n  <li><strong>Decimal Degrees (DD)</strong>: e.g., 47.8° — used by calculators and software</li>\n  <li><strong>Degrees-Minutes-Seconds (DMS)</strong>: e.g., 47°48''00\" — used in field notes and legal descriptions</li>\n</ul><p>There are 60 minutes in a degree and 60 seconds in a minute (just like hours on a clock).</p><h4>DD → DMS Conversion</h4><ol>\n  <li>The whole-number part is the <strong>degrees</strong>.</li>\n  <li>Multiply the decimal part by 60 — the whole-number result is the <strong>minutes</strong>.</li>\n  <li>Multiply the remaining decimal of the minutes by 60 — the result is the <strong>seconds</strong>.</li>\n</ol><h4>Worked Example 1: 47.8°</h4><ul>\n  <li>Degrees = 47°</li>\n  <li>0.8 × 60 = 48.0'' → Minutes = 48''</li>\n  <li>0.0 × 60 = 0\" → Seconds = 00\"</li>\n  <li><strong>Answer: 47°48''00\"</strong></li>\n</ul><h4>Worked Example 2: 345.678°</h4><ul>\n  <li>Degrees = 345°</li>\n  <li>0.678 × 60 = 40.68'' → Minutes = 40''</li>\n  <li>0.68 × 60 = 40.8\" → Seconds ≈ 41\"</li>\n  <li><strong>Answer: 345°40''41\"</strong></li>\n</ul><h4>DMS → DD Conversion</h4>"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>DD = Degrees + Minutes/60 + Seconds/3600</strong>"}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Worked Example 3: 43°12''15\"</h4><ul>\n  <li>DD = 43 + 12/60 + 15/3600</li>\n  <li>DD = 43 + 0.2000 + 0.004167</li>\n  <li><strong>Answer: 43.2042°</strong></li>\n</ul><h4>Worked Example 4: 128°45''30\"</h4><ul>\n  <li>DD = 128 + 45/60 + 30/3600</li>\n  <li>DD = 128 + 0.7500 + 0.008333</li>\n  <li><strong>Answer: 128.7583°</strong></li>\n</ul><p><strong>Tip:</strong> Always sanity-check your conversion. If you start with 47.8° (less than 48°), your DMS result should be 47-something — never 48°. If you start with 43°12'', your DD should be between 43.2 and 43.3.</p>"}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<h3>8. Chaining Corrections Review</h3><p>From Week 1, recall the three systematic corrections applied to steel-tape measurements:</p>"}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'callout', '{"type":"formula","text":"<strong>C<sub>t</sub> = 0.00000645 × (T<sub>F</sub> − 68) × L</strong> &nbsp; (Temperature)<br><br>\n  <strong>C<sub>p</sub> = (P − P<sub>s</sub>) × L / (A × E)</strong> &nbsp; (Tension)<br><br>\n  <strong>C<sub>s</sub> = −w² × L³ / (24 × P²)</strong> &nbsp; (Sag — always negative)"}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc03b02-0000-0000-0000-000000000001', 'text', '{"html":"<p>Corrected distance = Measured + C<sub>t</sub> + C<sub>p</sub> + C<sub>s</sub>. Each correction has its own sign.</p><p>Key reminders: Temperature correction is positive above 68°F and negative below. Tension correction is positive when over-pulling. Sag correction is <strong>always negative</strong> because the catenary arc is longer than the chord.</p>"}'::jsonb, 34, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b02-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk3.sql — Lesson: acc03b03-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b03-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 3: Magnetic Declination Review, Smartphone Compass Apps, Field Notekeeping &amp; Trade Magazines</h2><p>Last week you learned the fundamentals of compass surveying — bearings, azimuths, and the concept of magnetic declination. This week we go deeper. You will solve declination problems that require <strong>DMS arithmetic with borrowing</strong>, learn to apply <strong>secular variation</strong> to update old declination values, explore how <strong>smartphone compass apps</strong> are used in reconnaissance fieldwork, master the art of <strong>field notekeeping</strong> (the most important skill a beginning surveyor can develop), and discover the <strong>trade magazines</strong> that keep working professionals current.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>1. Magnetic Declination — Deeper Review</h2>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_01_compass_rose.svg","alt":"Compass rose showing relationship between true north and magnetic north","caption":"","alignment":"center"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<p>Recall from Week 2 that <strong>magnetic declination</strong> is the angle between true (geographic) north and magnetic north at a given location and time. It is the single most important correction in compass surveying. An uncorrected declination error of just 3° over a 1,000-foot line produces a lateral offset of about <strong>52 feet</strong> — enough to place a boundary on a neighbor''s property.</p>"}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Key Terminology Review</h3><ul>\n  <li><strong>Isogonic lines</strong> — lines on a map connecting points of equal declination</li>\n  <li><strong>Agonic line</strong> — the isogonic line where declination = 0° (magnetic north = true north); currently runs roughly from the Great Lakes through Florida</li>\n  <li><strong>East declination</strong> — magnetic north is <em>east</em> of true north (needle points right of true north)</li>\n  <li><strong>West declination</strong> — magnetic north is <em>west</em> of true north (needle points left of true north)</li>\n  <li><strong>Secular variation</strong> — the slow, predictable annual change in declination at a given location</li>\n</ul>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_02_isogonic_lines_map.svg","alt":"NOAA isogonic lines map of the United States showing lines of equal magnetic declination","caption":"","alignment":"center"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Declination Diagram</h3><p>Every USGS topographic map and most survey plats include a <strong>declination diagram</strong> showing the angular relationship between true north (★), magnetic north (MN arrow), and grid north (GN). The diagram is <em>not drawn to scale</em> — it is schematic only. Always read the numeric value printed beside the diagram.</p>"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_03_compass_needle_diagram.svg","alt":"Compass needle diagram showing magnetic north versus true north with declination angle","caption":"","alignment":"center"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_04_east_west_declination_diagram.svg","alt":"Side-by-side diagrams showing east declination (needle right of TN) and west declination (needle left of TN)","caption":"","alignment":"center"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Polaris and True North</h3><p>The most reliable field method for finding true north is <strong>observation of Polaris</strong> (the North Star). Polaris is located within about 0.7° of the celestial pole. A careful Polaris observation, corrected with published tables from the Nautical Almanac, can establish a true-north reference line accurate to better than ±15″ — far superior to any compass.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_05_declination_polaris_diagram.svg","alt":"Diagram showing Polaris near the celestial pole and how it establishes true north","caption":"","alignment":"center"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<p>In modern practice, <strong>NOAA''s World Magnetic Model (WMM)</strong> provides declination values for any location. The current model is <strong>WMM2025</strong>, updated every 5 years. You can look up declination at <em>ngdc.noaa.gov/geomag/calculators/magcalc.shtml</em>.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Master Formula</h3><p>The core relationship is simple:</p>"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>True Bearing = Magnetic Bearing + East Declination</strong><br>\n  <strong>True Bearing = Magnetic Bearing − West Declination</strong><br><br>\n  Or concisely: <strong>True = Magnetic + Declination</strong> (east = positive, west = negative)"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Secular Variation Formula</h3><p>Declination changes over time. To update a historical declination value:</p>"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Current Declination = Old Declination + (Years Elapsed × Annual Change)</strong><br>\n  <em>Where annual change carries its own sign (positive if increasing east, negative if increasing west)</em>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 1 — Basic East Declination</h3>"}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Given:</strong> Magnetic bearing = N 24°15''00″ E; Declination = 6°30''00″ East<br>\n  <strong>Find:</strong> True bearing<br><br>\n  <strong>Solution:</strong><br>\n  True = Magnetic + East Declination<br>\n  True = 24°15''00″ + 6°30''00″<br><br>\n  Seconds: 00″ + 00″ = 00″<br>\n  Minutes: 15'' + 30'' = 45''<br>\n  Degrees: 24° + 6° = 30°<br><br>\n  <strong>True bearing = N 30°45''00″ E</strong>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 2 — West Declination with Secular Variation</h3>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Given:</strong> 1985 declination = 4°15''00″ W; Annual change = 1''30″ E<br>\n  Magnetic bearing (today, 2025) = N 72°20''00″ E<br>\n  <strong>Find:</strong> Current declination, then true bearing<br><br>\n  <strong>Step 1 — Update declination:</strong><br>\n  Years elapsed = 2025 − 1985 = 40 years<br>\n  Total change = 40 × 1''30″ = 40 × 90″ = 3600″ = 60''00″ = 1°00''00″ East<br><br>\n  Since the annual change is eastward, declination is becoming less west:<br>\n  Current declination = 4°15''00″ W − 1°00''00″ = <strong>3°15''00″ W</strong><br><br>\n  <strong>Step 2 — Apply to bearing:</strong><br>\n  True = Magnetic − West Declination<br>\n  True = 72°20''00″ − 3°15''00″<br><br>\n  Seconds: 00″ − 00″ = 00″<br>\n  Minutes: 20'' − 15'' = 05''<br>\n  Degrees: 72° − 3° = 69°<br><br>\n  <strong>True bearing = N 69°05''00″ E</strong>"}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_06_example2_handwork.svg","alt":"Hand-worked solution for Example 2 showing secular variation update and declination subtraction","caption":"","alignment":"center"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 3 — DMS Subtraction with Borrowing</h3>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Given:</strong> Magnetic azimuth = 247°08''15″; Declination = 12°22''40″ West<br>\n  <strong>Find:</strong> True azimuth<br><br>\n  <strong>Solution:</strong><br>\n  True = Magnetic − West Declination<br>\n  True = 247°08''15″ − 12°22''40″<br><br>\n  <strong>Seconds:</strong> 15″ − 40″ → cannot subtract → borrow 1'' from 08'':<br>\n  &nbsp;&nbsp;Minutes become 07'', seconds become 15″ + 60″ = 75″<br>\n  &nbsp;&nbsp;75″ − 40″ = <strong>35″</strong><br><br>\n  <strong>Minutes:</strong> 07'' − 22'' → cannot subtract → borrow 1° from 247°:<br>\n  &nbsp;&nbsp;Degrees become 246°, minutes become 07'' + 60'' = 67''<br>\n  &nbsp;&nbsp;67'' − 22'' = <strong>45''</strong><br><br>\n  <strong>Degrees:</strong> 246° − 12° = <strong>234°</strong><br><br>\n  <strong>True azimuth = 234°45''35″</strong>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_07_example3_handwork.svg","alt":"Hand-worked solution for Example 3 showing DMS subtraction with double borrowing","caption":"","alignment":"center"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 4 — Two-Step: Secular Variation + Application</h3>"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Given:</strong> 1978 declination = 7°45''30″ E; Annual change = 2''15″ W<br>\n  Magnetic azimuth (today, 2024) = 156°32''10″<br>\n  <strong>Find:</strong> Current declination, then true azimuth<br><br>\n  <strong>Step 1 — Update declination:</strong><br>\n  Years elapsed = 2024 − 1978 = 46 years<br>\n  Annual change in seconds = 2''15″ = 135″<br>\n  Total change = 46 × 135″ = 6210″<br>\n  Convert: 6210″ ÷ 60 = 103''30″ = 1°43''30″ West<br><br>\n  Since the annual change is westward, declination is becoming less east:<br>\n  Current declination = 7°45''30″ E − 1°43''30″<br><br>\n  Seconds: 30″ − 30″ = 00″<br>\n  Minutes: 45'' − 43'' = 02''<br>\n  Degrees: 7° − 1° = 6°<br><br>\n  Current declination = <strong>6°02''00″ East</strong><br><br>\n  <strong>Step 2 — Apply to azimuth:</strong><br>\n  True = Magnetic + East Declination<br>\n  True = 156°32''10″ + 6°02''00″<br><br>\n  Seconds: 10″ + 00″ = 10″<br>\n  Minutes: 32'' + 02'' = 34''<br>\n  Degrees: 156° + 6° = 162°<br><br>\n  <strong>True azimuth = 162°34''10″</strong>"}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_08_example4_handwork.svg","alt":"Hand-worked solution for Example 4 showing secular variation computation and azimuth correction","caption":"","alignment":"center"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>2. Smartphone Compass Applications</h2><p>While no smartphone app replaces a total station or survey-grade GNSS receiver, several apps turn your phone into a surprisingly capable <strong>reconnaissance tool</strong>. Two apps commonly used in surveying fieldwork are <strong>Hunter Pro Compass</strong> and <strong>Theodolite</strong>.</p>"}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Hunter Pro Compass</h3><p>Hunter Pro Compass is a popular smartphone compass app that provides:</p><ul>\n  <li><strong>Magnetic and True azimuth</strong> displayed simultaneously — the app applies declination automatically using your GPS location</li>\n  <li><strong>GPS coordinates</strong> (latitude/longitude) shown on-screen</li>\n  <li><strong>Digital level bubbles</strong> — circular and linear levels help you hold the phone flat</li>\n  <li><strong>Accuracy of ±0.5°</strong> under good conditions (no nearby magnetic interference)</li>\n  <li><strong>Map view</strong> with your position and bearing line overlaid</li>\n</ul>"}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_09_hunter_pro_compass_app.svg","alt":"Hunter Pro Compass main screen showing MAG and TRUE azimuth readings, GPS coordinates, and level bubbles","caption":"","alignment":"center"}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_10_hunter_pro_map_view.svg","alt":"Hunter Pro Compass map view showing user position with bearing line overlaid on aerial imagery","caption":"","alignment":"center"}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<p><strong>Field use:</strong> Hunter Pro is excellent for quick reconnaissance — checking the approximate bearing to a property corner, verifying which direction a boundary line runs before setting up the total station, or navigating to a control monument described in a record.</p><p><strong>Limitations:</strong> Like all smartphone compasses, Hunter Pro uses the phone''s magnetometer, which is easily disturbed by nearby metal objects, vehicles, power lines, and even the phone case. Always calibrate by moving the phone in a figure-8 pattern before use. Never rely on a phone compass for final survey measurements.</p>"}'::jsonb, 34, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Theodolite App</h3><p><strong>Theodolite</strong> is a more advanced app that combines the camera viewfinder with an augmented-reality (AR) overlay showing bearing, elevation angle, GPS position, and other data directly on the live camera image.</p>"}'::jsonb, 35, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_11_theodolite_geo_photo.svg","alt":"Theodolite app geo-tagged photo showing AR overlay with bearing, elevation, and coordinates","caption":"","alignment":"center"}'::jsonb, 36, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Key Features</h4><ul>\n  <li><strong>Geo-tagged photos</strong> — every photo is stamped with GPS coordinates, bearing, elevation angle, date/time, and accuracy. Useful for documenting field conditions.</li>\n  <li><strong>A-B measurement</strong> — capture Point A, then Point B, and the app computes the bearing and distance between them (using GPS), plus the horizontal and vertical angles.</li>\n  <li><strong>Delta angle measurements</strong> — sight two targets and the app computes the angle between them, similar to turning an angle with a transit.</li>\n  <li><strong>Range finder</strong> — estimate distance to a target of known height, or height of a target at known distance.</li>\n</ul>"}'::jsonb, 37, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_12_theodolite_function_icons.svg","alt":"Theodolite app function icons showing camera, A-B measurement, calculator, and settings","caption":"","alignment":"center"}'::jsonb, 38, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>The A-B Measurement Process</h4><ol>\n  <li>Stand at Point A, aim the crosshair at your target, and tap <strong>Capture A</strong></li>\n  <li>Walk to Point B, aim at the same (or a different) target, and tap <strong>Capture B</strong></li>\n  <li>The app displays: bearing A→B, distance A→B (from GPS), elevation change, and delta angle</li>\n</ol>"}'::jsonb, 39, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_13_theodolite_capture_pointA.svg","alt":"Theodolite app capturing Point A with crosshair aimed at target and coordinates displayed","caption":"","alignment":"center"}'::jsonb, 40, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_14_theodolite_capture_pointB.svg","alt":"Theodolite app capturing Point B showing second position with distance and bearing computed","caption":"","alignment":"center"}'::jsonb, 41, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_15_theodolite_delta_angles.svg","alt":"Theodolite app delta angle result showing computed angle between two sighted targets","caption":"","alignment":"center"}'::jsonb, 42, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<p><strong>Field use:</strong> Theodolite is valuable for documenting existing conditions — photographing utility poles, manholes, fences, and building corners with embedded coordinate/bearing data. The A-B measurement feature gives rough distances useful for planning traverse legs. The delta angle feature can verify angles as a field check.</p><p><strong>Important:</strong> Smartphone GPS accuracy is typically ±3 to ±5 meters horizontally. Distances computed from smartphone GPS are <em>not survey-grade</em>. Use these tools for reconnaissance and documentation only.</p>"}'::jsonb, 43, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 44, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>3. Field Notekeeping Best Practices</h2><p>Your field book is the <strong>single most important product</strong> of any day in the field. Without accurate, complete, legible field notes, no computation can be trusted and no survey can be defended. Field notes are <strong>legal documents</strong> — they may be subpoenaed in court, presented as evidence in boundary disputes, or reviewed by the Texas Board of Professional Land Surveying in a complaint investigation.</p>"}'::jsonb, 45, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'callout', '{"type":"danger","text":"<strong>Legal Status of Field Notes:</strong> In Texas and most states, the field notes of a licensed surveyor are the <em>primary evidence</em> of what was measured and observed in the field. They take precedence over the final plat or map if a discrepancy exists. Altered or incomplete notes can be grounds for disciplinary action by the state board and can undermine a survey''s admissibility in court."}'::jsonb, 46, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Golden Rules of Field Notekeeping</h3><ol>\n  <li><strong>NEVER erase.</strong> If you make an error, draw a single line through the incorrect entry so it remains legible, write the correct value beside or above it, and <strong>initial and date</strong> the correction. This preserves the integrity of the legal record.</li>\n  <li><strong>Record at the time of measurement.</strong> Never rely on memory. Write values down immediately as they are observed or called out by the instrument operator.</li>\n  <li><strong>Use a 4H pencil.</strong> Hard lead resists smudging in the field, survives rain and sweat, and produces a permanent mark. Never use ink (it smears when wet) or a soft pencil (it smudges).</li>\n  <li><strong>Write on the RIGHT-hand page only</strong> for tabular data; use the LEFT-hand page for sketches, notes, and diagrams. This is the traditional surveyor''s field book convention.</li>\n  <li><strong>Be complete.</strong> A stranger should be able to pick up your field book and reconstruct everything you did without asking you a single question.</li>\n</ol>"}'::jsonb, 47, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Essential Field Book Components</h3><h4>Title Page</h4><p>The first page of every field book should contain: your name, company name, book number (if you use multiple books), start date, and contact information in case the book is lost.</p><h4>Table of Contents</h4><p>Maintain a running table of contents on the second and third pages. Each entry should list the project name, date, and page numbers. This allows you (or anyone) to quickly find data months or years later.</p>"}'::jsonb, 48, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_16_fieldbook_table_of_contents.svg","alt":"Example field book table of contents showing project entries with dates and page numbers","caption":"","alignment":"center"}'::jsonb, 49, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Legend and Symbols</h4><p>Include a legend page near the front of the book showing the symbols you use for common features. While standard symbols exist (see below), every surveyor should have a personal legend page in case their symbols vary slightly from the standard.</p>"}'::jsonb, 50, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_17_fieldbook_legend_symbols.svg","alt":"Field book legend page showing custom symbols for traverse points, monuments, trees, utilities, and structures","caption":"","alignment":"center"}'::jsonb, 51, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Standard Survey Symbols</h4><p>The following symbols are widely used in field sketches:</p>"}'::jsonb, 52, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'table', '{"headers":["Symbol","Feature","Description"],"rows":[["□ (open square)","Traverse point","A point occupied by the instrument"],["■ (filled rectangle)","Building","Outline approximates the building footprint"],["✕ (crossed lines)","Pine/coniferous tree","The X represents the spreading branches"],["⊙ (scalloped circle)","Deciduous tree (oak, elm)","Wavy outline suggests the leaf canopy"],["▲ (triangle)","Fire hydrant","Small solid triangle at the location"],["—W—","Water line","Dashed line with W labels"],["—G—","Gas line","Dashed line with G labels"],["—S—","Sewer line","Dashed line with S labels"],["—E—","Electric line","Dashed line with E labels"],["—M—","Irrigation main","Dashed line with M labels"],["──┤├──","Fence","Line with cross-ties at regular intervals"]]}'::jsonb, 53, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_18_standard_survey_symbols.svg","alt":"Standard survey symbols chart showing graphical representations for traverse points, buildings, vegetation types, fire hydrants, and utility lines","caption":"","alignment":"center"}'::jsonb, 54, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Page Numbering</h4><p>Number every page in the <strong>upper-right corner of the right-hand page</strong>. Left-hand pages take the same number as their facing right-hand page. Sequential, unbroken page numbers prove that no pages have been removed — critical for the legal integrity of the book.</p>"}'::jsonb, 55, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_19_fieldbook_page_numbers.svg","alt":"Field book showing proper page number placement in the upper-right corner of the right-hand page","caption":"","alignment":"center"}'::jsonb, 56, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Date, Time, Weather, and Crew</h4><p>At the top of every new day''s work (and whenever conditions change significantly), record:</p><ul>\n  <li><strong>Date</strong> — full date (e.g., 12-04-2025)</li>\n  <li><strong>Time</strong> — start time for the session</li>\n  <li><strong>Weather</strong> — temperature, cloud cover, wind, precipitation (affects atmospheric corrections and EDM accuracy)</li>\n  <li><strong>Crew</strong> — names and roles of all field personnel</li>\n</ul>"}'::jsonb, 57, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_20_fieldbook_date_weather.svg","alt":"Field book header showing date, start time, weather conditions (sunny, 40°F), and crew names","caption":"","alignment":"center"}'::jsonb, 58, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Field Sketches</h3><p>Every set of measurements should include a <strong>sketch</strong> on the left-hand page. Field sketches are <em>not</em> drawn to scale, but they should be <strong>proportional</strong> — a building that is twice as long as it is wide should look that way in your sketch.</p><p>Essential sketch elements:</p><ol>\n  <li><strong>North arrow</strong> — always include a north arrow, even if approximate</li>\n  <li><strong>Traverse lines</strong> — show the path of the survey with station labels</li>\n  <li><strong>Adjacent features</strong> — buildings, roads, fences, trees, utilities</li>\n  <li><strong>Dimensions and labels</strong> — label distances, angles, and feature names</li>\n  <li><strong>Symbol legend</strong> — use standard symbols from your legend page</li>\n</ol>"}'::jsonb, 59, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_21_fieldbook_sketch_example.svg","alt":"Example field sketch showing a traverse through a campus with buildings, trees, fence lines, and traverse stations labeled with standard symbols","caption":"","alignment":"center"}'::jsonb, 60, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Standard Lettering and Numbering</h3><p>Professional field notes use <strong>block lettering</strong> — upright, uniform capital letters formed with consistent stroke order. Neat lettering is not vanity; it prevents misreading values in the office. A poorly formed \"5\" that looks like a \"3\" can ruin an entire traverse computation.</p><p>Practice the standard stroke order for all letters A–Z and digits 0–9 until your lettering is automatic. Every surveying program in the country teaches this skill in the first week of field class.</p>"}'::jsonb, 61, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls3/cls3_22_standard_lettering_numbering.svg","alt":"Standard block lettering and numbering chart showing proper stroke order for letters A through Z and digits 0 through 9","caption":"","alignment":"center"}'::jsonb, 62, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 63, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>4. Survey Trade Magazines</h2><p>Professional development does not end with your degree. The surveying profession evolves constantly — new instruments, new software, new regulations, and new techniques. <strong>Trade magazines</strong> are the primary way working surveyors stay current.</p>"}'::jsonb, 64, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The American Surveyor</h3><p><strong>The American Surveyor</strong> (<em>amerisurv.com</em>) is a widely-read publication focused on the U.S. land surveying profession. It covers:</p><ul>\n  <li>Field techniques and equipment reviews</li>\n  <li>Boundary law and legal cases affecting surveyors</li>\n  <li>State licensing updates and continuing education opportunities</li>\n  <li>Historical articles on the development of the surveying profession</li>\n  <li>Technology features on GNSS, UAV/drone surveying, 3D scanning, and GIS integration</li>\n</ul>"}'::jsonb, 65, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>xyHt</h3><p><strong>xyHt</strong> (<em>xyht.com</em>) — the name stands for the three coordinates x, y, and height — focuses on <strong>geospatial technology</strong> with coverage spanning surveying, mapping, positioning, and spatial data. Topics include:</p><ul>\n  <li>Precision GNSS and RTK systems</li>\n  <li>UAV/drone photogrammetry and LiDAR</li>\n  <li>Machine control for construction</li>\n  <li>BIM (Building Information Modeling) integration with survey data</li>\n  <li>International geospatial projects and case studies</li>\n</ul>"}'::jsonb, 66, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Other Valuable Resources</h3>"}'::jsonb, 67, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'table', '{"headers":["Publication / Organization","Focus"],"rows":[["<strong>Professional Surveyor Magazine</strong>","General surveying practice, business management"],["<strong>Point of Beginning (POB)</strong>","Technology, field techniques, project showcases"],["<strong>TSPS (Texas Society of Professional Surveyors)</strong>","Texas-specific licensing, legislation, and continuing education"],["<strong>NSPS (National Society of Professional Surveyors)</strong>","National advocacy, standards, professional development"]]}'::jsonb, 68, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<p>As a student, start reading these publications now. Most offer free digital editions or newsletters. By the time you enter the profession, you will already have a working knowledge of current technology and industry trends that sets you apart from other entry-level candidates.</p>"}'::jsonb, 69, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 70, now(), now()),
  (gen_random_uuid(), 'acc03b03-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week we take the angles and distances you have been measuring and begin the mathematical process of computing coordinates. You will learn how to <strong>convert field angles to azimuths</strong>, compute <strong>latitudes and departures</strong>, and evaluate the <strong>error of closure</strong> in a traverse. This is where the algebra of surveying truly begins.</p>"}'::jsonb, 71, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b03-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk4.sql — Lesson: acc03b04-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b04-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 4: Instrument Care, Tripod Best Practices &amp; Maintenance Schedules</h2>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_01_compass_rose_title.svg","alt":"Compass rose showing N, S, E, W cardinal directions","caption":"","alignment":"center"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<p>This week begins with a brief review of magnetic declination, smartphone compass applications, and field notekeeping from previous classes. The main topic is <strong>instrument care</strong> — the habits and procedures that keep your equipment accurate, reliable, and long-lived. A surveying instrument will perform properly only if it is in good condition, is properly calibrated, and is used according to procedures recommended by the manufacturer. Proper care and handling is easy to do, but it takes <strong>discipline</strong> on the part of the user.</p>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Rule #1:</strong> Always read the manual for your instruments. Every manufacturer provides specific care and calibration instructions. The guidelines below are universal best practices that apply to virtually all surveying equipment."}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>1. Instrument Transport and Handling</h2>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Transporting Surveying Instruments</h3><ul>\n  <li><strong>Always transport the instrument in its case</strong> when moving from setup to setup</li>\n  <li><strong>Always keep the instrument in its case</strong> when not in use</li>\n  <li>Place the instrument case in a location in the vehicle that is <strong>safe from bouncing around and from vibrations</strong></li>\n  <li><strong>Do not carry any instrument while it is attached to the tripod</strong> — this is one of the most common causes of instrument damage</li>\n</ul>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_02_no_carry_on_tripod.svg","alt":"WRONG: Carrying instrument attached to tripod with prohibition symbol","caption":"","alignment":"center"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<p>The correct method: carry the tripod over one shoulder and the instrument case separately in the other hand.</p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_03_correct_carry_method.svg","alt":"CORRECT: Surveyor carrying tripod on shoulder and instrument case in other hand","caption":"","alignment":"center"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Keep an Empty Case Closed</h3><p>Allowing an instrument case to be open while the instrument is in use on the tripod is a <strong>poor practice</strong> because the inside of the case will collect dust. Later, when the instrument is put in the case, it will be like a <em>dust storm</em> inside of the case while the instrument is being carried. Some of the dirt will eventually <strong>penetrate the bearing surfaces</strong> in the instrument, requiring an expensive cleaning and repair bill.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_04_open_case_prohibited.svg","alt":"Open instrument case with prohibition symbol — keep case closed while instrument is on tripod","caption":"","alignment":"center"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Attaching the Instrument to the Tripod</h3><p>Attach the instrument <strong>just snug enough</strong> so that it will not move, but <strong>not unnecessarily tight</strong> so that the tripod head or spring plate become warped.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_05_attaching_instrument_to_tripod.svg","alt":"Surveyor attaching instrument to tripod head with proper stance","caption":"","alignment":"center"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Grasping the Instrument</h3><ul>\n  <li>Grasp the instrument by the <strong>standards and tribrach</strong> when placing it on the tripod — <em>not</em> by the telescope or other parts</li>\n  <li><strong>Secure the instrument immediately</strong> to the tripod</li>\n  <li>Do not allow it to sit on top of the tripod unclamped — even for a moment</li>\n</ul>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_06_proper_grip_standards.svg","alt":"Proper grip: hands on standards and tribrach, not on telescope","caption":"","alignment":"center"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Lens Care</h3><ul>\n  <li><strong>Never touch the lenses</strong> with your fingers or a common cloth</li>\n  <li>Use only <strong>lens cleaning tissues and fluids</strong> designed for optical instruments</li>\n  <li>All lenses have <strong>optical coatings</strong> — using anything other than proper materials may scratch or damage these soft coatings</li>\n  <li>Do not handle equipment with muddy, excessively dirty, or greasy hands or gloves</li>\n  <li>Accumulations of dirt, dust, and foreign material will eventually <strong>penetrate into the motions and cause sticking</strong></li>\n  <li>When possible, use the <strong>plastic hood</strong> for protection against dust when working in dusty conditions</li>\n</ul>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Never Force Any Motion</h3><ul>\n  <li>When using the motions of an instrument, the clamps should be <strong>just snug (not tight)</strong> — micrometer tight is appropriate</li>\n  <li>The idea is to clamp the motion just snug enough so that rotation about the axis will not occur during slight pressure</li>\n  <li>When rotating about an axis, <strong>be sure the clamp is loose first</strong></li>\n  <li>Rotate gently with <strong>fingertips</strong>, not forcefully with a grip</li>\n  <li>If screws operate too tightly, arrange for readjustment by <strong>qualified technicians</strong></li>\n  <li><strong>Never remove any plate or make any adjustment</strong> without understanding thoroughly what you are doing beforehand</li>\n</ul>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>2. Environmental Protection and Weather</h2>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Keep Equipment Dry</h3><p>Weather conditions vary and keeping the equipment dry is practically impossible. With careful attention to weather and jobsite conditions, the instrument can be protected when moisture is present:</p><ul>\n  <li>If caught in temporary showers where the instrument must be left set up, <strong>cover it with the plastic hood provided</strong></li>\n  <li>Wipe the tripod completely dry later, but <strong>allow the instrument to air dry</strong> by leaving the hood off the case</li>\n  <li>Don''t rub off the finish when an instrument is exposed to moisture or high humidity</li>\n  <li><strong>Do not store in an air-tight case overnight</strong> when wet — moisture will condense on the inside of the instrument. Leave the case open so air can circulate</li>\n</ul>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_07_rain_cover_on_instrument.svg","alt":"Plastic rain hood covering instrument on tripod during weather","caption":"","alignment":"center"}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Never Leave the Instrument Unattended</h3><p>Do not leave the instrument unattended — either while set up during a survey or while it is in unlocked vehicles. Surveying instruments are expensive (a modern robotic total station can cost $30,000–$60,000) and attractive targets for theft.</p>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Climatize the Instrument</h3><p>When the instrument is to be in continual use outside in very hot or very cold weather, <strong>store the instrument nightly in its closed case outside</strong> so there is no significant temperature change overnight. This helps prevent condensation from forming inside the instrument.</p>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Acclimation Rule of Thumb:</strong> If transported inside a vehicle at a temperature different from the working temperature, allow <strong>at least one minute for each degree (°F) of temperature difference</strong> between the two environments.<br><br>\n  <strong>Example:</strong> Inside truck = 70°F, outside working temperature = 40°F → difference = 30°F → allow <strong>30 minutes</strong> of acclimation time before taking precision measurements."}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Electronic Instruments — Special Care</h3><p>In addition to mechanical parts and optics, electronic instruments contain <strong>contacts, wires, and computer chips</strong>. Hazards include humidity, rain, snow, cold, heat, and vibrations.</p><ul>\n  <li><strong>Exposure to moisture should be avoided</strong> — electrical contacts are very susceptible to corrosion</li>\n  <li>Humidity near sea water is especially dangerous — salt elements can penetrate an instrument</li>\n  <li>Electronic instruments used around <strong>salt water areas</strong> should be taken to a repair shop to be conditioned for that exposure</li>\n  <li>Protect from extreme temperature swings that can cause internal condensation on circuit boards</li>\n</ul>"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>3. Tripod Care and Setup</h2><p>Tripods are often neglected but are actually a <strong>very important part of measuring accurately</strong>. A tripod provides a solid foundation for instrument setups. It consists of a <strong>head</strong> for attaching the instrument, <strong>wooden or metal legs</strong>, and <strong>metal points with foot pads</strong> to help force the leg points into the ground.</p>"}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Establish a Wide Foundation</h3><p>Always spread the tripod legs <strong>at least 36 inches evenly apart</strong>, and plant tips firmly when setting up the instrument, even temporarily. Never lean the tripod against vehicles, buildings, or trees, even when the instrument is unattached.</p>"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Keep the Head Horizontal</h3><p>Place the head of the tripod in a <strong>horizontal position</strong>. Inexperienced users have a tendency to disregard the relative position of the tripod head when setting up — if the head is not parallel to the horizontal reference plane, the leveling screws in the instrument will be overextended, making it more difficult to level. <strong>If the instrument is not level, errors occur!</strong></p>"}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_08_tripod_head_horizontal.svg","alt":"Tripod head must be horizontal — parallel to reference plane","caption":"","alignment":"center"}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Position Tripod Legs Properly</h3><p>Push the legs into the ground <strong>just far enough for a firm setup</strong>, but do not exercise unnecessary force. Always push <strong>directly longitudinal to the leg</strong>, and do not push the leg so that it flexes.</p>"}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_09_tripod_leg_shallow_NO.svg","alt":"NO: Tripod leg tip barely inserted into ground — insufficient penetration","caption":"","alignment":"center"}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_10_tripod_leg_firm_YES.svg","alt":"YES: Tripod leg tip firmly pushed into ground — proper penetration depth","caption":"","alignment":"center"}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Ensure a Solid Setup</h3><ul>\n  <li><strong>Firmly insert the tripod legs</strong> into the ground — setting the tripod gently invites settlement. As the instrument settles, it can shift out of level, affecting measurements.</li>\n  <li>On smooth floors, use something to <strong>prevent the legs from slipping</strong>: chain, rope, a piece of carpet, or plywood cut in a triangular shape with holes at the points.</li>\n  <li>Care should be taken on <strong>asphalt</strong> — the tripod will quickly sink on a hot day. Place a piece of <strong>lath or a brick</strong> under each point.</li>\n</ul>"}'::jsonb, 34, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>High Winds</h3><p>High winds can topple a tripod and instrument. Passing 18-wheelers can create wind gusts strong enough to knock an instrument to the ground. Use <strong>sandbags or weights on the tripod leg tips</strong> to weigh them down.</p>"}'::jsonb, 35, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_11_tripod_sandbags_wind.svg","alt":"Sandbags attached to tripod leg tips to prevent toppling in high winds","caption":"","alignment":"center"}'::jsonb, 36, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Keep Legs Tight</h3><ul>\n  <li>Firmly attach the tripod legs to the head — <strong>tripods have adjustment screws that can loosen over time</strong></li>\n  <li>Keep tension on the legs so they will fall slowly or swing freely</li>\n  <li>If a leg extended straight out stays in that position, it is <strong>too tight</strong> and will wear excessively</li>\n  <li>If a leg drops immediately, it is <strong>too loose</strong> — loose legs cause unintended rotation in the tripod head, producing angular alignment errors</li>\n</ul>"}'::jsonb, 37, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Secure Adjustable Legs</h3><p>Be certain the clamps on adjustable-leg tripods hold the legs in position securely. Adjustable legs have a tendency to <strong>slip if they are not securely clamped</strong>.</p>"}'::jsonb, 38, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Lubrication</h3><p>Frequently lubricating joints will prevent excessive wear. Use a <strong>silicone-based lubricant</strong> (silicone spray) — it will not attract dirt like petroleum lubricants such as oil or grease. Silicone spray is also a great lubricant for <strong>prism poles and steel tapes</strong>.</p><ul>\n  <li>Clean the tripod after use</li>\n  <li>Carry cleaning cloths and a wire brush to remove dirt from leg points</li>\n  <li>Mud and dirt cling to tripod points and should be wiped off between uses</li>\n</ul>"}'::jsonb, 39, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Protect the Head</h3><p>If the tripod head is dented or scratched, the instrument may not fit accurately or securely. <strong>Avoid leaning tripods against anything</strong> — slight movements may cause the tripod to fall, damaging the head or other items.</p>"}'::jsonb, 40, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Transport Carefully</h3><p>Protect tripods from heavy objects when carrying them in vehicles. Carry tripods in a <strong>separate compartment</strong> from other equipment to avoid damage from vibration and rubbing.</p>"}'::jsonb, 41, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 42, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>4. Maintenance Schedules and Field Calibration</h2>"}'::jsonb, 43, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Minimum Maintenance Schedule</h3>"}'::jsonb, 44, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls4/cls4_12_maintenance_schedule_table.svg","alt":"Minimum maintenance schedule table for surveying equipment","caption":"","alignment":"center"}'::jsonb, 45, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'table', '{"headers":["Maintenance Item","Daily","Weekly","Monthly","Yearly / Seasonal","New Job","When New"],"rows":[["<strong>Wipe Clean</strong>","Chain, Tripod, Level Rod, Prism Pole","All equipment","","","All",""],["<strong>Deep Clean</strong>","","Level Rod, Prism Pole","Tripod, Level Rod, Laser","All","All",""],["<strong>Lubricate (Dry Teflon/Silicone only)</strong>","","","Tripod, Level Rod, Prism Pole","","",""],["<strong>Check &amp; Correct Calibration</strong>","Prism Pole Bubble","Auto Level, Tribrach","Laser","Total Station, Transit/Theodolite","All","Chain, Level Rod &amp; ALL Instruments"],["<strong>Check Instrument Constants</strong>","Total Station, Digital Level, GPS","","","","",""],["<strong>Lens Cleaning</strong>","As needed — <strong>Camera cleaning kit only!</strong>"]]}'::jsonb, 46, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Measurement Stability and Acclimation</h3><p>Optical total stations require sufficient time to adjust to the ambient temperature. The rule of thumb:</p>"}'::jsonb, 47, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Temperature difference in °F = number of minutes required for acclimation</strong><br>\n  Example: inside truck = 70°F, outside = 40°F → 30°F difference → <strong>30 minutes</strong> acclimation before precision measurements."}'::jsonb, 48, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Accuracy and Precision Guidelines</h3><ul>\n  <li>Both accuracy <em>and</em> precision are key — with radial instruments there is little ability for redundant measurement checks</li>\n  <li>The <strong>maximum layout and data collection distance</strong> with 5″ instruments shall be <strong>&lt; 600 feet</strong></li>\n  <li>The <strong>resection function</strong> in data collectors shall use a minimum of <strong>3 points</strong> to provide a check</li>\n  <li>Since elevation is always carried at the total station, always <strong>run a conventional level loop</strong> between control points after horizontal placement</li>\n  <li>Horizontal and vertical control checks must be made at the <strong>beginning and ending of each new setup</strong> and throughout the day</li>\n  <li>Always use a <strong>prism mounted on a tribrach and tripod</strong> as your backsight</li>\n</ul>"}'::jsonb, 49, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Level Field Calibration — The Peg Test</h3><p>The <strong>peg test</strong> (also called the two-peg test) is the standard field calibration procedure for automatic (self-leveling) levels. It checks whether the line of sight is truly horizontal when the instrument is level.</p><ul>\n  <li><strong>Weekly:</strong> Levels will be peg tested (and prior to starting a long bench circuit)</li>\n  <li><strong>Yearly:</strong> Send in instrument to be cleaned and calibrated by a qualified shop</li>\n  <li><strong>All field personnel</strong> must understand and be able to perform a peg test before being allowed to operate the level</li>\n</ul>"}'::jsonb, 50, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Correction Schedule</h3>"}'::jsonb, 51, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'table', '{"headers":["Frequency","Action"],"rows":[["<strong>At each new occupation</strong>","Check thermometer and enter temperature into the instrument (for atmospheric correction)"],["<strong>Daily</strong>","Check barometric pressure and verify it matches the chart for your local elevation (especially before long traverse legs)"],["<strong>Weekly</strong>","Check prism poles and bubbles for plumb; check extension sections for bends; verify Tru-plumb device if used"],["<strong>Monthly</strong>","Check the optical plummet (procedure below); occupy at least two known control monuments and make horizontal distance, vertical distance, and angular checks"],["<strong>Yearly</strong>","Send instrument and tribrachs to be cleaned and calibrated by a qualified repair shop"]]}'::jsonb, 52, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Optical Plummet Check Procedure</h3><ol>\n  <li>Set up the instrument and level it over a ground mark so that the tripod height is about <strong>5.0 feet</strong></li>\n  <li>Note the position of the inner circle of the optical plummet in relation to the ground mark</li>\n  <li>Use a pencil and <strong>trace the outline of the tribrach base</strong> on top of the tripod</li>\n  <li>Loosen the locking clamp and <strong>rotate the tribrach 120°</strong>; position it within the outline</li>\n  <li>Level the instrument again, then <strong>mark a point on the ground</strong> with a dot. Repeat (another 120° rotation) and mark again</li>\n  <li>If there is <strong>one point</strong> on the ground → the optical plummet is <strong>in adjustment</strong></li>\n  <li>If there are <strong>three points</strong> on the ground → the tribrach must be <strong>sent in for cleaning and adjustment</strong></li>\n</ol>"}'::jsonb, 53, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 54, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Keep it Clean — Daily Discipline</h2><ul>\n  <li>Purchase a <strong>big-bristled, soft shaving brush</strong> and keep it in the instrument case</li>\n  <li>Several times during the day, take out the brush and clean the instrument, then clean the brush before returning it to the case</li>\n  <li><strong>Cans of compressed air</strong> can be used to remove dust</li>\n  <li>If the instrument is splattered with mud or concrete, <strong>gently wipe it off with a damp rag as quickly as possible</strong></li>\n  <li>Again — <strong>keep the case closed</strong></li>\n</ul>"}'::jsonb, 55, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 56, now(), now()),
  (gen_random_uuid(), 'acc03b04-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Next week we move from instrument care to instrument <em>use</em> — specifically, the mathematics of traverse computation. You will learn how to convert raw field angles into azimuths, decompose traverse legs into latitudes and departures, and evaluate the error of closure. This is where the computational heart of land surveying begins.</p>"}'::jsonb, 57, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b04-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk5.sql — Lesson: acc03b05-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b05-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 5: Instrument Leveling &amp; Setup Over a Point</h2>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_00_title_instrument_setup.svg","alt":"Title graphic showing a total station on a tripod set up over a survey monument with level bubbles centered","caption":"","alignment":"center"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<p>Last week you learned the rules of <strong>instrument care</strong> — how to transport, protect, and maintain your surveying equipment. This week we put those instruments to work. The two fundamental skills you will practice today are <strong>instrument leveling</strong> (making the instrument''s vertical axis truly vertical) and <strong>instrument setup over a point</strong> (centering the instrument directly above a known ground mark). These are the first things you do at every station in every traverse, and getting them right is essential to accurate measurements.</p>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Class 5 Agenda:</strong> (1) Review of Instrument Care from Week 4, (2) Quiz 1, (3) Instrument Leveling, (4) Instrument Setup with an Optical or Laser Plummet."}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>1. Instrument Leveling</h2><p>Instrument leveling is <strong>quick and easy</strong> when a few guidelines are followed. Without these guidelines, beginners tend to use a random, trial-and-error method that takes much longer and produces inconsistent results. An experienced surveyor can level a three-screw instrument in <strong>less than two to three minutes</strong>.</p>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Guideline 1: The Head of the Tripod Should Be Horizontal</h3><p>Before you even touch the leveling screws, the <strong>tripod head must be approximately horizontal</strong>. As you learned in Week 4, a tilted tripod head forces the leveling screws to their extremes, making leveling difficult or impossible. Adjust the <strong>tripod leg lengths</strong> until the head is roughly parallel to the ground.</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_01_tripod_head_horizontal.svg","alt":"[IMAGE NEEDED] Side-by-side comparison: LEFT shows a tripod with head severely tilted and leveling screws at their extremes (red X), RIGHT shows a tripod with head approximately horizontal and leveling screws near mid-range (green check)","caption":"","alignment":"center"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Guideline 2: The Bubble Follows the Left Thumb</h3><p>The <strong>left thumb rule</strong> is the single most important technique for efficient leveling. When you grip two leveling screws — one in each hand — and turn them simultaneously in opposite directions, <strong>the bubble always moves in the direction your left thumb turns</strong>.</p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_02_left_thumb_rule_diagram.svg","alt":"[IMAGE NEEDED] Top-down view of instrument base showing two hands gripping leveling screws A and B. Left thumb arrow points RIGHT; bubble in the vial moves RIGHT. Clear labels: LEFT HAND on screw A, RIGHT HAND on screw B, arrows showing opposite rotation, and the bubble movement matching the left thumb direction.","caption":"","alignment":"center"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<p>This works because turning two opposite screws in opposite directions tilts the instrument in a predictable direction. The left thumb provides a reliable directional reference that eliminates guesswork. People who try to level without this rule tend to chase the bubble randomly, which takes much longer.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Memory Aid:</strong> \"The bubble follows the LEFT THUMB.\" If the bubble is to the left of center and you need it to move right, turn your left thumb to the right. Both thumbs move in opposite directions simultaneously."}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Guideline 3: Turn Leveling Screws Equally and in Opposite Directions</h3><p>When using two leveling screws together, <strong>rotate them the same amount, in opposite directions, at the same rate</strong>. Think of it as one thumb pushing toward you while the other pushes away — both moving at the same speed. Turning them unequal amounts shifts the instrument laterally on the tripod head, which affects your centering over the point.</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_03_equal_opposite_turns.svg","alt":"[IMAGE NEEDED] Close-up of two hands on adjacent leveling screws. Curved arrows show equal rotation: left screw clockwise, right screw counterclockwise, same number of turns. A small inset shows the instrument staying centered when turns are equal vs. shifting sideways when they are unequal.","caption":"","alignment":"center"}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Guideline 4: Index the Screws</h3><p>On most instruments, the <strong>midpoint of the leveling screw''s travel</strong> is indicated by a <strong>line on the screw body</strong>. When the top of the knob aligns with this line, the screw is at its mid-range — meaning an equal number of turns can be made up or down.</p>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_04_index_line_on_screw.svg","alt":"[IMAGE NEEDED] Close-up of a single leveling foot screw. The screw body has a horizontal index line engraved on it. The top of the knob is aligned with the index line. Arrows point up and down from the index line showing equal travel available in both directions. Label: INDEX MARK.","caption":"","alignment":"center"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<ul>\n  <li><strong>Before leveling:</strong> Set all three screws to their indexed (mid-range) position. This gives you maximum adjustment range in both directions.</li>\n  <li><strong>After use:</strong> <strong>Store your instrument with all leveling screws indexed</strong> so the instrument is ready for the next use. This also reduces stress on the instrument base plate during storage and transport.</li>\n</ul>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Circular (Bull''s-Eye) Bubble vs. Plate (Tubular) Bubble</h3><p>Most surveying instruments have <strong>two types of level bubbles</strong>. Understanding the difference is essential:</p>"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'table', '{"headers":["Feature","Circular (Bull''s-Eye) Bubble","Plate (Tubular) Bubble"],"rows":[["<strong>Shape</strong>","Round vial with a circular bubble","Elongated tube with an oblong bubble"],["<strong>Sensitivity</strong>","Lower — used for <strong>rough</strong> leveling","Higher — used for <strong>fine/precise</strong> leveling"],["<strong>Dimensions Leveled</strong>","Levels in <strong>two axes</strong> simultaneously","Levels in <strong>one axis</strong> only"],["<strong>When Used</strong>","<strong>First</strong> — to get approximately level","<strong>Second</strong> — to achieve precise level"],["<strong>Adjusted By</strong>","Tripod leg lengths (rough)","Leveling foot screws (fine)"]]}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_05_circular_vs_tubular_bubble.svg","alt":"[IMAGE NEEDED] Side-by-side comparison: LEFT shows a circular/bull''s-eye bubble vial from above with the round bubble centered in the inner circle, labeled ROUGH LEVEL. RIGHT shows a tubular/plate bubble vial from the side with the elongated bubble centered between graduation lines, labeled PRECISE LEVEL. Arrows indicate the sequence: circular first, then tubular.","caption":"","alignment":"center"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<p>The sequence is always: <strong>rough-level with the circular bubble first</strong> (using tripod legs), then <strong>fine-level with the plate bubble</strong> (using foot screws and the left thumb rule).</p>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>2. Procedure for Leveling a Three-Screw Instrument</h2><p>If a systematic procedure is followed, a three-screw instrument can be leveled in <strong>less than two to three minutes</strong>. Here is the standard procedure:</p>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 1: Align the Bubble Over Two Screws</h3><p>Stand between two of the leveling screws and rotate the instrument so the <strong>plate (tubular) level vial is aligned parallel to the line connecting those two screws</strong>.</p>"}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_06_step1_align_over_two_screws.svg","alt":"[IMAGE NEEDED] Top-down diagram of the three leveling screws labeled A, B, and C arranged in a triangle. A dashed line connects screws A and B. The plate bubble vial is shown aligned parallel to this A–B line. The surveyor''s position is indicated standing between A and B. Screw C is opposite.","caption":"","alignment":"center"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 2: Center the Bubble Using Two Screws</h3><p>Find where the bubble is (left or right of center). Using the <strong>left thumb rule</strong>, grip screws A and B and turn them <strong>equal amounts in opposite directions</strong> to move the bubble toward the center of the vial.</p>"}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_07_step2_center_with_two_screws.svg","alt":"[IMAGE NEEDED] Close-up showing hands on screws A and B with rotation arrows. The plate bubble is shown in three stages: off-center left, moving, then centered. The left thumb arrow matches the bubble movement direction.","caption":"","alignment":"center"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 3: Rotate 90 Degrees to the Third Screw</h3><p>Turn the instrument <strong>90 degrees</strong> so the plate bubble is now aligned toward the <strong>third leveling screw</strong> (screw C).</p>"}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_08_step3_rotate_90.svg","alt":"[IMAGE NEEDED] Top-down view showing the instrument rotated 90° from the A–B line so the plate bubble vial now points toward screw C. A curved arrow shows the 90° rotation. The new alignment is clearly labeled.","caption":"","alignment":"center"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 4: Center the Bubble Using Only the Third Screw</h3><p>Find the position of the bubble and, following the left thumb rule, <strong>turn only screw C</strong> to center the bubble. Do not touch the other two screws during this step.</p>"}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_09_step4_third_screw_only.svg","alt":"[IMAGE NEEDED] Close-up of a single hand adjusting screw C with a rotation arrow. Screws A and B are shown grayed out with DO NOT TOUCH labels. The plate bubble moves toward center.","caption":"","alignment":"center"}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 5: Return to the Original Two Screws</h3><p>Rotate the instrument <strong>90 degrees back</strong> to align the bubble over the original two screws (A and B). Check whether the bubble is still centered. If not, re-center it using screws A and B.</p>"}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 6: Rotate Back to the Third Screw and Repeat</h3><p>Rotate 90 degrees again to check the bubble over screw C. Re-center if necessary. <strong>Repeat this process</strong> — alternating between the two positions — <strong>until the bubble stays centered as the instrument is rotated</strong>.</p>"}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Why iteration is necessary:</strong> Adjusting screws A and B slightly affects the tilt in the C direction, and vice versa. The two axes interact. Each iteration reduces the residual error until the bubble remains centered in both orientations. Typically 2–3 iterations are sufficient."}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_10_iteration_flowchart.svg","alt":"[IMAGE NEEDED] Flowchart showing the iterative leveling process: Step 1 Align over A–B → Step 2 Center bubble → Step 3 Rotate 90° → Step 4 Center with C → Step 5 Check A–B → Step 6 Check C → Decision diamond: Bubble stays centered? YES → Done / NO → Return to Step 2.","caption":"","alignment":"center"}'::jsonb, 34, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The 180° Verification Check</h3><p>After the bubble stays centered in both the A–B and C positions, perform a final check: rotate the instrument <strong>180 degrees</strong> from its current position. If the bubble <strong>stays centered</strong>, the instrument is properly leveled and the vertical axis is truly vertical.</p><p>If the bubble <strong>moves off center</strong> when rotated 180°, the <strong>plate level bubble itself needs adjustment</strong>. This means the bubble vial''s axis is not perpendicular to the vertical axis of the instrument. The correction procedure is:</p><ol>\n  <li>Using the <strong>leveling screws</strong>, bring the bubble <strong>halfway</strong> back toward center. (The other half of the error is in the bubble tube itself — this is the <em>principle of reversal</em>.)</li>\n  <li>Using the <strong>capstan adjusting screws</strong> on the bubble tube, adjust the tube until the bubble is fully centered.</li>\n  <li>Repeat the 180° test until the bubble stays centered through a full rotation.</li>\n</ol>"}'::jsonb, 35, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_11_180_degree_check.svg","alt":"[IMAGE NEEDED] Two diagrams side by side: LEFT shows the bubble centered before rotation (labeled PASS); RIGHT shows the bubble displaced after 180° rotation (labeled FAIL — bubble needs adjustment). An arrow shows the 180° rotation between the two positions.","caption":"","alignment":"center"}'::jsonb, 36, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<p><em>Note: If you are not trained in capstan screw adjustment, report the condition to your party chief. Do not attempt adjustments you do not fully understand.</em></p>"}'::jsonb, 37, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 38, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>3. Optical and Laser Plummets</h2><p>Setting up over a known point requires a way to see — or project — a <strong>vertical line</strong> from the instrument down to the ground mark. Two technologies are used:</p><p>An <strong>optical plummet</strong> is a small telescope built into the tribrach or instrument that looks straight down through the vertical axis. When the instrument is level, the plummet projects a truly vertical line of sight to the ground, allowing you to see whether the instrument is centered exactly over a ground mark.</p><p>A <strong>laser plummet</strong> does the same thing but projects a visible <strong>laser beam</strong> (typically red or green) downward instead of using a telescope. The laser dot is visible on the ground without looking through an eyepiece.</p>"}'::jsonb, 39, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_12_optical_plummet_cutaway.svg","alt":"[IMAGE NEEDED] Cutaway diagram of an optical plummet inside a tribrach, showing the internal optics: an eyepiece at the top, a 90° reflecting prism, and the line of sight going straight down through the vertical axis to a ground mark below. Label each optical component.","caption":"","alignment":"center"}'::jsonb, 40, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_13_laser_plummet_beam.svg","alt":"[IMAGE NEEDED] Side view of an instrument on a tripod with a laser plummet projecting a visible red dot downward to a ground mark (PK nail). The laser beam path is shown as a dashed red line. A person can see the dot from standing height without bending down.","caption":"","alignment":"center"}'::jsonb, 41, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'table', '{"headers":["Feature","Optical Plummet","Laser Plummet"],"rows":[["<strong>How It Works</strong>","Small telescope with crosshairs looking straight down","Projects a visible laser dot downward"],["<strong>Power Required</strong>","None — entirely optical","Yes — requires battery"],["<strong>Visibility</strong>","Requires light to see the ground mark through the eyepiece","Visible in low light; may wash out in bright sunlight"],["<strong>Ease of Use</strong>","Must bend down and look through eyepiece","Laser dot visible from any angle; a second person can verify"],["<strong>Reliability</strong>","Very reliable — no batteries to fail","Dependent on battery life"],["<strong>Focusing</strong>","Must focus on crosshairs AND on the ground mark to remove parallax","No focusing required"],["<strong>Accuracy</strong>","Very high — limited by telescope magnification","Very high — limited by dot size (~1–2 mm at 1.5 m height)"]]}'::jsonb, 42, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Tribrach</h3><p>A <strong>tribrach</strong> is the precision mounting plate that connects a surveying instrument to the tripod. The name comes from the Greek words for \"three\" and \"arm,\" referring to its three leveling screws. The tribrach is a critical component because it provides both <strong>centering</strong> (over a point) and <strong>leveling</strong> (making the horizontal plane truly horizontal).</p><p>A tribrach contains:</p><ul>\n  <li><strong>Three leveling (foot) screws</strong> — for precise leveling of the instrument</li>\n  <li>A <strong>circular (bull''s-eye) bubble</strong> — for rough leveling</li>\n  <li>An <strong>optical or laser plummet</strong> — for centering over a ground point</li>\n  <li>A <strong>locking clamp</strong> — for securing the instrument (or prism/target) to the tribrach</li>\n  <li>A <strong>5/8-inch-11 central mounting screw</strong> — for attaching the tribrach to the tripod head</li>\n</ul>"}'::jsonb, 43, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_14_tribrach_labeled.svg","alt":"[IMAGE NEEDED] Annotated photograph or technical drawing of a tribrach viewed from a 3/4 angle. Callout lines identify: (1) three leveling foot screws, (2) circular bubble, (3) optical plummet eyepiece, (4) locking clamp lever, (5) 5/8-inch central mounting screw on the bottom. Each label is numbered and clearly connected to the part.","caption":"","alignment":"center"}'::jsonb, 44, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<p>The tribrach''s locking clamp can accept <strong>interchangeable instruments</strong> — you can swap a total station for a prism target without disturbing the tribrach''s position on the tripod. This is the basis of <strong>forced centering</strong>, an advanced traverse technique that speeds up fieldwork and reduces centering errors. You will learn forced centering later in the lab course (SRVY 1335).</p>"}'::jsonb, 45, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 46, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>4. Instrument Setup Over a Point Using an Optical or Laser Plummet</h2><p>Setting up over a known ground point (such as a PK nail, hub and tack, or survey monument) requires both <strong>precise centering</strong> and <strong>precise leveling</strong> simultaneously. These two adjustments are <em>interactive</em> — adjusting one slightly affects the other — so the process is iterative. With practice, the complete setup takes <strong>less than five minutes</strong>.</p>"}'::jsonb, 47, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 1: Rough-Set the Tripod</h3><p>Rough-set the tripod over the ground point by positioning the legs around the mark. A practical technique:</p><ul>\n  <li>Hold two legs and place the <strong>third leg past the point</strong>.</li>\n  <li>Move the two you are holding until the <strong>head of the tripod is approximately over the point</strong> and is <strong>horizontal</strong>.</li>\n  <li>Press all three leg tips firmly into the ground.</li>\n</ul>"}'::jsonb, 48, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_15_rough_set_tripod.svg","alt":"[IMAGE NEEDED] Overhead view showing a surveyor''s hands holding two tripod legs while the third is already planted past the ground mark (shown as a red dot). Arrows show the two held legs being positioned to center the tripod head over the mark. The tripod head is shown approximately horizontal.","caption":"","alignment":"center"}'::jsonb, 49, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 2: Attach the Instrument and Adjust</h3><p>Mount the instrument (or tribrach with instrument) on the tripod head. Look through the <strong>optical plummet</strong>:</p><ol>\n  <li>First, <strong>focus onto the crosshairs</strong> (turn the eyepiece ring).</li>\n  <li>Then <strong>focus onto the ground mark</strong> (turn the objective focus).</li>\n  <li><strong>Tip:</strong> Place your foot next to the point to help locate it in the plummet''s field of view.</li>\n</ol><p>While holding up two of the legs nearest you, adjust the location of the tripod if necessary to make the point visible in the optical plummet.</p>"}'::jsonb, 50, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_16_look_through_plummet.svg","alt":"[IMAGE NEEDED] A surveyor bending to look through the optical plummet eyepiece on the tribrach. A circular inset shows the plummet''s field of view: crosshairs visible with a PK nail nearby but not yet centered. A boot is visible next to the nail for reference.","caption":"","alignment":"center"}'::jsonb, 51, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 3: Center the Optical Plummet on the Point</h3><p>When the point is visible in the optical plummet, use the <strong>instrument''s leveling screws</strong> to move the crosshairs until they are <strong>exactly centered on the point</strong>.</p>"}'::jsonb, 52, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_17_center_plummet_on_point.svg","alt":"[IMAGE NEEDED] Two circular plummet views side by side: LEFT shows crosshairs offset from the nail (labeled BEFORE), RIGHT shows crosshairs perfectly centered on the nail (labeled AFTER). Arrows indicate the leveling screws were adjusted to achieve centering.","caption":"","alignment":"center"}'::jsonb, 53, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Important:</strong> Using the leveling screws to center the plummet intentionally throws the instrument out of level. That is OK at this stage — you will level it properly in the next steps. The goal right now is to get the plummet centered on the point."}'::jsonb, 54, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 4: Adjust the Tripod Legs to Level</h3><p>Now focus on the <strong>bull''s-eye (circular) bubble</strong>. Adjust the <strong>tripod legs up or down</strong> — extending or shortening them — to center the circular bubble. <strong>Work with only one leg at a time!</strong></p><p>Extending or shortening a leg moves the instrument in an arc roughly centered on the ground mark, so the plummet should remain close to the point.</p>"}'::jsonb, 55, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_18_adjust_legs_for_level.svg","alt":"[IMAGE NEEDED] Side view showing one tripod leg being extended (arrow pointing down at the foot). The circular bubble on the tribrach is shown moving toward center. Bold label: ONE LEG AT A TIME. The other two legs are shown anchored.","caption":"","alignment":"center"}'::jsonb, 56, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 5: Confirm the Position</h3><p>Check to confirm that the optical plummet is <strong>still on or very close to the point</strong>. The leg adjustments in Step 4 may have shifted the centering slightly.</p>"}'::jsonb, 57, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 6: Center the Plate Bubble</h3><p>Return to the <strong>leveling screws</strong> and use the full three-screw leveling procedure (Section 2 above) to <strong>precisely center the plate (tubular) bubble</strong>. The plate bubble should remain centered when the instrument is rotated about its vertical axis.</p>"}'::jsonb, 58, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 7: Check the Optical Plummet</h3><p>Look through the optical plummet again and check its position relative to the point. <strong>It will probably be slightly off the point</strong> — this is normal because fine-leveling with the foot screws shifts the instrument''s position slightly.</p>"}'::jsonb, 59, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 8: Center the Instrument Over the Point</h3><p>Loosen the <strong>instrument attachment clamp on the tripod</strong> slightly (the central 5/8-inch mounting screw). While looking through the optical plummet, <strong>slide the instrument on the tripod head</strong> until the crosshairs are exactly on the point.</p>"}'::jsonb, 60, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'callout', '{"type":"danger","text":"<strong>Critical Rule: Do NOT rotate the tribrach!</strong> Slide it in straight lines only — toward/away and left/right. The tripod head surface has minor imperfections. When you <em>slide</em>, the base plate maintains approximately the same tilt. When you <em>rotate</em>, different parts of the base plate contact different areas of the head surface, changing the tilt and destroying your established level. If you rotate, you must re-level from scratch."}'::jsonb, 61, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_19_slide_not_rotate.svg","alt":"[IMAGE NEEDED] Top-down view of the tribrach on the tripod head. LEFT side shows straight-line sliding arrows (green, labeled CORRECT — Slide). RIGHT side shows a curved rotation arrow (red, labeled WRONG — Do Not Rotate). Clear visual distinction between the two motions.","caption":"","alignment":"center"}'::jsonb, 62, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 9: Tighten the Attachment Clamp</h3><p>Tighten the attachment clamp (central mounting screw) and <strong>recheck the plate level</strong>. Sliding the instrument may have slightly disturbed the level.</p>"}'::jsonb, 63, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Step 10: Re-Level and Repeat</h3><p>Re-level using the foot screws and repeat the centering check if necessary until the instrument is <strong>exactly level AND directly over the point simultaneously</strong>.</p><p>When both conditions are achieved, <strong>check the instrument frequently during use</strong> to ensure it remains level and over the point. Tripod legs can settle, especially on soft ground, hot asphalt, or in warm temperatures.</p>"}'::jsonb, 64, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_20_final_setup_complete.svg","alt":"[IMAGE NEEDED] A properly set up total station on a tripod over a survey monument. Callout labels confirm: (1) plate bubble centered, (2) optical plummet on the mark, (3) attachment clamp tight, (4) tripod legs firmly planted. A green checkmark indicates setup is complete.","caption":"","alignment":"center"}'::jsonb, 65, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 66, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Common Mistakes to Avoid</h2>"}'::jsonb, 67, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls5/cls5_21_common_mistakes.svg","alt":"[IMAGE NEEDED] Infographic showing 6 common setup mistakes with icons: (1) tilted tripod head, (2) random screw turning, (3) screws not indexed, (4) rotating tribrach, (5) over-tightened screws, (6) skipping iteration. Each has a brief label and a prohibition symbol.","caption":"","alignment":"center"}'::jsonb, 68, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<ul>\n  <li><strong>Skipping the rough-level step</strong> — trying to level entirely with foot screws when the tripod head is severely tilted</li>\n  <li><strong>Leveling without a system</strong> — randomly turning screws instead of following the left thumb rule and the two-position procedure</li>\n  <li><strong>Not indexing screws before starting</strong> — running out of adjustment range mid-procedure</li>\n  <li><strong>Rotating the tribrach when sliding to center</strong> — this destroys the established level and forces you to start over</li>\n  <li><strong>Over-tightening the foot screws</strong> — this warps the base plate and can damage the instrument</li>\n  <li><strong>Not iterating between centering and leveling</strong> — a single pass is rarely sufficient because the adjustments interact</li>\n  <li><strong>Confusing the circular and plate bubbles</strong> — using only the circular bubble and assuming the instrument is precisely level</li>\n  <li><strong>Not rechecking during extended use</strong> — the instrument can settle out of level over time, especially on soft ground</li>\n</ul>"}'::jsonb, 69, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 70, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Video Resources</h2><ul>\n  <li><a href=\"https://www.youtube.com/watch?v=xHFt-fkvfrg\" target=\"_blank\">Instrument Setup Over a Point — Complete Procedure</a> (12:42 min)</li>\n  <li><a href=\"https://www.youtube.com/watch?v=iAQgFFHBiPo\" target=\"_blank\">Total Station Setup and Leveling Demonstration</a> (9:02 min) <strong>*Recommended</strong></li>\n</ul><p><strong>Homework:</strong> Find and watch additional videos on instrument leveling and setup on the internet. Share any videos you find that are especially clear or helpful with me, please.</p>"}'::jsonb, 71, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 72, now(), now()),
  (gen_random_uuid(), 'acc03b05-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Now that you can properly care for, level, and set up a surveying instrument over a point, you are ready to begin the computational core of the course. Next week we move to <strong>traverse computations</strong> — converting raw field angles into azimuths and decomposing traverse legs into latitudes and departures. This is where the math meets the fieldwork.</p>"}'::jsonb, 73, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b05-0000-0000-0000-000000000001';


-- supabase_seed_acc_content_1341_wk6.sql — Lesson: acc03b06-0000-0000-0000-000000000001
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = 'acc03b06-0000-0000-0000-000000000001';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Week 6: Types of Angles &amp; Angle Measurement</h2>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_00_title_angle_measurement.svg","alt":"[IMAGE NEEDED] Title graphic showing a total station at a traverse point with angle arcs drawn to backsight and foresight targets, illustrating a horizontal angle measurement","caption":"","alignment":"center"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<p>Last week you learned to <strong>level</strong> and <strong>set up</strong> a surveying instrument over a known point. This week we use that instrument to do what surveying is fundamentally about: <strong>measuring angles</strong>. Angles — combined with distances — are the raw observations from which all traverse coordinates, boundary lines, and map positions are computed.</p><p>We will cover the <strong>types of angles</strong> used in surveying, the <strong>fundamentals of angle measurement</strong> on a horizontal circle, and then the two key measurement techniques: the <strong>direct angle</strong> (face left) and the <strong>reverse angle</strong> (face right). Finally, you will learn the <strong>European method for turning a set of angles</strong> — a standard quality-control procedure that detects and cancels instrument errors.</p>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Class 6 Agenda:</strong> (1) Review — Instrument Leveling, (2) Review — Instrument Setup with Optical/Laser Plummet, (3) Types of Angles, (4) Angle Measurement, (5) Basics of Turning an Angle, (6) Measuring a Direct Angle, (7) Measuring a Reverse Angle."}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 4, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>1. Types of Angles</h2>"}'::jsonb, 5, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Horizontal Angles</h3><p><strong>Horizontal angles</strong> are measured in the <strong>horizontal plane</strong>. When measuring a horizontal angle with a transit, theodolite, or total station, the angle is measured between two points sighted from the instrument, which is set up over a point representing the <strong>vertex</strong> of the angle.</p><p>The basic procedure:</p><ol>\n  <li>The telescope is sighted onto the first point (backsight) and the angle-measuring circle is <strong>set to zero</strong>.</li>\n  <li>The telescope is then turned to the second point (foresight) and the angle is <strong>read from the circle</strong>.</li>\n</ol><p>The critical concept: the horizontal angle measurement occurs on the <strong>horizontal circle</strong>, which is <strong>independent of the vertical sighting</strong>. Even if you tilt the telescope up or down to sight a target at a different elevation, the angle recorded on the horizontal circle is the projection of that angle onto the horizontal plane.</p>"}'::jsonb, 6, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_01_horizontal_angle_basic.svg","alt":"[IMAGE NEEDED] Plan view (top-down) showing an instrument at the vertex with two sight lines to backsight and foresight. The horizontal angle is shown as the arc between the two lines. A note indicates the vertical tilt of the telescope does not affect the horizontal reading.","caption":"","alignment":"center"}'::jsonb, 7, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Interior Angles</h3><p><strong>Interior angles</strong> are horizontal angles measured <strong>on the inside</strong> of a closed geometric figure (polygon). When the instrument is set up at a vertex of the figure, the interior angle is the angle between the two sides meeting at that vertex, measured inside the figure.</p><p>Interior angles are commonly used in closed traverse surveys. The fundamental check for a closed polygon is:</p><p style=\"text-align:center; font-size:1.2em;\"><strong>Sum of Interior Angles = (n − 2) × 180°</strong></p><p>where <strong>n</strong> is the number of sides (vertices). Examples:</p><ul>\n  <li>Triangle (n = 3): (3 − 2) × 180° = <strong>180°</strong></li>\n  <li>Quadrilateral (n = 4): (4 − 2) × 180° = <strong>360°</strong></li>\n  <li>Pentagon (n = 5): (5 − 2) × 180° = <strong>540°</strong></li>\n</ul><p>At any vertex, the <strong>interior angle + exterior angle = 360°</strong>.</p>"}'::jsonb, 8, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_02_interior_angles_polygon.svg","alt":"[IMAGE NEEDED] A five-sided closed traverse (polygon ABCDE) with all five interior angles labeled. The sum is shown as (5-2)×180° = 540°. One vertex shows both the interior and exterior angle, summing to 360°.","caption":"","alignment":"center"}'::jsonb, 9, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Deflection Angles</h3><p><strong>Deflection angles</strong> are horizontal angles measured from the <strong>prolongation (extension) of the preceding line</strong>. The procedure:</p><ol>\n  <li>The instrument is set up on the end of a line and sighted <strong>back</strong> onto that line (backsight).</li>\n  <li>The scope is then <strong>plunged</strong> (flipped 180° vertically), which extends the line forward in the opposite direction.</li>\n  <li>If an angle is turned off of this extended line, it is called a <strong>deflection angle</strong>.</li>\n</ol><p>Deflection angles are designated as <strong>Right (R)</strong> or <strong>Left (L)</strong> depending on the direction of turning from the prolongation. They are always <strong>less than 180°</strong> and are used extensively in <strong>route construction</strong> applications (highways, railroads, pipelines) where angles off a straight line are measured.</p><p>In a closed traverse, the algebraic sum of all deflection angles (with R as positive and L as negative) equals <strong>360°</strong>.</p>"}'::jsonb, 10, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_03_deflection_angles.svg","alt":"[IMAGE NEEDED] A route survey showing three consecutive stations (A, B, C). At station B, the backsight line A→B is extended (prolonged) past B as a dashed line. The deflection angle is shown between this prolongation and the new direction B→C, labeled as a deflection right (R). A second example shows a deflection left (L).","caption":"","alignment":"center"}'::jsonb, 11, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Vertical Angles</h3><p><strong>Vertical angles</strong> are measured in a <strong>vertical plane</strong> using the <strong>vertical circle</strong> of the instrument. Two conventions are used:</p>"}'::jsonb, 12, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Convention","Zero Reference","Range","Notes"],"rows":[["<strong>Zenith Angle</strong>","Directly overhead (zenith)","0° to 360°","0° = straight up; 90° = horizontal; 180° = straight down"],["<strong>Elevation Angle</strong>","Horizontal plane","−90° to +90°","Positive = above horizontal; Negative = below horizontal"]]}'::jsonb, 13, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<p><strong>Conversion:</strong> Zenith Angle = 90° − Elevation Angle (for angles above horizontal).</p><p>Most modern total stations display <strong>zenith angles</strong> by default because they are unambiguous — a zenith angle of 85° clearly means \"slightly above horizontal,\" while 275° clearly means \"slightly above horizontal on the reverse face.\"</p>"}'::jsonb, 14, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_04_vertical_angles.svg","alt":"[IMAGE NEEDED] Side view of an instrument showing the vertical circle. The zenith (0°) is at top, horizontal (90°) is to the right, nadir (180°) is at bottom. An elevation angle of +25° is shown with its equivalent zenith angle of 65°. Labels for zenith angle and elevation angle conventions are clearly marked.","caption":"","alignment":"center"}'::jsonb, 15, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Angles to the Right</h3><p>An <strong>angle to the right</strong> is a horizontal angle measured <strong>clockwise</strong> from the backsight to the foresight. This is the most common modern convention and is used by most data collectors and total station software. The angle always ranges from <strong>0° to 360°</strong>.</p><p>Using a uniform convention of always measuring angles to the right eliminates ambiguity about the direction of turning — a serious source of blunders if clockwise and counterclockwise angles are mixed.</p>"}'::jsonb, 16, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_05_angle_to_the_right.svg","alt":"[IMAGE NEEDED] Top-down view of an instrument with a backsight and foresight. A clockwise arc from the backsight direction to the foresight direction is labeled ANGLE TO THE RIGHT. The arc shows the angle ranges from 0° to 360° in the clockwise direction.","caption":"","alignment":"center"}'::jsonb, 17, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 18, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>2. Angle Measurement Fundamentals</h2>"}'::jsonb, 19, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Horizontal Circle</h3><p>Every transit, theodolite, and total station has a <strong>horizontal circle</strong> — a graduated disc that measures rotation in the horizontal plane. On modern total stations, this is an <strong>electronically encoded glass disc</strong> with an LED on one side and photodiodes on the other. The instrument reads the light pattern through the graduated disc to determine the rotation angle with extreme precision.</p><p>The key operations:</p><ul>\n  <li><strong>Zeroing</strong> — Setting the circle reading to 0° 00'' 00\" while sighted on the backsight. On a modern TSI, press the \"0-SET\" or \"HOLD\" button.</li>\n  <li><strong>Reading</strong> — After turning to the foresight, the displayed value is the horizontal angle.</li>\n  <li><strong>Holding</strong> — Freezing the display so it does not change as the instrument is rotated (used for repetition measurements).</li>\n</ul>"}'::jsonb, 20, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_06_horizontal_circle_diagram.svg","alt":"[IMAGE NEEDED] Exploded diagram of a total station showing the horizontal circle (glass disc) inside the instrument. Labels show the LED, photodiodes, and the graduated circle. An inset shows the digital angle display reading 71° 46'' 18''.","caption":"","alignment":"center"}'::jsonb, 21, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>DMS (Degrees-Minutes-Seconds) Arithmetic</h3><p>Angles in surveying are expressed in <strong>degrees (°), minutes (''), and seconds (\"\")</strong>:</p><ul>\n  <li>1 degree = 60 minutes</li>\n  <li>1 minute = 60 seconds</li>\n  <li>1 degree = 3,600 seconds</li>\n</ul><p>You must be comfortable adding and subtracting in DMS format, including <strong>carrying</strong> and <strong>borrowing</strong>:</p><h4>Addition Example</h4><p>Add: 45° 34'' 56\" + 25° 45'' 39\"</p><ol>\n  <li>Add each column: 70° 79'' 95\"</li>\n  <li>Convert overflow: 95\" = 1'' 35\", so 79'' + 1'' = 80''</li>\n  <li>Convert: 80'' = 1° 20'', so 70° + 1° = 71°</li>\n  <li>Result: <strong>71° 20'' 35\"</strong></li>\n</ol><h4>Subtraction Example (with borrowing)</h4><p>Subtract: 180° 00'' 00\" − 113° 15'' 29\"</p><ol>\n  <li>Borrow: 180° 00'' 00\" → 179° 59'' 60\"</li>\n  <li>Subtract: 179° − 113° = 66°, 59'' − 15'' = 44'', 60\" − 29\" = 31\"</li>\n  <li>Result: <strong>66° 44'' 31\"</strong></li>\n</ol>"}'::jsonb, 22, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"example","text":"<strong>Tip:</strong> When subtracting and a column is too small, borrow from the next higher unit — just like borrowing in base-10 subtraction, but here 1° = 60'' and 1'' = 60\"."}'::jsonb, 23, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Face Left (Direct) vs. Face Right (Reverse)</h3><p>When looking through the eyepiece of a theodolite or total station:</p>"}'::jsonb, 24, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Position","Also Called","Vertical Circle Location","Description"],"rows":[["<strong>Face Left (FL)</strong>","Direct, Face 1, Normal","Left side of telescope","Telescope in normal position — this is the starting position"],["<strong>Face Right (FR)</strong>","Reverse, Face 2, Inverted","Right side of telescope","Telescope has been <strong>plunged</strong> (flipped 180° about horizontal axis)"]]}'::jsonb, 25, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_07_face_left_face_right.svg","alt":"[IMAGE NEEDED] Two side-by-side views of a total station. LEFT: Face Left position — vertical circle on the left side, telescope in normal orientation, labeled DIRECT / FACE LEFT. RIGHT: Face Right position — telescope plunged, vertical circle now on the right side, labeled REVERSE / FACE RIGHT. An arrow between them shows the plunging action.","caption":"","alignment":"center"}'::jsonb, 26, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Plunging the Telescope</h3><p><strong>Plunging</strong> (also called <strong>transiting</strong> or <strong>reversing</strong>) is rotating the telescope <strong>180° about its horizontal (trunnion) axis</strong> so it points in the opposite direction. After plunging:</p><ul>\n  <li>The eyepiece and objective swap ends</li>\n  <li>The vertical circle moves from left to right (or vice versa)</li>\n  <li>The instrument must also be rotated ~180° about the vertical axis to re-sight the same target</li>\n</ul>"}'::jsonb, 27, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_08_plunging_telescope.svg","alt":"[IMAGE NEEDED] Sequence of three images showing plunging: (1) telescope in Face Left pointing at target, (2) telescope rotating 180° about the trunnion axis (shown with curved arrow), (3) telescope in Face Right position with the instrument then rotated 180° horizontally to re-point at the target.","caption":"","alignment":"center"}'::jsonb, 28, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 29, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>3. Measuring a Direct Angle</h2><p>A <strong>direct</strong> (face left) angle measurement is the most basic angle observation. The telescope is in its normal position throughout.</p>"}'::jsonb, 30, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Procedure</h3><ol>\n  <li><strong>Set up and level</strong> the instrument over the station point (use the Week 5 procedure).</li>\n  <li>Ensure the instrument is in <strong>Face Left</strong> (normal/direct) position.</li>\n  <li>Sight the <strong>backsight</strong> point — use the horizontal clamp and tangent screw for precise bisection of the target.</li>\n  <li><strong>Zero the horizontal circle</strong> (set to 0° 00'' 00\"). On a modern TSI, press the \"0-SET\" button.</li>\n  <li>Release the horizontal clamp and rotate the telescope <strong>clockwise</strong> (to the right) toward the <strong>foresight</strong> point.</li>\n  <li>Lock the horizontal clamp and use the tangent screw for precise bisection of the foresight target.</li>\n  <li><strong>Read and record</strong> the horizontal circle. This reading is the <strong>direct angle</strong>.</li>\n</ol>"}'::jsonb, 31, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_09_direct_angle_procedure.svg","alt":"[IMAGE NEEDED] Two-panel diagram: LEFT panel shows the telescope sighted on the backsight with circle reading 0° 00'' 00''. RIGHT panel shows the telescope turned clockwise to the foresight with circle reading showing the measured angle (e.g., 71° 46'' 18''). An arc between the two positions shows the direct angle.","caption":"","alignment":"center"}'::jsonb, 32, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 33, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>4. Measuring a Reverse Angle</h2><p>A <strong>reverse</strong> (face right) angle measurement is taken with the telescope <strong>plunged</strong>. The purpose is to obtain a second, independent measurement of the same angle from a different instrument position. When averaged with the direct measurement, <strong>systematic instrument errors cancel out</strong>.</p>"}'::jsonb, 34, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Why Measure on Both Faces?</h3><p>By averaging face left and face right readings, the following <strong>systematic errors are eliminated</strong>:</p>"}'::jsonb, 35, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Error","What It Is","Why It Cancels"],"rows":[["<strong>Collimation Error (Line of Sight / 2C Error)</strong>","The line of sight is not exactly perpendicular to the trunnion axis","The error reverses its sign when the face is changed — averaging FL and FR cancels it"],["<strong>Trunnion Axis Error</strong>","The trunnion axis is not exactly perpendicular to the vertical axis","Also reverses sign on face change — averaging cancels it"],["<strong>Vertical Circle Index Error</strong>","A constant offset in the vertical circle zero point","Averaging FL and FR vertical angle readings cancels the offset"]]}'::jsonb, 36, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_10_errors_eliminated_by_face_change.svg","alt":"[IMAGE NEEDED] Diagram showing collimation error: a telescope traces a cone instead of a plane when rotated. On Face Left, the error displaces the reading in one direction (+e). On Face Right, the error displaces in the opposite direction (−e). The average (FL + FR) / 2 eliminates the error.","caption":"","alignment":"center"}'::jsonb, 37, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Key Principle:</strong> Systematic instrument errors reverse their sign when the telescope is plunged. Averaging direct and reverse readings cancels these errors. This is why professional surveyors <em>always</em> measure on both faces — it is not optional for quality work."}'::jsonb, 38, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 39, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>5. Turning a Set of Angles — The European Method</h2><p>The <strong>European method</strong> (also called turning a <strong>set of angles</strong> or a <strong>D/R set</strong>) is the standard field procedure for measuring a single horizontal angle with both direct and reverse observations. The result is a <strong>mean angle</strong> that is free of systematic instrument errors.</p><p>We will work through the complete 5-step procedure using a real-world traverse example, then demonstrate the calculations for both cases: angles <strong>less than 180°</strong> and angles <strong>greater than 180°</strong>.</p>"}'::jsonb, 40, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Setup</h3><p>The instrument is at <strong>Traverse Point #102</strong>. We are measuring the angle from backsight <strong>Trav #101</strong> to foresight <strong>Trav #103</strong>, turned to the right (clockwise).</p>"}'::jsonb, 41, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_11_traverse_setup_overview.svg","alt":"[IMAGE NEEDED] Plan view showing three traverse points: Trav #101 (backsight, upper right), Trav #102 (instrument station, center), and Trav #103 (foresight, lower right for Example 1 / upper left for Example 2). Labeled as the European method setup.","caption":"","alignment":"center"}'::jsonb, 42, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The 5-Step Procedure</h3>"}'::jsonb, 43, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Step","Action","Face","What You Record"],"rows":[["<strong>1</strong>","Set up and level at Trav #102","—","—"],["<strong>2</strong>","Sight <strong>backsight</strong> (Trav #101) and <strong>zero the circle</strong> (0° 00'' 00\")","Face Left","Initial reading: 0° 00'' 00\""],["<strong>3</strong>","Turn <strong>right</strong> to <strong>foresight</strong> (Trav #103) — read and record the angle","Face Left","<strong>Direct angle</strong>"],["<strong>4</strong>","<strong>Plunge</strong> the scope, turn to re-sight <strong>foresight</strong> (Trav #103) — read and record","Face Right","<strong>Reverse foresight reading</strong>"],["<strong>5</strong>","Turn <strong>right</strong> to <strong>backsight</strong> (Trav #101) — read and record","Face Right","<strong>Reverse backsight reading</strong>"]]}'::jsonb, 44, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_12_five_step_procedure_diagram.svg","alt":"[IMAGE NEEDED] Flowchart or numbered diagram showing the 5 steps: (1) Setup at #102, (2) Sight #101, zero circle (FL), (3) Turn right to #103, read direct angle (FL), (4) Plunge, sight #103 again, read reverse foresight (FR), (5) Turn right to #101, read reverse backsight (FR). Arrows show the telescope movement between steps.","caption":"","alignment":"center"}'::jsonb, 45, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>The Computation</h3><p>After recording all five steps, the mean angle is computed as follows:</p><ol>\n  <li><strong>Direct angle</strong> = Step 3 reading (the face-left angle from backsight to foresight)</li>\n  <li><strong>Reverse angle</strong> = Step 4 reading − Step 5 reading (face-right foresight minus face-right backsight)</li>\n  <li>If the reverse angle is <strong>negative</strong> (Step 4 &lt; Step 5), <strong>add 360°</strong></li>\n  <li><strong>Mean angle</strong> = (Direct angle + Reverse angle) / 2</li>\n</ol>"}'::jsonb, 46, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"note","text":"<strong>Why Step 5 is not exactly 180° 00'' 00\":</strong> In a perfect instrument, the face-right backsight reading would be exactly 180° 00'' 00\" (since you zeroed on the backsight in face left, and plunging adds 180°). In reality, it will be off by a small amount due to instrument errors. This small deviation is exactly the error that averaging the direct and reverse angles eliminates."}'::jsonb, 47, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 48, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 1: Angle Less Than 180°</h3>"}'::jsonb, 49, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_13_example1_site_sketch.svg","alt":"[IMAGE NEEDED] Field book site sketch showing Trav #102 (instrument) at center, Trav #101 (backsight) to the upper right, and Trav #103 (foresight) to the lower right. The angle turned right from #101 to #103 is approximately 72° — clearly less than 180°. Labeled: EXAMPLE 1 — ANGLE < 180°.","caption":"","alignment":"center"}'::jsonb, 50, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Step","Action","Circle Reading"],"rows":[["2","Sight backsight #101 (FL), zero circle","0° 00'' 00\""],["3","Turn right to foresight #103 (FL)","<strong>71° 46'' 18\"</strong>"],["4","Plunge; re-sight foresight #103 (FR)","<strong>251° 46'' 18\"</strong>"],["5","Turn right to backsight #101 (FR)","<strong>180° 00'' 01\"</strong>"]]}'::jsonb, 51, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Computation</h4><p><strong>Direct angle</strong> = Step 3 = <strong>71° 46'' 18\"</strong></p><p><strong>Reverse angle</strong> = Step 4 − Step 5:</p><p style=\"text-align:center;\">251° 46'' 18\" − 180° 00'' 01\" = <strong>71° 46'' 17\"</strong></p><p><strong>Mean angle</strong> = (71° 46'' 18\" + 71° 46'' 17\") / 2:</p><p style=\"text-align:center;\">= 143° 32'' 35\" / 2 = <strong>71° 46'' 17.5\"</strong></p>"}'::jsonb, 52, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_14_example1_field_book.svg","alt":"[IMAGE NEEDED] Reproduction of a field book entry showing the data from Example 1 in proper field book format: columns for Step, Target, Face, Circle Reading, and computed angles. The direct angle, reverse angle, and mean are clearly shown at the bottom.","caption":"","alignment":"center"}'::jsonb, 53, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"tip","text":"<strong>Notice:</strong> The direct angle (71° 46'' 18\") and reverse angle (71° 46'' 17\") differ by only <strong>1 second</strong>. This small difference is expected and confirms the observations are consistent. If the difference exceeded the instrument''s stated tolerance (e.g., more than 5\" for a 2\" instrument), the set should be rejected and remeasured."}'::jsonb, 54, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 55, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>Worked Example 2: Angle Greater Than 180°</h3>"}'::jsonb, 56, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_15_example2_site_sketch.svg","alt":"[IMAGE NEEDED] Field book site sketch showing Trav #102 (instrument) at center, Trav #101 (backsight) to the upper right, and Trav #103 (foresight) to the upper LEFT. The angle turned right from #101 to #103 exceeds 180° — the foresight is on the left side of the backsight line. Labeled: EXAMPLE 2 — ANGLE > 180°.","caption":"","alignment":"center"}'::jsonb, 57, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Step","Action","Circle Reading"],"rows":[["2","Sight backsight #101 (FL), zero circle","0° 00'' 00\""],["3","Turn right to foresight #103 (FL)","<strong>189° 09'' 14\"</strong>"],["4","Plunge; re-sight foresight #103 (FR)","<strong>9° 09'' 13\"</strong>"],["5","Turn right to backsight #101 (FR)","<strong>180° 00'' 02\"</strong>"]]}'::jsonb, 58, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h4>Computation</h4><p><strong>Direct angle</strong> = Step 3 = <strong>189° 09'' 14\"</strong></p><p><strong>Reverse angle</strong> = Step 4 − Step 5:</p><p style=\"text-align:center;\">9° 09'' 13\" − 180° 00'' 02\" = <strong>negative result!</strong></p>"}'::jsonb, 59, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'callout', '{"type":"danger","text":"<strong>The 360° Rule:</strong> When Step 4 minus Step 5 gives a <strong>negative number</strong>, you must <strong>add 360°</strong> before proceeding. This happens whenever the measured angle is greater than 180°."}'::jsonb, 60, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<p>Apply the 360° correction:</p><p style=\"text-align:center;\">9° 09'' 13\" − 180° 00'' 02\" + 360° 00'' 00\" = <strong>189° 09'' 11\"</strong></p><p>Let''s verify this step by step:</p><ol>\n  <li>Add 360° to Step 4: 9° 09'' 13\" + 360° = 369° 09'' 13\"</li>\n  <li>Subtract Step 5: 369° 09'' 13\" − 180° 00'' 02\" = <strong>189° 09'' 11\"</strong></li>\n</ol><p><strong>Mean angle</strong> = (189° 09'' 14\" + 189° 09'' 11\") / 2:</p><p style=\"text-align:center;\">= 378° 18'' 25\" / 2 = <strong>189° 09'' 12.5\"</strong></p>"}'::jsonb, 61, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_16_example2_field_book.svg","alt":"[IMAGE NEEDED] Reproduction of a field book entry showing the data from Example 2 in proper field book format. The negative intermediate result is shown crossed out, the +360° correction is shown, and the final direct angle, reverse angle, and mean are displayed at the bottom.","caption":"","alignment":"center"}'::jsonb, 62, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h3>How to Know When to Add 360°</h3><p>The rule is simple: <strong>if Step 4 − Step 5 gives a negative number, add 360°</strong>. In practice, this happens whenever the <strong>measured angle is greater than 180°</strong>. You can also check by comparing the reverse angle to the direct angle — they should agree within a few seconds. If the reverse angle is wildly different from the direct angle, either you forgot the 360° correction or a blunder occurred.</p>"}'::jsonb, 63, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'image', '{"url":"/lessons/cls6/cls6_17_decision_flowchart_360.svg","alt":"[IMAGE NEEDED] Simple decision flowchart: Start → Compute Step 4 − Step 5 → Is result positive? YES → Use as reverse angle. NO → Add 360° to result → Use as reverse angle. Then → Compute mean = (direct + reverse) / 2.","caption":"","alignment":"center"}'::jsonb, 64, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 65, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Sources of Error in Angle Measurement</h2><p>The four primary sources of error in angle measurement are:</p>"}'::jsonb, 66, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'table', '{"headers":["Error Source","Description","Mitigation"],"rows":[["<strong>Centering</strong>","Instrument not exactly over the station mark","Careful setup with optical plummet (Week 5); dominates on short lines"],["<strong>Pointing</strong>","Target not precisely bisected by crosshairs","Use well-defined targets; multiple observations"],["<strong>Reading</strong>","Errors in reading the graduated circle","Multiple repetitions; digital instruments reduce this"],["<strong>Leveling</strong>","Instrument not perfectly level","Careful plate bubble checks; compensator monitoring"]]}'::jsonb, 67, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<p><strong>Systematic errors</strong> (collimation, trunnion axis) are eliminated by measuring on both faces, as demonstrated in the European method above.</p>"}'::jsonb, 68, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 69, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Video Resources</h2><ul>\n  <li><a href=\"https://www.youtube.com/watch?v=xHFt-fkvfrg\" target=\"_blank\">Instrument Setup Over a Point</a> (12:42 min) — Review from Week 5</li>\n  <li>Search YouTube for: <strong>\"angle measurement by repetition method surveying\"</strong> — multiple demonstration videos available</li>\n  <li>Search YouTube for: <strong>\"face left face right total station\"</strong> — shows the plunging and face change procedure</li>\n  <li>Search YouTube for: <strong>\"turning angles European method surveying\"</strong> — demonstrations of the D/R set procedure</li>\n</ul><p><strong>Homework:</strong> Practice DMS arithmetic problems. Find and watch videos demonstrating angle measurement. Be prepared to turn angles in the lab next week.</p>"}'::jsonb, 70, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'divider', '{}'::jsonb, 71, now(), now()),
  (gen_random_uuid(), 'acc03b06-0000-0000-0000-000000000001', 'text', '{"html":"<h2>Looking Ahead</h2><p>Now that you understand how to measure angles accurately using the direct and reverse method, you have the complete set of fundamental field skills: <strong>instrument care</strong> (Week 4), <strong>leveling and setup</strong> (Week 5), and <strong>angle measurement</strong> (this week). Next week we will combine angles with distances to begin <strong>traverse computations</strong> — converting field observations into coordinates.</p>"}'::jsonb, 72, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = 'acc03b06-0000-0000-0000-000000000001';


-- supabase_seed_curriculum.sql — Lesson: 22222222-2222-2222-2222-222222222200
-- Converted from legacy HTML to structured lesson blocks
DELETE FROM lesson_blocks WHERE lesson_id = '22222222-2222-2222-2222-222222222200';
INSERT INTO lesson_blocks (id, lesson_id, block_type, content, order_index, created_at, updated_at)
VALUES
  (gen_random_uuid(), '22222222-2222-2222-2222-222222222200', 'text', '{"html":"<h2>Welcome to the Starr Surveying Learning Hub</h2><p>Welcome to the team! Whether you''re a brand-new surveying intern (SIT) or a seasoned field veteran joining our company, this learning platform is designed to help you grow your skills, prepare for licensing exams, and stay up-to-date with best practices.</p>"}'::jsonb, 0, now(), now()),
  (gen_random_uuid(), '22222222-2222-2222-2222-222222222200', 'text', '{"html":"<h3>What You''ll Learn Here</h3><p>This platform covers everything you need to succeed as a surveyor at Starr Surveying:</p><ul>\n  <li><strong>Fundamentals of Land Surveying</strong> — History, terminology, types of surveys, and core concepts</li>\n  <li><strong>Equipment &amp; Technology</strong> — Total stations, GNSS/GPS, data collectors, and modern tools</li>\n  <li><strong>Texas-Specific Knowledge</strong> — Texas property law, the vara, GLO records, and state regulations</li>\n  <li><strong>Field Procedures</strong> — How we conduct boundary surveys, topographic surveys, and construction layout</li>\n  <li><strong>Exam Preparation</strong> — Practice questions for the SIT and RPLS licensing exams</li>\n</ul>"}'::jsonb, 1, now(), now()),
  (gen_random_uuid(), '22222222-2222-2222-2222-222222222200', 'text', '{"html":"<h3>How This Works</h3><p>Each module contains <strong>lessons</strong> you can read through at your own pace. After each lesson, you can:</p><ul>\n  <li><strong>Take a Quiz</strong> — Test your understanding of the material</li>\n  <li><strong>Study Flashcards</strong> — Review key terms with our spaced repetition system that adapts to how well you know each term</li>\n  <li><strong>Read Knowledge Base Articles</strong> — Dive deeper into specific topics</li>\n  <li><strong>Take Notes</strong> — Use your Field Notebook to jot down observations and reminders</li>\n</ul>"}'::jsonb, 2, now(), now()),
  (gen_random_uuid(), '22222222-2222-2222-2222-222222222200', 'text', '{"html":"<h3>Getting Started</h3><p>Start with the next lesson, <strong>\"What is Land Surveying?\"</strong>, to learn the basics. If you already have surveying experience, feel free to jump ahead to the topics that interest you or go straight to the flashcards and quiz sections.</p>"}'::jsonb, 3, now(), now()),
  (gen_random_uuid(), '22222222-2222-2222-2222-222222222200', 'text', '{"html":"<h3>About Starr Surveying</h3><p>Starr Surveying is committed to providing accurate, professional land surveying services. Our team uses the latest technology — including Trimble instruments, GNSS receivers, and CAD software — to deliver high-quality results. We believe in continuous learning and professional development, which is why we built this platform for our team.</p><p><strong>Let''s get started!</strong></p>"}'::jsonb, 4, now(), now());

-- Mark lesson as migrated (original HTML preserved as fallback)
UPDATE learning_lessons SET content_migrated = TRUE WHERE id = '22222222-2222-2222-2222-222222222200';

