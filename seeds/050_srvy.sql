-- ============================================================================
-- 050_srvy.sql
-- Additional SRVY courses: 2339, 2341, 2343, 2344.
-- Modules, lessons, and quiz questions for advanced surveying topics.
-- Depends on: 001_config.sql
-- ============================================================================

BEGIN;


-- ############################################################################
-- SRVY 2339 — GPS/GIS Applications in Surveying
-- ############################################################################

-- ============================================================================
-- SECTION 1: MODULE DEFINITION (order_index 33)
-- ============================================================================

INSERT INTO learning_modules (id, title, description, difficulty, estimated_hours, order_index, status, tags, xp_reward, created_at, updated_at)
VALUES
  ('acc00005-0000-0000-0000-000000000005',
   'ACC SRVY 2339 — GPS/GIS Applications in Surveying',
   'Austin Community College SRVY 2339 (3 SCH). An introduction to Global Navigation Satellite Systems (GNSS) and Geographic Information Systems (GIS) as applied to land surveying. Topics include GPS/GNSS fundamentals and signal structure, satellite constellations (GPS, GLONASS, Galileo, BeiDou), satellite geometry and dilution of precision (DOP), error sources and mitigation, coordinate systems and datums (NAD83, WGS84, ITRF), ellipsoids, geoid models and orthometric heights, static and rapid-static GPS methods, Real-Time Kinematic (RTK) surveying, network RTK and Virtual Reference Stations (VRS), GPS survey planning with mission planning software, post-processing with baseline solutions, the National CORS network and OPUS, GIS fundamentals including spatial data models (vector and raster), coordinate transformations, and integration of GNSS data into CAD and GIS workflows. This course provides the technical foundation for modern positioning technology used in professional surveying practice. Prerequisite: SRVY 1341. Textbook: GPS for Land Surveyors by Jan Van Sickle.',
   'advanced', 48.0, 33, 'published',
   ARRAY['acc','srvy-2339','gps','gnss','gis','satellite','rtk','college-course','semester'],
   500, now(), now())

ON CONFLICT (id) DO UPDATE SET
  title           = EXCLUDED.title,
  description     = EXCLUDED.description,
  difficulty      = EXCLUDED.difficulty,
  estimated_hours = EXCLUDED.estimated_hours,
  order_index     = EXCLUDED.order_index,
  status          = EXCLUDED.status,
  tags            = EXCLUDED.tags,
  xp_reward       = EXCLUDED.xp_reward,
  updated_at      = now();


-- ============================================================================
-- SECTION 2: LESSONS (16 weeks — 14 lessons + 2 exam weeks)
-- ============================================================================

DELETE FROM learning_lessons WHERE module_id = 'acc00005-0000-0000-0000-000000000005';
INSERT INTO learning_lessons (id, module_id, title, content, key_takeaways, order_index, estimated_minutes, resources, videos, tags, status)
VALUES
  -- Week 1
  ('acc05b01-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 1: Introduction to Satellite Positioning and GNSS Overview',
   'History of satellite positioning: from Transit (Navy Navigation Satellite System) through GPS development by the U.S. Department of Defense. The three segments of GPS: space segment (satellite constellation), control segment (monitor stations and master control), and user segment (receivers). Overview of global GNSS constellations: GPS (United States, 31+ satellites, 6 orbital planes), GLONASS (Russia, 24 satellites, 3 orbital planes), Galileo (European Union, 30 planned satellites), BeiDou (China, 35+ satellites including GEO and MEO). Satellite-Based Augmentation Systems (SBAS): WAAS (US), EGNOS (Europe), MSAS (Japan). Why GNSS has revolutionized land surveying: centimeter-level positioning, no line-of-sight between stations required, all-weather operation, 24/7 availability.',
   ARRAY['Describe the three segments of GPS','Identify the four major GNSS constellations and their characteristics','Explain how satellite positioning has changed surveying practice','Distinguish between GNSS and GPS terminology','Understand the role of SBAS augmentation systems'],
   1, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-1','gnss','overview','constellations','history'], 'published'),

  -- Week 2
  ('acc05b02-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 2: GPS Signal Structure and Satellite Orbits',
   'GPS signal components: carrier waves (L1 at 1575.42 MHz, L2 at 1227.60 MHz, L5 at 1176.45 MHz), pseudorandom noise (PRN) codes (C/A code on L1, P(Y) code on L1 and L2), and the navigation message. How GPS measures distance: code-based (pseudorange) measurement vs carrier-phase measurement. Pseudorange computation: time of transmission × speed of light = range (but with clock errors, hence "pseudo"). Carrier-phase measurement: more precise but ambiguous (integer ambiguity problem). Satellite orbits: MEO at approximately 20,200 km altitude, orbital period of 11 hours 58 minutes (half a sidereal day), 55° inclination. Almanac vs ephemeris data: almanac provides approximate orbital parameters for all satellites; ephemeris provides precise orbital data for a single satellite.',
   ARRAY['Identify the GPS carrier frequencies (L1, L2, L5) and their purposes','Explain the difference between pseudorange and carrier-phase measurements','Describe the integer ambiguity problem in carrier-phase measurement','Understand satellite orbital parameters','Distinguish between almanac and ephemeris data'],
   2, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-2','signal-structure','carrier-phase','pseudorange','orbits'], 'published'),

  -- Week 3
  ('acc05b03-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 3: GPS Error Sources and Mitigation',
   'Error sources in GPS positioning: satellite clock errors (corrected by control segment), orbital errors (ephemeris errors), ionospheric delay (frequency-dependent, 1-100 meters), tropospheric delay (wet and dry components, 2-25 meters), multipath (reflected signals, 0.5-1+ meters), receiver noise, and antenna phase center variations. Mitigation strategies: dual-frequency receivers eliminate ionospheric delay, tropospheric models (Hopfield, Saastamoinen), multipath-resistant antennas (choke ring, ground plane), long observation sessions, and differential techniques. Selective Availability (SA): the intentional degradation of GPS accuracy that was discontinued on May 1, 2000. Geometric Dilution of Precision (GDOP) and its components: PDOP (position), HDOP (horizontal), VDOP (vertical), TDOP (time). Why good satellite geometry is essential.',
   ARRAY['Identify and quantify the major GPS error sources','Explain how dual-frequency receivers eliminate ionospheric delay','Describe the components of DOP and why geometry matters','Apply mitigation strategies for each error source','Understand why VDOP is typically larger than HDOP'],
   3, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-3','errors','ionosphere','troposphere','multipath','DOP'], 'published'),

  -- Week 4
  ('acc05b04-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 4: Coordinate Systems, Datums, and Projections',
   'Coordinate reference systems used with GPS: Earth-Centered Earth-Fixed (ECEF) Cartesian coordinates (X, Y, Z), geodetic coordinates (latitude, longitude, ellipsoidal height). Reference ellipsoids: WGS84 (used by GPS), GRS80 (used by NAD83 — practically identical to WGS84). The relationship between WGS84 and NAD83: originally coincident, now diverged by about 1-2 meters due to tectonic plate motion. Horizontal datums: NAD27 (Clarke 1866 ellipsoid, non-geocentric), NAD83 (GRS80, geocentric). Datum transformations and why they matter: Molodensky, Helmert 7-parameter. Texas state plane coordinate system: zones, Lambert Conformal Conic projection, central meridians, scale factors, and convergence angles. The combined scale factor and why it matters for ground-to-grid conversions.',
   ARRAY['Distinguish between ECEF, geodetic, and projected coordinates','Explain the relationship between WGS84 and NAD83','Describe the Texas state plane coordinate system zones','Perform basic ground-to-grid distance conversions','Understand why datum selection matters for survey accuracy'],
   4, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-4','coordinates','datums','NAD83','WGS84','state-plane','projections'], 'published'),

  -- Week 5
  ('acc05b05-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 5: Geoid Models and Height Systems',
   'The three height surfaces: ellipsoid, geoid, and topographic (earth''s surface). Ellipsoidal height (h): the height above the reference ellipsoid as measured by GPS — geometric, not related to gravity. Orthometric height (H): height above the geoid (mean sea level surface) — what leveling measures and what is used for engineering. Geoid height (N): the separation between the ellipsoid and the geoid. The fundamental relationship: h = H + N (ellipsoidal height = orthometric height + geoid height). NGS geoid models: GEOID18 (current), GEOID12B (previous). Why GPS alone cannot give orthometric heights without a geoid model. Practical implications: a GPS receiver might show an elevation different from a benchmark elevation by the geoid separation (which varies from about -8 to -53 meters across the continental US). NAVD88 vertical datum. The upcoming modernized NSRS with NATRF2022 and NAPGD2022.',
   ARRAY['Explain the relationship h = H + N','Distinguish between ellipsoidal height and orthometric height','Describe the purpose of geoid models','Apply a geoid model to convert GPS heights to orthometric heights','Understand the NAVD88 vertical datum and the upcoming NSRS modernization'],
   5, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-5','geoid','heights','ellipsoidal','orthometric','NAVD88'], 'published'),

  -- Week 6
  ('acc05b06-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 6: Static GPS Surveying',
   'Static GPS: the highest-accuracy GNSS method for control surveys. Procedure: two or more receivers occupy known and unknown points simultaneously for extended periods (typically 1-4 hours for baselines under 20 km). Session planning: selecting observation windows with good satellite geometry (low PDOP). Equipment setup: tripod centering, antenna height measurement (slant vs vertical), antenna orientation. Observation requirements: minimum 4 satellites, recommended 6+, dual-frequency receivers, 15-30 second recording intervals. Post-processing: downloading data, creating baselines, adjusting the network. Rapid-static: shorter occupation times (5-20 minutes) suitable for shorter baselines. Accuracy expectations: static achieves 3-5 mm + 0.5 ppm horizontal; rapid-static achieves 5-10 mm + 1 ppm. When to use static vs other methods.',
   ARRAY['Describe the static GPS observation procedure','Plan a static GPS session for optimal satellite geometry','Set up GPS equipment with correct antenna height measurement','Understand post-processing requirements for static surveys','Compare static and rapid-static methods for accuracy and efficiency'],
   6, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-6','static-gps','control-surveys','baselines','post-processing'], 'published'),

  -- Week 7
  ('acc05b07-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 7: Real-Time Kinematic (RTK) GPS Surveying',
   'RTK GPS: real-time centimeter-level positioning for production surveying. How RTK works: a base station on a known point transmits corrections to a rover via radio (UHF/VHF) or cellular. The rover resolves integer ambiguities in real time to compute precise positions. RTK initialization: time to first fix (TTFF), fixed vs float solutions. RTK accuracy: typically 1-2 cm horizontal, 2-3 cm vertical with reliable initialization. Equipment components: base receiver and antenna, rover receiver with pole and bipod, data radio or cellular modem, data collector/controller. Field procedures: setting up base on control, configuring radio link, rover initialization, staking out and collecting points. Limitations: baseline length (typically 10-15 km max), radio range, overhead obstructions, ionospheric conditions. Quality indicators: PDOP, number of satellites, fixed vs float, RMS values. When RTK fails: under tree canopy, near buildings, during ionospheric storms.',
   ARRAY['Explain how RTK GPS achieves centimeter-level accuracy in real time','Set up an RTK base station and rover','Distinguish between fixed and float solutions','Identify RTK limitations and troubleshooting strategies','Evaluate RTK quality indicators in the field'],
   7, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-7','RTK','real-time-kinematic','base-rover','initialization'], 'published'),

  -- Week 8: MIDTERM EXAM
  ('acc05b08-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 8: Midterm Exam',
   'Midterm examination covering Weeks 1–7: GNSS overview and constellations, signal structure and satellite orbits, error sources and mitigation, coordinate systems and datums, geoid models and height systems, static GPS surveying, and RTK GPS surveying. Expect conceptual questions on signal processing and error budgets, computation problems involving coordinate conversions and height relationships, and practical questions on field procedures.',
   ARRAY['Review all GNSS fundamentals from Weeks 1-7','Practice coordinate conversion and height computation problems','Review error sources, their magnitudes, and mitigation strategies','Study RTK and static GPS procedures and accuracy specifications'],
   8, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-8','midterm','exam'], 'published'),

  -- Week 9
  ('acc05b09-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 9: Network RTK, VRS, and CORS',
   'Limitations of single-base RTK and how network RTK solves them. Network RTK concepts: a network of continuously operating reference stations (CORS) computes area corrections for atmospheric and orbital errors. Virtual Reference Station (VRS): the network generates a synthetic base station near the rover, sending corrections as if a physical base were there. Other network RTK methods: MAC (Master-Auxiliary Concept), FKP (Flächenkorrekturparameter). Advantages of network RTK: no base station needed, longer effective baselines, more consistent accuracy over the coverage area. Texas CORS networks: the National Geodetic Survey (NGS) CORS network, TxDOT CORS, SmartNet, Topnet. OPUS (Online Positioning User Service): uploading static data to NGS for free post-processed solutions. OPUS-S (static, 2+ hours), OPUS-RS (rapid-static, 15 min-2 hours), OPUS-Projects (multi-station adjustments).',
   ARRAY['Explain how network RTK overcomes single-base RTK limitations','Describe how a Virtual Reference Station works','Identify available CORS networks in Texas','Use OPUS for post-processed static positioning','Compare VRS, MAC, and FKP network RTK methods'],
   9, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-9','network-RTK','VRS','CORS','OPUS'], 'published'),

  -- Week 10
  ('acc05b10-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 10: GPS Survey Planning and Mission Planning',
   'Planning a GPS survey: project requirements analysis, accuracy needs, method selection (static, rapid-static, RTK, network RTK). Mission planning software: predicting satellite availability, PDOP windows, elevation mask angles. Site reconnaissance for GPS: identifying obstructions (buildings, tree canopy, power lines), multipath sources, and access. Control requirements: connecting to existing geodetic control (NGS monuments, local control), verifying control quality. Session planning for static surveys: simultaneous occupation schedules, session duration, independent baselines, trivial baselines, and redundancy. Network design: creating a well-connected network with geometric strength. Observation logs and metadata: antenna types, heights, start/stop times, observer notes.',
   ARRAY['Plan a GPS survey based on project accuracy requirements','Use mission planning software to predict satellite availability','Design an observation schedule for a static GPS network','Select appropriate GPS method for different survey applications','Identify and document site conditions affecting GPS observations'],
   10, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-10','survey-planning','mission-planning','reconnaissance','network-design'], 'published'),

  -- Week 11
  ('acc05b11-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 11: GPS Data Processing and Network Adjustment',
   'Post-processing GPS observations: downloading data from receivers, selecting processing parameters, computing baselines. Baseline processing: single vs double-differencing, resolving integer ambiguities, evaluating baseline quality (ratio test, RMS). Trivial vs independent baselines in a network. Loop closures as quality checks. Network adjustment: least squares adjustment of the GPS network. Constrained vs minimally constrained adjustments. Evaluating adjustment results: residuals, error ellipses, chi-square test. Combining GPS with conventional measurements: mixed-mode adjustments. Software tools: Trimble Business Center, Leica Infinity, Carlson SurvGNSS. Export formats: RINEX (Receiver Independent Exchange Format), ASCII coordinates, DXF/DWG for CAD.',
   ARRAY['Process GPS baselines using post-processing software','Evaluate baseline quality using ratio test and RMS values','Perform loop closure checks on a GPS network','Understand least squares network adjustment concepts','Export GPS data in standard formats (RINEX, coordinates)'],
   11, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-11','post-processing','baselines','network-adjustment','RINEX'], 'published'),

  -- Week 12
  ('acc05b12-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 12: Introduction to Geographic Information Systems (GIS)',
   'What is GIS: a system for capturing, storing, analyzing, managing, and presenting spatial data. Components of a GIS: hardware, software, data, people, and methods. Spatial data models: vector (points, lines, polygons) vs raster (grid cells/pixels). Attribute data: the non-spatial information linked to spatial features (e.g., parcel number, owner name, area). Coordinate reference systems in GIS: geographic (lat/lon) vs projected (state plane, UTM). GIS software overview: ArcGIS (Esri), QGIS (open source), Google Earth Pro. Data sources for GIS: GPS surveys, aerial imagery, LiDAR, existing maps, census data, county records. The role of GIS in land surveying: parcel mapping, spatial analysis, utility mapping, environmental studies.',
   ARRAY['Define GIS and identify its core components','Distinguish between vector and raster spatial data models','Explain how attribute data links to spatial features','Identify common GIS software platforms','Describe how surveyors use GIS in professional practice'],
   12, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-12','GIS','spatial-data','vector','raster','attributes'], 'published'),

  -- Week 13
  ('acc05b13-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 13: GIS Data Collection, Quality, and Analysis',
   'GPS data collection for GIS: feature collection with attributes, coding systems, data dictionaries. Data quality concepts: accuracy, precision, completeness, consistency, currency. Metadata: data about the data — source, accuracy, coordinate system, date, creator. FGDC metadata standards. Spatial analysis operations: buffering, overlay (union, intersect, clip), proximity analysis, spatial queries. Geocoding: converting addresses to coordinates. Topology: the spatial relationships between features (adjacency, connectivity, containment). Quality assurance/quality control (QA/QC) for GPS-collected GIS data: checking positional accuracy, attribute completeness, and topological integrity.',
   ARRAY['Collect GPS data with attributes for GIS use','Understand spatial data quality concepts and metadata standards','Perform basic spatial analysis operations','Apply QA/QC procedures to GPS-collected data','Explain topology and its importance in GIS data'],
   13, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-13','GIS-data','spatial-analysis','metadata','topology','QA-QC'], 'published'),

  -- Week 14
  ('acc05b14-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 14: Integrating GNSS Data with CAD and GIS Workflows',
   'The survey data pipeline: from field to deliverable. Importing GPS coordinates into CAD software (AutoCAD, MicroStation, Civil 3D). Coordinate transformations: GPS (geographic) to state plane (projected) to ground (local). Scale factor and elevation factor for ground-to-grid conversions. Creating survey drawings from GPS data: points, linework, labels, legal descriptions. Exporting survey data to GIS: shapefiles, geodatabases, GeoJSON, KML. LiDAR and UAV (drone) integration with GNSS: ground control points for photogrammetry, LiDAR point cloud georeferencing. Emerging technologies: PPP (Precise Point Positioning), multi-constellation/multi-frequency receivers, smartphone GNSS, and the future of surveying with real-time PPP and LEO satellite augmentation.',
   ARRAY['Import GPS data into CAD software for survey drawings','Apply coordinate transformations between GPS, state plane, and ground coordinates','Export survey data in GIS-compatible formats','Understand the role of GNSS in UAV/drone and LiDAR workflows','Describe emerging GNSS technologies and their impact on surveying'],
   14, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-14','CAD','integration','transformations','LiDAR','UAV','emerging-tech'], 'published'),

  -- Week 15
  ('acc05b15-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 15: GNSS Best Practices and Comprehensive Review',
   'GPS/GNSS best practices for professional surveying: NGS guidelines for GNSS surveys, TBPELS standards for GPS-derived coordinates, minimum observation requirements, antenna calibration, independent checks. Common GPS mistakes and how to avoid them: wrong antenna height, wrong datum, wrong coordinate system, poor satellite geometry, inadequate occupation time. Professional applications review: boundary surveys with GPS, construction layout with RTK, control surveys with static, topographic mapping with RTK, geodetic densification. Comprehensive review of all course topics with practice problems. Study strategies for SIT/RPLS exam GPS sections.',
   ARRAY['Apply professional best practices for GNSS surveys','Identify and avoid common GPS surveying mistakes','Select the appropriate GNSS method for each survey application','Review all course material for the final exam','Prepare for SIT/RPLS exam GNSS topics'],
   15, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-15','best-practices','review','exam-prep','SIT','RPLS'], 'published'),

  -- Week 16: FINAL EXAM
  ('acc05b16-0000-0000-0000-000000000001', 'acc00005-0000-0000-0000-000000000005',
   'Week 16: Final Exam',
   'Comprehensive final examination covering all course material from Weeks 1–15. Topics include: GNSS constellations and segments, signal structure, error sources and mitigation, coordinate systems and datums, geoid models and heights, static and RTK surveying, network RTK and CORS/OPUS, survey planning, data processing and network adjustment, GIS fundamentals, spatial data and analysis, and GNSS/CAD/GIS integration. Both conceptual questions and computation problems.',
   ARRAY['Review all course concepts comprehensively','Practice coordinate and height conversion problems','Review error sources, accuracies, and field procedures','Study GIS concepts and spatial analysis methods','Focus on weak areas identified during the semester'],
   16, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2339','week-16','final','exam'], 'published');


-- ============================================================================
-- SECTION 3: QUESTION BANK — Weeks 1-7 (Quiz + Homework)
-- ============================================================================

DELETE FROM question_bank WHERE tags @> ARRAY['acc-srvy-2339'];

-- Week 1 Quiz & Homework
INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('GPS is operated and maintained by:', 'multiple_choice', '["The United Nations","The U.S. Department of Defense","NASA","The National Geodetic Survey"]'::jsonb, 'The U.S. Department of Defense', 'GPS (Global Positioning System) is a U.S. military system operated by the U.S. Department of Defense (Space Force). It was developed in the 1970s-80s for military navigation and was made available for civilian use.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','quiz','gps-operations']),
('GNSS stands for:', 'multiple_choice', '["Global Navigation System Standard","Global Navigation Satellite System","Geodetic Navigation Satellite Service","Ground Network Surveying System"]'::jsonb, 'Global Navigation Satellite System', 'GNSS (Global Navigation Satellite System) is the umbrella term for all satellite navigation systems. GPS is just one GNSS; others include GLONASS (Russia), Galileo (EU), and BeiDou (China).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','quiz','gnss-definition']),
('The GPS space segment consists of approximately how many operational satellites?', 'multiple_choice', '["12","24","31+","50"]'::jsonb, '31+', 'The GPS constellation currently has 31+ operational satellites in 6 orbital planes at approximately 20,200 km altitude. The minimum design is 24 satellites, but extras provide redundancy and improved geometry.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','quiz','space-segment']),
('GLONASS is the satellite navigation system operated by:', 'multiple_choice', '["The United States","Russia","The European Union","China"]'::jsonb, 'Russia', 'GLONASS (GLObal NAvigation Satellite System) is Russia''s GNSS. It uses 24 satellites in 3 orbital planes. GLONASS uses FDMA (frequency-division) rather than GPS''s CDMA (code-division) for signal separation.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','quiz','GLONASS']),
('GPS requires line of sight between the base and rover stations to function.', 'true_false', '["True","False"]'::jsonb, 'False', 'GPS does NOT require line of sight between ground stations (unlike conventional surveying). Each receiver independently observes satellites. This is a major advantage of GPS — stations can be placed where convenient, not where intervisible.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','quiz','line-of-sight']),
('List the three segments of GPS and describe the function of each.', 'essay', '[]'::jsonb, 'Space segment (satellites), control segment (ground stations that monitor/update), user segment (receivers)', 'The three GPS segments: (1) Space segment — the satellite constellation orbiting at ~20,200 km, broadcasting positioning signals. (2) Control segment — ground monitoring stations, master control station (Schriever AFB, CO), and ground antennas that track satellites, compute corrections, and upload data. (3) User segment — all GPS receivers (military and civilian) that receive satellite signals and compute positions.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','homework','three-segments']),
('Compare GPS to GLONASS in terms of number of satellites, orbital planes, and signal access method.', 'short_answer', '[]'::jsonb, 'GPS: 31+ satellites, 6 planes, CDMA. GLONASS: 24 satellites, 3 planes, FDMA (transitioning to CDMA).', 'GPS uses 31+ satellites in 6 orbital planes with CDMA (Code Division Multiple Access) — all satellites broadcast on the same frequency but use unique PRN codes. GLONASS uses 24 satellites in 3 orbital planes with FDMA (Frequency Division Multiple Access) — each satellite uses a slightly different frequency. GLONASS is transitioning to CDMA with newer satellites.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','homework','gps-vs-glonass']),
('Explain three advantages that GPS surveying has over conventional (total station) surveying methods.', 'essay', '[]'::jsonb, 'No line of sight needed, all-weather/24-hour operation, faster for large areas, longer range between stations.', 'GPS advantages: (1) No line-of-sight between stations needed — stations can be anywhere with sky visibility. (2) All-weather, 24-hour operation — works in rain, fog, and darkness. (3) Speed and efficiency for large areas — can cover many kilometers without building traverses. (4) Direct georeferenced coordinates in a geodetic datum. (5) Long-range baselines possible (hundreds of km for static). Conventional surveying still excels under canopy, in urban canyons, and for short-range high-precision work.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b01-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-1','homework','gps-advantages']),

-- Week 2 Quiz & Homework
('The GPS L1 carrier frequency is:', 'multiple_choice', '["1227.60 MHz","1176.45 MHz","1575.42 MHz","2400.00 MHz"]'::jsonb, '1575.42 MHz', 'L1 = 1575.42 MHz is the primary GPS carrier frequency. It carries the C/A code (civilian), P(Y) code (military), and the navigation message. L2 = 1227.60 MHz. L5 = 1176.45 MHz.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','quiz','L1-frequency']),
('Carrier-phase measurements are more precise than pseudorange measurements because:', 'multiple_choice', '["They use more satellites","The carrier wavelength (~19 cm) is much shorter than the code chip length (~300 m)","They are not affected by the ionosphere","They do not require a receiver"]'::jsonb, 'The carrier wavelength (~19 cm) is much shorter than the code chip length (~300 m)', 'Carrier-phase measurements resolve position to a fraction of the carrier wavelength (~19 cm for L1), giving millimeter-level precision. Pseudorange uses the C/A code chip length (~300 m), limiting precision to about 1-3 meters even with smoothing.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','quiz','carrier-vs-code']),
('The integer ambiguity problem in GPS refers to:', 'multiple_choice', '["Not knowing which satellites to use","Not knowing the exact number of full carrier wavelengths between satellite and receiver","Uncertainty in the satellite orbits","The receiver clock error"]'::jsonb, 'Not knowing the exact number of full carrier wavelengths between satellite and receiver', 'The carrier-phase measurement gives the fractional phase precisely, but the total number of full wavelengths (integer ambiguity N) is unknown. Resolving N is critical for centimeter-level positioning. This is what RTK initialization solves.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','quiz','integer-ambiguity']),
('GPS satellite orbits are at approximately what altitude?', 'multiple_choice', '["200 km (LEO)","2,000 km","20,200 km (MEO)","35,786 km (GEO)"]'::jsonb, '20,200 km (MEO)', 'GPS satellites orbit at approximately 20,200 km altitude in Medium Earth Orbit (MEO). This altitude results in an orbital period of about 11 hours 58 minutes (half a sidereal day), meaning each satellite appears ~4 minutes earlier each day.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','quiz','orbital-altitude']),
('The navigation message broadcast by GPS satellites contains ephemeris data and satellite health information.', 'true_false', '["True","False"]'::jsonb, 'True', 'The navigation message (broadcast at 50 bps) contains: ephemeris data (precise orbital parameters for the transmitting satellite), almanac data (approximate orbits for all satellites), satellite health status, clock correction parameters, and ionospheric model coefficients.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','quiz','navigation-message']),
('Explain why a GPS receiver needs signals from at least 4 satellites to compute a 3D position.', 'essay', '[]'::jsonb, 'Four unknowns: X, Y, Z coordinates plus receiver clock error. Four equations (one per satellite) are needed to solve four unknowns.', 'A GPS position requires solving four unknowns: three spatial coordinates (X, Y, Z) plus the receiver clock error (dt). Each satellite provides one pseudorange equation: distance = speed_of_light × (time_received - time_transmitted + clock_error). Four equations with four unknowns requires at least 4 satellites. Additional satellites provide redundancy for error detection and improved accuracy.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','homework','four-satellites']),
('What is the difference between almanac and ephemeris data? Which is more accurate?', 'short_answer', '[]'::jsonb, 'Almanac: approximate orbits for all satellites, valid for weeks. Ephemeris: precise orbit for one satellite, valid for 2-4 hours. Ephemeris is more accurate.', 'Almanac data provides approximate orbital parameters for ALL satellites, is valid for weeks/months, and allows the receiver to know roughly where each satellite is for acquisition. Ephemeris data provides precise orbital parameters for ONE satellite, is valid for only 2-4 hours, and is used for actual positioning. Ephemeris accuracy is about 1-2 meters; almanac accuracy is much coarser.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','homework','almanac-ephemeris']),
('The GPS L1 carrier wavelength is approximately 19 cm. If a carrier-phase measurement can resolve to 1% of a wavelength, what is the measurement precision?', 'numeric_input', '[]'::jsonb, '1.9', '19 cm × 0.01 = 0.19 cm ≈ 1.9 mm. This demonstrates why carrier-phase measurements achieve millimeter-level precision.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b02-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-2','homework','wavelength-precision']),

-- Week 3 Quiz & Homework
('The largest GPS error source for single-frequency receivers is:', 'multiple_choice', '["Multipath","Ionospheric delay","Tropospheric delay","Receiver noise"]'::jsonb, 'Ionospheric delay', 'Ionospheric delay is the largest error source, potentially causing 1-100 meters of range error depending on solar activity. It is frequency-dependent, which is why dual-frequency receivers can eliminate it using the L1/L2 combination.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','quiz','ionospheric-delay']),
('Dual-frequency GPS receivers eliminate ionospheric delay because:', 'multiple_choice', '["They are more expensive","The ionosphere affects L1 and L2 differently, allowing the delay to be computed and removed","They have better antennas","They use more satellites"]'::jsonb, 'The ionosphere affects L1 and L2 differently, allowing the delay to be computed and removed', 'The ionosphere is a dispersive medium — it delays signals proportional to 1/f². By measuring the same signal on two frequencies (L1 and L2), the receiver can compute the ionospheric delay exactly and remove it. This is the primary advantage of dual-frequency receivers.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','quiz','dual-frequency']),
('PDOP stands for:', 'multiple_choice', '["Precise Dilution of Positioning","Position Dilution of Precision","Projected Distance of Points","Predicted Direction of Position"]'::jsonb, 'Position Dilution of Precision', 'PDOP (Position Dilution of Precision) is a dimensionless number indicating how satellite geometry affects position accuracy. Lower PDOP is better (1-2 = excellent, 2-5 = good, 5+ = poor). PDOP combines HDOP and VDOP.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','quiz','PDOP']),
('Multipath error occurs when GPS signals reach the receiver via reflections off nearby surfaces.', 'true_false', '["True","False"]'::jsonb, 'True', 'Multipath occurs when GPS signals reflect off buildings, vehicles, fences, or the ground and arrive at the antenna after the direct signal. This causes range measurement errors of 0.5 to several meters. Mitigation includes choke-ring antennas, ground planes, and careful site selection.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','quiz','multipath']),
('A PDOP value of 1.5 indicates:', 'multiple_choice', '["Poor satellite geometry","Excellent satellite geometry","No satellites available","A hardware malfunction"]'::jsonb, 'Excellent satellite geometry', 'PDOP = 1.5 is excellent. The scale is: 1 = ideal, 1-2 = excellent, 2-5 = good, 5-10 = moderate, 10-20 = fair, >20 = poor. Lower PDOP means satellites are well-distributed in the sky, giving the strongest geometry for position computation.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','quiz','PDOP-values']),
('List the major GPS error sources in order from largest to smallest magnitude. For each, state an approximate magnitude and one mitigation strategy.', 'essay', '[]'::jsonb, 'Ionosphere (1-100m, dual-frequency), troposphere (2-25m, models), orbit errors (1-5m, differential), multipath (0.5-1m, choke ring antenna), receiver noise (<1m, averaging).', 'Error sources ranked: (1) Ionospheric delay: 1-100m, mitigated by dual-frequency receivers. (2) Tropospheric delay: 2-25m (mostly dry component), mitigated by atmospheric models. (3) Orbital/ephemeris errors: 1-5m, mitigated by differential techniques and precise ephemeris. (4) Multipath: 0.5-1+ m, mitigated by choke-ring antennas and site selection. (5) Receiver noise/antenna: <1m, mitigated by averaging and quality equipment. Differential GPS cancels most satellite and atmospheric errors common to both receivers.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','homework','error-budget']),
('Explain why VDOP is typically worse (larger) than HDOP.', 'short_answer', '[]'::jsonb, 'Satellites are always above the receiver, never below, creating weaker vertical geometry than horizontal geometry.', 'All GPS satellites are above the receiver — none are below the horizon. This creates an inherent geometric weakness in the vertical direction because the satellite distribution is like an inverted cone rather than a full sphere. Horizontally, satellites can be spread 360° around the receiver, but vertically they only range from the horizon up to directly overhead. This is why GPS vertical accuracy is typically 1.5-2× worse than horizontal.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','homework','VDOP-explanation']),
('What was Selective Availability (SA) and when was it discontinued?', 'short_answer', '[]'::jsonb, 'SA was intentional degradation of GPS accuracy by DoD. Discontinued May 1, 2000. Reduced civilian accuracy from ~100m to ~15m.', 'Selective Availability was the intentional degradation of GPS signals by the U.S. Department of Defense, adding errors to the satellite clock and ephemeris data. SA limited civilian accuracy to about 100 meters. It was turned off on May 1, 2000, by Presidential order, immediately improving civilian accuracy to about 15 meters (standalone). SA is now permanently decommissioned on newer satellites.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b03-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-3','homework','selective-availability']),

-- Week 4 Quiz & Homework
('NAD83 uses which reference ellipsoid?', 'multiple_choice', '["Clarke 1866","GRS80","WGS84","Bessel 1841"]'::jsonb, 'GRS80', 'NAD83 uses the GRS80 (Geodetic Reference System 1980) ellipsoid, which is practically identical to WGS84 (they differ by less than 0.1 mm in the semi-minor axis). NAD27 used the Clarke 1866 ellipsoid.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','quiz','NAD83-ellipsoid']),
('The difference between NAD83 and WGS84 coordinates is currently approximately:', 'multiple_choice', '["Zero — they are identical","1-2 meters","100+ meters","1 kilometer"]'::jsonb, '1-2 meters', 'NAD83 and WGS84 were originally coincident (1987), but have since diverged by about 1-2 meters due to tectonic plate motion. North America moves relative to the global WGS84 frame. This difference matters for high-accuracy work.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','quiz','NAD83-vs-WGS84']),
('Texas state plane coordinates use which map projection?', 'multiple_choice', '["Transverse Mercator","Lambert Conformal Conic","UTM","Polyconic"]'::jsonb, 'Lambert Conformal Conic', 'Texas uses Lambert Conformal Conic (LCC) projection for its state plane coordinate system. LCC is ideal for states that extend primarily east-west. Texas has 5 state plane zones: North, North Central, Central, South Central, and South.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','quiz','texas-state-plane']),
('NAD27 and NAD83 can differ by hundreds of meters at the same location.', 'true_false', '["True","False"]'::jsonb, 'True', 'NAD27 (based on Clarke 1866 ellipsoid, non-geocentric datum origin at Meades Ranch, Kansas) can differ from NAD83 (GRS80, geocentric) by 10 to 300+ meters depending on location. Using the wrong datum is a critical error.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','quiz','NAD27-vs-NAD83']),
('How many state plane zones does Texas have?', 'numeric_input', '[]'::jsonb, '5', 'Texas has 5 state plane zones: North (4201), North Central (4202), Central (4203), South Central (4204), and South (4205). Each zone has its own projection parameters.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','quiz','state-plane-zones']),
('Explain why using the wrong datum can cause significant positioning errors. Give an example.', 'essay', '[]'::jsonb, 'Different datums define the coordinate origin and ellipsoid differently, so the same coordinates in different datums refer to different physical locations.', 'Using the wrong datum causes positioning errors because the same latitude/longitude values in different datums point to physically different locations on the ground. For example, a point at 30°15''00" N, 97°45''00" W in NAD27 could be over 200 meters from the same coordinates in NAD83 in parts of Texas. If GPS data (in NAD83) is plotted on a NAD27 map without transformation, features will appear shifted. This has caused real-world problems including construction errors and property disputes.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','homework','datum-errors']),
('What is a combined scale factor and why does it matter for GPS surveys?', 'short_answer', '[]'::jsonb, 'Combined scale factor = grid scale factor × elevation factor. It converts between ground distances and state plane grid distances.', 'The combined scale factor is the product of the grid scale factor (from the map projection) and the elevation factor (accounting for height above the ellipsoid). It is needed to convert between ground-level measurements and state plane grid distances. If you survey on the ground but map in state plane coordinates, distances will differ unless you apply the combined scale factor. Failure to account for this can cause significant errors in large surveys.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','homework','scale-factor']),
('If a GPS receiver shows coordinates in WGS84 but your project requires NAD83, what should you do?', 'short_answer', '[]'::jsonb, 'Apply a datum transformation (e.g., 14-parameter Helmert) or use the appropriate realization epoch. For most work in CONUS, the difference is 1-2m.', 'You should apply a datum transformation to convert WGS84 coordinates to NAD83. For most survey-grade work, use the appropriate transformation parameters (14-parameter Helmert transformation with epoch). For sub-meter work, the 1-2m difference between WGS84(current) and NAD83(2011) may be acceptable. For centimeter-level work, the specific realization and epoch of both datums must be considered. Most survey-grade GPS software handles this automatically if configured correctly.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b04-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-4','homework','datum-transformation']),

-- Week 5 Quiz & Homework
('The relationship between ellipsoidal height (h), orthometric height (H), and geoid height (N) is:', 'multiple_choice', '["h = H - N","h = H + N","H = h + N","N = H + h"]'::jsonb, 'h = H + N', 'The fundamental height relationship: h = H + N, where h = ellipsoidal height (GPS), H = orthometric height (leveling/NAVD88), N = geoid height (separation). Rearranged: H = h - N.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','quiz','height-relationship']),
('GPS directly measures which type of height?', 'multiple_choice', '["Orthometric height","Geoid height","Ellipsoidal height","Mean sea level height"]'::jsonb, 'Ellipsoidal height', 'GPS measures ellipsoidal height (h) — the geometric distance above the reference ellipsoid. This is NOT the same as elevation above mean sea level. A geoid model is required to convert to orthometric height (H = h - N).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','quiz','ellipsoidal-height']),
('The geoid is best described as:', 'multiple_choice', '["A perfect sphere","The physical surface of the earth","An equipotential surface of gravity that approximates mean sea level","The reference ellipsoid"]'::jsonb, 'An equipotential surface of gravity that approximates mean sea level', 'The geoid is the equipotential surface of Earth''s gravity field that best fits global mean sea level. It is an irregular surface that reflects variations in mass distribution within the Earth. Water at rest would align with the geoid.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','quiz','geoid-definition']),
('In the continental US, the geoid is generally below the ellipsoid.', 'true_false', '["True","False"]'::jsonb, 'True', 'In CONUS, the geoid height (N) is negative, meaning the geoid is below the WGS84/GRS80 ellipsoid by about 8 to 53 meters. This means ellipsoidal heights from GPS are larger than orthometric heights (elevations) at the same point.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','quiz','geoid-in-US']),
('NAVD88 is a:', 'multiple_choice', '["Horizontal datum","Vertical datum","Satellite system","Map projection"]'::jsonb, 'Vertical datum', 'NAVD88 (North American Vertical Datum of 1988) is the current official vertical datum for the US. It is based on one tidal benchmark (Father Point/Rimouski, Quebec) and a national leveling network adjustment.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','quiz','NAVD88']),
('A GPS receiver shows an ellipsoidal height of 195.3 m at a point. The geoid model shows N = -27.5 m at that location. What is the orthometric height (NAVD88 elevation)?', 'numeric_input', '[]'::jsonb, '222.8', 'H = h - N = 195.3 - (-27.5) = 195.3 + 27.5 = 222.8 m. Note: when N is negative, subtracting it adds to h.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','homework','height-computation']),
('Why can''t GPS alone provide accurate elevations without a geoid model? Explain the difference between the ellipsoid and the geoid.', 'essay', '[]'::jsonb, 'GPS measures height above a mathematical ellipsoid, not above sea level. The geoid (gravity surface) differs from the ellipsoid by up to 100+ meters globally.', 'GPS measures the geometric distance above a mathematical ellipsoid (a smooth, regular surface). But elevation for engineering and mapping purposes is height above the geoid (mean sea level surface). The geoid is irregular due to gravity variations caused by mass distribution within the Earth. In the US, the geoid can be 8-53 meters below the ellipsoid. Without a geoid model (like GEOID18), GPS height is meaningless for engineering. For example, two points with equal ellipsoidal heights could have very different elevations because the geoid undulates between them.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','homework','geoid-explanation']),
('A benchmark has a known NAVD88 elevation of 150.00 m. GPS measures an ellipsoidal height of 118.2 m. What is the geoid height (N) at this location?', 'numeric_input', '[]'::jsonb, '-31.8', 'h = H + N → N = h - H = 118.2 - 150.0 = -31.8 m. The negative value confirms the geoid is below the ellipsoid at this location.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b05-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-5','homework','geoid-computation']),

-- Week 6 Quiz & Homework
('Static GPS achieves horizontal accuracy of approximately:', 'multiple_choice', '["1-3 meters","10-30 cm","3-5 mm + 0.5 ppm","1-2 cm + 1 ppm"]'::jsonb, '3-5 mm + 0.5 ppm', 'Static GPS with extended observation times (1-4+ hours) and dual-frequency receivers achieves 3-5 mm + 0.5 ppm horizontal accuracy, making it the most precise GNSS method for control surveys.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b06-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-6','quiz','static-accuracy']),
('In a static GPS session, "occupation time" refers to:', 'multiple_choice', '["The time to set up the tripod","The total time the receiver collects satellite data at a point","The time between sessions","The satellite pass duration"]'::jsonb, 'The total time the receiver collects satellite data at a point', 'Occupation time is the duration a GPS receiver continuously collects satellite data at a station. For static surveys, typical occupation times range from 1-4 hours for baselines under 20 km, increasing for longer baselines or challenging conditions.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b06-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-6','quiz','occupation-time']),
('Antenna height measurement errors directly affect the:', 'multiple_choice', '["Horizontal position only","Vertical position only","Both horizontal and vertical positions","Neither — the software corrects for it"]'::jsonb, 'Both horizontal and vertical positions', 'An incorrect antenna height directly corrupts the vertical position and also affects the horizontal through the baseline solution geometry. Antenna height errors are one of the most common blunders in GPS surveying — always measure to the ARP (Antenna Reference Point) and record whether it is a slant or vertical measurement.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b06-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-6','quiz','antenna-height']),
('A recording interval of 15 seconds means the receiver stores an observation every 15 seconds.', 'true_false', '["True","False"]'::jsonb, 'True', 'The recording (logging) interval defines how often the receiver stores pseudorange and carrier-phase observations. A 15-second interval is standard for static surveys. Shorter intervals (1-5 seconds) are used for kinematic surveys.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b06-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-6','quiz','recording-interval']),
('Rapid-static GPS differs from static GPS primarily in:', 'multiple_choice', '["The number of satellites tracked","The occupation time (shorter for rapid-static)","The type of receiver used","The accuracy (rapid-static is more accurate)"]'::jsonb, 'The occupation time (shorter for rapid-static)', 'Rapid-static uses shorter occupation times (5-20 minutes vs 1-4 hours) suitable for shorter baselines. It trades some accuracy (5-10 mm + 1 ppm vs 3-5 mm + 0.5 ppm) for significantly improved productivity.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b06-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-6','quiz','rapid-static']),

-- Week 7 Quiz & Homework
('RTK GPS achieves typical horizontal accuracy of:', 'multiple_choice', '["1-3 meters","10-30 cm","1-2 cm","3-5 mm"]'::jsonb, '1-2 cm', 'RTK (Real-Time Kinematic) GPS achieves typical accuracy of 1-2 cm horizontal and 2-3 cm vertical with a reliable fixed solution. This makes it suitable for most survey-grade applications including boundary and topographic surveys.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','quiz','RTK-accuracy']),
('A "fixed" RTK solution means:', 'multiple_choice', '["The receiver is stationary","The integer ambiguities have been resolved","The base station is on a fixed monument","GPS accuracy is fixed at 1 cm"]'::jsonb, 'The integer ambiguities have been resolved', 'A "fixed" solution means the receiver has successfully resolved the integer ambiguities (the unknown number of full carrier wavelengths to each satellite). This is essential for centimeter-level accuracy. A "float" solution has not resolved ambiguities and has decimeter-level accuracy.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','quiz','fixed-solution']),
('The maximum recommended baseline length for single-base RTK is typically:', 'multiple_choice', '["1-2 km","5-7 km","10-15 km","50-100 km"]'::jsonb, '10-15 km', 'Single-base RTK is typically limited to 10-15 km baselines. Beyond this, differential atmospheric errors between base and rover become too large for reliable centimeter-level positioning. Network RTK extends this range.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','quiz','RTK-range']),
('An RTK "float" solution is acceptable for survey-grade boundary work.', 'true_false', '["True","False"]'::jsonb, 'False', 'A float solution has NOT resolved the integer ambiguities and has accuracy of only 10-50 cm — not acceptable for survey-grade boundary work. Only a fixed solution (1-2 cm) meets professional survey standards. Never accept float solutions for control or boundary points.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','quiz','float-unacceptable']),
('RTK GPS requires a data link between the base station and rover.', 'true_false', '["True","False"]'::jsonb, 'True', 'RTK requires real-time transmission of correction data from the base station to the rover. This can be via UHF/VHF radio, cellular modem, or WiFi. Without the data link, the rover cannot compute real-time corrected positions.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','quiz','data-link']),
('Compare RTK and static GPS surveying: when should each method be used? Discuss accuracy, speed, and appropriate applications.', 'essay', '[]'::jsonb, 'Static: highest accuracy (3-5mm), slow, for control networks. RTK: good accuracy (1-2cm), fast, for production surveying, stakeout, topography.', 'Static GPS: highest accuracy (3-5 mm), requires long occupation times (1-4 hours per point), best for geodetic control networks, establishing project control, and high-order surveys. RTK GPS: good accuracy (1-2 cm), positions available in seconds, best for production surveying — boundary points, topographic data collection, construction stakeout. Use static when you need the highest accuracy and have time; use RTK when you need speed with centimeter-level accuracy. Static is post-processed; RTK is real-time.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','homework','RTK-vs-static']),
('You''re performing an RTK survey and the controller shows "FLOAT" instead of "FIXED." List three things you should check.', 'short_answer', '[]'::jsonb, 'Check: satellite count and PDOP, proximity to obstructions, baseline length to base, data link quality', 'When RTK can''t achieve a fixed solution, check: (1) Satellite count — need at least 5-6 with good geometry (low PDOP). (2) Obstructions — tree canopy, buildings, or terrain blocking satellite signals. (3) Baseline length — too far from base station degrades performance. (4) Data link — weak or intermittent radio/cellular connection. (5) Ionospheric conditions — solar activity can prevent ambiguity resolution. Try moving to a clearer area, waiting for better geometry, or restarting the receiver.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','homework','RTK-troubleshooting']),
('Why does RTK accuracy degrade with increasing baseline length?', 'short_answer', '[]'::jsonb, 'Atmospheric conditions differ between base and rover at longer distances, so differential corrections become less effective.', 'RTK accuracy degrades with distance because the atmospheric conditions (ionospheric and tropospheric delays) at the base and rover become increasingly different. Differential corrections assume similar atmospheric errors at both locations. As separation increases, the atmospheric errors decorrelate, leaving uncorrected residual errors that degrade accuracy and make ambiguity resolution more difficult.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b07-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-7','homework','baseline-degradation']);


-- ============================================================================
-- SECTION 4: MIDTERM EXAM QUESTIONS (15 questions covering Weeks 1-7)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('GPS stands for:', 'multiple_choice', '["Global Positioning System","Geodetic Positioning Service","Ground Positioning Standard","Geographic Position Software"]'::jsonb, 'Global Positioning System', 'GPS = Global Positioning System, operated by the U.S. Department of Defense (Space Force).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','definition']),
('How many satellites are needed for a 3D GPS position fix?', 'multiple_choice', '["2","3","4","6"]'::jsonb, '4', 'Four satellites are needed: three for X, Y, Z coordinates plus one to solve the receiver clock error.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','satellites']),
('The GPS L1 frequency is 1575.42 MHz.', 'true_false', '["True","False"]'::jsonb, 'True', 'L1 = 1575.42 MHz is the primary GPS carrier frequency.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','L1']),
('The largest error source for single-frequency GPS is:', 'multiple_choice', '["Multipath","Ionospheric delay","Receiver noise","User error"]'::jsonb, 'Ionospheric delay', 'Ionospheric delay can cause 1-100m of error and is the dominant error source for single-frequency receivers.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','errors']),
('PDOP of 2.5 indicates:', 'multiple_choice', '["Poor geometry","Good geometry","No satellites visible","System malfunction"]'::jsonb, 'Good geometry', 'PDOP 2-5 is "good." Lower is better. PDOP < 2 is excellent.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','PDOP']),
('NAD83 and WGS84 are currently offset by approximately:', 'multiple_choice', '["They are identical","1-2 meters","100 meters","1 kilometer"]'::jsonb, '1-2 meters', 'NAD83 and WGS84 have diverged by about 1-2 meters due to tectonic plate motion since their original alignment.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','datums']),
('The formula h = H + N relates:', 'multiple_choice', '["Three types of distance","Ellipsoidal height, orthometric height, and geoid height","Latitude, longitude, and elevation","Three GPS error sources"]'::jsonb, 'Ellipsoidal height, orthometric height, and geoid height', 'h (ellipsoidal) = H (orthometric) + N (geoid height). GPS gives h; leveling gives H; the geoid model provides N.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','heights']),
('If GPS measures h = 250.0 m and N = -30.0 m, the orthometric height H is:', 'numeric_input', '[]'::jsonb, '280', 'H = h - N = 250.0 - (-30.0) = 280.0 m.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','height-computation']),
('Static GPS is the most accurate GNSS method, achieving mm-level accuracy.', 'true_false', '["True","False"]'::jsonb, 'True', 'Static GPS with long occupations and post-processing achieves 3-5 mm + 0.5 ppm, the highest GNSS accuracy.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','static-accuracy']),
('RTK requires a data link between base and rover.', 'true_false', '["True","False"]'::jsonb, 'True', 'RTK needs real-time correction data transmitted from base to rover via radio or cellular.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','RTK']),
('A "fixed" RTK solution means:', 'multiple_choice', '["The antenna is fixed to a tripod","Integer ambiguities have been resolved","The position will not change","The base station is permanent"]'::jsonb, 'Integer ambiguities have been resolved', 'Fixed = integer ambiguities resolved = centimeter accuracy. Float = unresolved = decimeter accuracy.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','fixed-solution']),
('Texas state plane coordinates use Lambert Conformal Conic projection.', 'true_false', '["True","False"]'::jsonb, 'True', 'Texas uses LCC projection with 5 zones for its state plane coordinate system.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','state-plane']),
('Multipath is caused by:', 'multiple_choice', '["Solar activity","Signal reflections off nearby surfaces","Too many satellites","Incorrect antenna height"]'::jsonb, 'Signal reflections off nearby surfaces', 'Multipath occurs when satellite signals reflect off buildings, vehicles, or ground surfaces before reaching the antenna.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','multipath']),
('Carrier-phase measurement precision is on the order of:', 'multiple_choice', '["1-3 meters","10-30 cm","1-5 cm","millimeters"]'::jsonb, 'millimeters', 'Carrier-phase resolves to a fraction of the ~19 cm wavelength, giving mm-level measurement precision.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','carrier-phase']),
('The recommended maximum baseline for single-base RTK is:', 'multiple_choice', '["1 km","5 km","10-15 km","100 km"]'::jsonb, '10-15 km', 'Single-base RTK is typically limited to 10-15 km. Beyond this, differential atmospheric errors degrade performance.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b08-0000-0000-0000-000000000001', 'ACC-2339-MIDTERM', ARRAY['acc-srvy-2339','midterm','baseline-length']);


-- ============================================================================
-- SECTION 5: QUESTION BANK — Weeks 9-15
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
-- Week 9
('Network RTK overcomes single-base RTK limitations by:', 'multiple_choice', '["Using more expensive receivers","Computing area corrections from a network of reference stations","Requiring shorter baselines","Using only L1 signals"]'::jsonb, 'Computing area corrections from a network of reference stations', 'Network RTK uses multiple CORS to model atmospheric and orbital errors across an area. These area corrections allow the rover to work at greater distances from any single reference station with consistent accuracy.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b09-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-9','quiz','network-RTK']),
('OPUS stands for:', 'multiple_choice', '["Online Positioning User Service","Orbital Processing Unit System","Optimal Position Using Satellites","Official Positioning Utility Standard"]'::jsonb, 'Online Positioning User Service', 'OPUS (Online Positioning User Service) is a free service from NGS that processes static GPS data using nearby CORS stations. Users upload their RINEX data and receive processed coordinates in NAD83.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b09-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-9','quiz','OPUS']),
('A Virtual Reference Station (VRS) is a physical station near the rover.', 'true_false', '["True","False"]'::jsonb, 'False', 'A VRS is NOT physical — it is a synthetic (virtual) reference station generated by the network software near the rover''s position. The network computes what corrections would look like from that virtual location and sends them to the rover.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b09-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-9','quiz','VRS']),
('CORS stations operate:', 'multiple_choice', '["Only during business hours","24 hours a day, 7 days a week","Only when requested by users","During satellite passes only"]'::jsonb, '24 hours a day, 7 days a week', 'CORS (Continuously Operating Reference Stations) run 24/7, continuously collecting GNSS data. This data is used for post-processing (OPUS) and real-time corrections (network RTK).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b09-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-9','quiz','CORS']),

-- Week 10
('The primary purpose of GPS mission planning is to:', 'multiple_choice', '["Choose the cheapest equipment","Identify observation windows with good satellite geometry","Plan the office party","Select the fastest route to the site"]'::jsonb, 'Identify observation windows with good satellite geometry', 'Mission planning predicts satellite positions and DOP values throughout the day, allowing the surveyor to schedule observations during periods of optimal satellite geometry (low PDOP, good sky distribution).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b10-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-10','quiz','mission-planning']),
('An elevation mask of 15° means the receiver ignores satellites below 15° above the horizon.', 'true_false', '["True","False"]'::jsonb, 'True', 'An elevation mask (cutoff angle) of 15° instructs the receiver to reject signals from satellites below 15° elevation. Low-elevation satellites pass through more atmosphere, increasing errors. Standard mask is 10-15°.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b10-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-10','quiz','elevation-mask']),

-- Week 11
('RINEX is a standard format for:', 'multiple_choice', '["CAD drawings","GPS observation data exchange between different receivers","GIS databases","Survey plats"]'::jsonb, 'GPS observation data exchange between different receivers', 'RINEX (Receiver Independent Exchange Format) is the standard format for exchanging raw GPS observation data between different receiver brands. This allows processing data from mixed equipment.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b11-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-11','quiz','RINEX']),
('A loop closure in GPS network processing checks for:', 'multiple_choice', '["The number of satellites","Consistency of baseline solutions around a closed figure","The antenna height","The receiver battery level"]'::jsonb, 'Consistency of baseline solutions around a closed figure', 'Loop closures check that baselines around a closed polygon (loop) are self-consistent. The sum of baseline components around a loop should theoretically be zero. Large misclosures indicate blunders or poor baseline solutions.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b11-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-11','quiz','loop-closure']),

-- Week 12
('In GIS, vector data represents features as:', 'multiple_choice', '["Grid cells with values","Points, lines, and polygons","Satellite images","Text documents"]'::jsonb, 'Points, lines, and polygons', 'Vector data uses points (wells, monuments), lines (roads, utilities, streams), and polygons (parcels, buildings, lakes) to represent geographic features. Each feature can have associated attribute data.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b12-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-12','quiz','vector-data']),
('Raster data is best suited for representing:', 'multiple_choice', '["Property boundaries","Continuous surfaces like elevation or temperature","Individual survey monuments","Road centerlines"]'::jsonb, 'Continuous surfaces like elevation or temperature', 'Raster data (grids of cells/pixels) is ideal for continuous phenomena: elevation (DEM), temperature, precipitation, satellite imagery, and land cover. Vector data is better for discrete features like boundaries and roads.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b12-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-12','quiz','raster-data']),
('Attribute data in a GIS is:', 'multiple_choice', '["The coordinate positions of features","Non-spatial information linked to spatial features","The map projection","The file format"]'::jsonb, 'Non-spatial information linked to spatial features', 'Attribute data describes the characteristics of spatial features. For a parcel polygon: owner name, acreage, zoning, assessed value. For a monument point: type, date set, coordinates, surveyor. Attributes are stored in a database table linked to the geometry.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b12-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-12','quiz','attribute-data']),

-- Week 13
('Metadata in GIS refers to:', 'multiple_choice', '["The largest dataset","Data about the data — source, accuracy, date, coordinate system","The most important layer","Extra data that can be deleted"]'::jsonb, 'Data about the data — source, accuracy, date, coordinate system', 'Metadata documents data quality and provenance: who created it, when, how, what coordinate system, what accuracy, completeness, and limitations. FGDC standards define required metadata elements.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b13-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-13','quiz','metadata']),
('A buffer operation in GIS creates:', 'multiple_choice', '["A copy of the data","A zone of specified distance around a feature","A backup file","A faster processing environment"]'::jsonb, 'A zone of specified distance around a feature', 'Buffering creates a polygon representing all area within a specified distance of a feature. Example: a 50-foot buffer around a stream creates a polygon showing the 50-foot setback zone.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b13-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-13','quiz','buffer']),

-- Week 14
('The combined scale factor accounts for:', 'multiple_choice', '["Only the map projection","Both map projection distortion and elevation above the ellipsoid","Only the elevation","The curvature of the earth only"]'::jsonb, 'Both map projection distortion and elevation above the ellipsoid', 'Combined scale factor = grid scale factor (projection) × elevation factor (height). Both must be considered when converting between ground distances and state plane grid distances.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b14-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-14','quiz','combined-scale-factor']),
('PPP (Precise Point Positioning) differs from differential GPS because PPP uses:', 'multiple_choice', '["A base station","Precise satellite orbit and clock products instead of a base station","Less expensive equipment","Only one satellite"]'::jsonb, 'Precise satellite orbit and clock products instead of a base station', 'PPP uses precise satellite orbits and clocks (from IGS or similar) to achieve centimeter-level accuracy with a single receiver — no base station needed. This is emerging technology for surveying applications.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b14-0000-0000-0000-000000000001', 'ACC-2339', ARRAY['acc-srvy-2339','week-14','quiz','PPP']);


-- ============================================================================
-- SECTION 6: FINAL EXAM QUESTIONS (20 questions comprehensive)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('The three segments of GPS are space, control, and:', 'multiple_choice', '["Ground","User","Satellite","Communication"]'::jsonb, 'User', 'Space segment (satellites), control segment (ground monitoring/upload), user segment (all receivers).', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','segments']),
('Galileo is the GNSS operated by:', 'multiple_choice', '["Russia","China","The European Union","Japan"]'::jsonb, 'The European Union', 'Galileo is the EU''s GNSS, designed for civilian control with 30 planned satellites.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','Galileo']),
('Dual-frequency receivers eliminate:', 'multiple_choice', '["All GPS errors","Ionospheric delay","Tropospheric delay","Multipath"]'::jsonb, 'Ionospheric delay', 'Dual-frequency eliminates ionospheric delay by exploiting its frequency-dependent nature.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','dual-frequency']),
('VDOP is usually larger than HDOP because:', 'multiple_choice', '["The receiver is defective","Satellites are only above, never below, creating weaker vertical geometry","Vertical measurements use fewer satellites","The troposphere only affects vertical"]'::jsonb, 'Satellites are only above, never below, creating weaker vertical geometry', 'No satellites below the horizon means vertical geometry is inherently weaker than horizontal.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','VDOP']),
('NAD27 used which ellipsoid?', 'multiple_choice', '["GRS80","WGS84","Clarke 1866","Bessel"]'::jsonb, 'Clarke 1866', 'NAD27 used the Clarke 1866 ellipsoid with a non-geocentric datum origin at Meades Ranch, Kansas.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','NAD27']),
('GPS measures ellipsoidal height, not orthometric height.', 'true_false', '["True","False"]'::jsonb, 'True', 'GPS gives ellipsoidal height (h). Orthometric height (H) requires a geoid model: H = h - N.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','height-type']),
('If h = 180.5 m and N = -25.3 m, then H = ?', 'numeric_input', '[]'::jsonb, '205.8', 'H = h - N = 180.5 - (-25.3) = 205.8 m.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','height-calculation']),
('Static GPS achieves _____ accuracy.', 'multiple_choice', '["1-3 meters","10-30 cm","3-5 mm + 0.5 ppm","1-2 cm"]'::jsonb, '3-5 mm + 0.5 ppm', 'Static GPS with long occupations achieves the highest GNSS accuracy: 3-5 mm + 0.5 ppm.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','static']),
('An RTK float solution is acceptable for boundary surveys.', 'true_false', '["True","False"]'::jsonb, 'False', 'Float solutions (~10-50 cm accuracy) are NOT acceptable for boundary surveys. Only fixed solutions (1-2 cm) meet professional standards.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','float']),
('VRS generates a synthetic reference station near the:', 'multiple_choice', '["CORS network center","Nearest city","Rover position","Equator"]'::jsonb, 'Rover position', 'VRS creates a virtual base station near the rover''s approximate position to minimize baseline-dependent errors.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','VRS']),
('OPUS processes GPS data using:', 'multiple_choice', '["RTK corrections","Nearby CORS stations","Cell phone towers","User-supplied base data only"]'::jsonb, 'Nearby CORS stations', 'OPUS uses the 3 nearest CORS stations to process user-uploaded static GPS data and provide NAD83 coordinates.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','OPUS']),
('Texas has how many state plane zones?', 'numeric_input', '[]'::jsonb, '5', 'Texas has 5 state plane zones: North, North Central, Central, South Central, South.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','zones']),
('Vector GIS data uses points, lines, and polygons.', 'true_false', '["True","False"]'::jsonb, 'True', 'Vector = discrete features as points, lines, polygons. Raster = continuous surfaces as grid cells.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','vector']),
('Metadata is:', 'multiple_choice', '["Data about the data","Extra storage space","A type of satellite","A map projection"]'::jsonb, 'Data about the data', 'Metadata documents data quality, source, date, coordinate system, accuracy, and creator.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','metadata']),
('A buffering operation in GIS creates a zone of specified distance around a feature.', 'true_false', '["True","False"]'::jsonb, 'True', 'Buffering creates an area (polygon) at a specified distance around a point, line, or polygon feature.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','buffering']),
('RINEX is used to exchange GPS data between different receiver brands.', 'true_false', '["True","False"]'::jsonb, 'True', 'RINEX (Receiver Independent Exchange Format) is the standard for sharing raw GPS observation data between different manufacturers'' equipment.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','RINEX']),
('The combined scale factor converts between:', 'multiple_choice', '["Metric and imperial","Ground distances and grid distances","Horizontal and vertical","GPS and GLONASS"]'::jsonb, 'Ground distances and grid distances', 'Combined scale factor (grid × elevation) converts between ground-level measurements and state plane grid distances.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','scale-factor']),
('PPP achieves centimeter accuracy without a base station by using:', 'multiple_choice', '["More satellites","Precise satellite orbits and clock corrections","A larger antenna","Longer observation times only"]'::jsonb, 'Precise satellite orbits and clock corrections', 'PPP uses precise orbit and clock products (from IGS or similar services) to achieve cm-level positioning with a single receiver.', 'hard', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','PPP']),
('One of the most common GPS surveying blunders is:', 'multiple_choice', '["Using too many satellites","Incorrect antenna height measurement","Observing for too long","Using dual-frequency receivers"]'::jsonb, 'Incorrect antenna height measurement', 'Incorrect antenna height is the single most common blunder in GPS surveying. Always measure carefully (slant vs vertical), record the measurement method, and double-check.', 'easy', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','blunders']),
('Name three advantages of network RTK over single-base RTK.', 'short_answer', '[]'::jsonb, 'No base station needed, longer effective range, more consistent accuracy across the coverage area', 'Network RTK advantages: (1) No need to set up your own base station — saves time and equipment. (2) Longer effective range — the network models atmospheric errors over the entire area. (3) More consistent accuracy — corrections are tailored to the rover''s location rather than degrading with distance from a single base. (4) Centralized management and quality control by the network operator.', 'medium', 'acc00005-0000-0000-0000-000000000005', 'acc05b16-0000-0000-0000-000000000001', 'ACC-2339-FINAL', ARRAY['acc-srvy-2339','final','network-RTK-advantages']);


-- ############################################################################
-- SRVY 2341 — Surveying Computations
-- ############################################################################

-- ============================================================================
-- SECTION 1: MODULE DEFINITION (order_index 34)
-- ============================================================================

INSERT INTO learning_modules (id, title, description, difficulty, estimated_hours, order_index, status, tags, xp_reward, created_at, updated_at)
VALUES
  ('acc00006-0000-0000-0000-000000000006',
   'ACC SRVY 2341 — Advanced Surveying',
   'Austin Community College SRVY 2341 (3 SCH). Advanced topics in surveying building on the foundational skills from SRVY 1301, 1335, and 1341. Topics include horizontal curve design and computation (simple, compound, and reverse curves), vertical curve design and computation (crest and sag curves), route surveying and alignment design, earthwork volume computation (average end area, prismoidal formula), construction staking procedures (slope staking, blue tops, offset stakes), topographic surveying methods and contour mapping, state plane coordinate systems and ground-to-grid conversions, introduction to photogrammetry and remote sensing, and survey project management. This course prepares students for professional field practice in construction and route surveying. Prerequisites: SRVY 1341 and SRVY 1335. Textbook: Elementary Surveying by Ghilani or Surveying with Construction Applications by Kavanagh.',
   'advanced', 48.0, 34, 'published',
   ARRAY['acc','srvy-2341','advanced','curves','construction','route-surveying','college-course','semester'],
   500, now(), now())

ON CONFLICT (id) DO UPDATE SET
  title           = EXCLUDED.title,
  description     = EXCLUDED.description,
  difficulty      = EXCLUDED.difficulty,
  estimated_hours = EXCLUDED.estimated_hours,
  order_index     = EXCLUDED.order_index,
  status          = EXCLUDED.status,
  tags            = EXCLUDED.tags,
  xp_reward       = EXCLUDED.xp_reward,
  updated_at      = now();


-- ============================================================================
-- SECTION 2: LESSONS (16 weeks)
-- ============================================================================

DELETE FROM learning_lessons WHERE module_id = 'acc00006-0000-0000-0000-000000000006';
INSERT INTO learning_lessons (id, module_id, title, content, key_takeaways, order_index, estimated_minutes, resources, videos, tags, status)
VALUES
  -- Week 1
  ('acc06b01-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 1: Course Overview and Review of Coordinate Geometry',
   'Review of prerequisite concepts: traverse computations, coordinate geometry (COGO), inversing, and intersections. Introduction to advanced surveying applications: route design, construction layout, topographic mapping, and geodetic positioning. Overview of the course structure: horizontal curves, vertical curves, earthwork, construction staking, topographic surveys, and state plane coordinates. Review of trigonometric relationships and their application to surveying problems. Calculator and spreadsheet techniques for advanced computations.',
   ARRAY['Review COGO fundamentals: inversing and intersection','Understand the scope of advanced surveying applications','Apply trigonometric relationships to surveying problems','Set up spreadsheets for repetitive survey computations','Preview major course topics and their professional applications'],
   1, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-1','review','COGO','introduction'], 'published'),

  -- Week 2
  ('acc06b02-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 2: Simple Horizontal Curves — Terminology and Geometry',
   'Introduction to horizontal curves in route surveying. Why curves are needed: connecting tangent sections of roadways and railroads. Simple circular curve terminology: Point of Curvature (PC), Point of Tangency (PT), Point of Intersection (PI), radius (R), degree of curve (D) — arc definition vs chord definition, central angle/delta (Δ), tangent distance (T), curve length (L), long chord (LC), external distance (E), middle ordinate (M). The fundamental relationships: D = 5729.578/R (arc definition), T = R × tan(Δ/2), L = R × Δ (in radians) = 100 × Δ/D, LC = 2R × sin(Δ/2), E = R × (sec(Δ/2) - 1), M = R × (1 - cos(Δ/2)). Texas uses the arc definition of degree of curve.',
   ARRAY['Define all simple curve elements (PC, PT, PI, R, D, Δ, T, L, LC, E, M)','Compute all curve elements given R and Δ','Distinguish between arc and chord definitions of degree of curve','Apply the fundamental curve formulas','Sketch a simple curve and label all elements'],
   2, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-2','horizontal-curves','terminology','simple-curve'], 'published'),

  -- Week 3
  ('acc06b03-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 3: Simple Horizontal Curves — Stakeout and Layout',
   'Laying out horizontal curves in the field. Stationing along an alignment: how stations work (e.g., 10+00 = 1,000 feet). Computing the station of the PC and PT from the PI station and tangent distance. Deflection angle method for curve layout: deflection from the tangent at the PC to any point on the curve = (arc length from PC / total curve length) × (Δ/2). Setting up at the PC, turning deflection angles, and measuring chord distances to set curve points. Chord lengths for full and subchords. Moving the instrument on the curve when the full curve cannot be seen from the PC. Field notes for curve layout.',
   ARRAY['Compute PC and PT stations from PI station and tangent distance','Calculate deflection angles for curve stakeout','Compute chord distances for full and sub-stations','Lay out a curve using the deflection angle method','Prepare field notes for curve layout'],
   3, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-3','curve-layout','deflection-angles','stakeout','stationing'], 'published'),

  -- Week 4
  ('acc06b04-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 4: Compound and Reverse Curves',
   'Compound curves: two or more simple curves joined end-to-end, curving in the same direction but with different radii. The point of compound curvature (PCC). Computing compound curve elements: each segment is computed as a simple curve, with the PCC being the PT of the first curve and the PC of the second. Why compound curves are used: transitioning between different design speeds or fitting terrain. Reverse curves: two simple curves joined end-to-end, curving in opposite directions. The point of reverse curvature (PRC). Computing reverse curve elements. Safety concerns with reverse curves on highways — S-curves. Spiral (transition) curves: concept and purpose — providing a gradual change in curvature from a tangent to a circular arc. Euler spiral (clothoid) basics.',
   ARRAY['Compute compound curve elements including PCC station','Compute reverse curve elements including PRC station','Explain when compound and reverse curves are appropriate','Describe the purpose of spiral transition curves','Identify safety concerns with reverse curves in highway design'],
   4, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-4','compound-curves','reverse-curves','spiral-curves','PCC','PRC'], 'published'),

  -- Week 5
  ('acc06b05-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 5: Vertical Curves — Theory and Computation',
   'Vertical alignment design: grades and grade changes. Why vertical curves are needed: providing a smooth transition between different grades for rider comfort and sight distance. Vertical curve types: crest (convex — grade goes from positive to negative or less positive) and sag (concave — grade goes from negative to positive or less negative). Vertical curve elements: PVC (Point of Vertical Curvature = BVC, beginning), PVI (Point of Vertical Intersection), PVT (Point of Vertical Tangency = EVC, ending), grades in percent (g1, g2), algebraic difference A = g2 - g1, curve length L. The parabolic equation: y = (A / 200L) × x² (offset from tangent). Computing elevations at any station on the curve. The high/low point location: x = -g1 × L / A. Minimum curve length for sight distance.',
   ARRAY['Distinguish between crest and sag vertical curves','Compute the algebraic difference of grades','Calculate elevations at any point on a vertical curve using the parabolic formula','Find the station and elevation of the high or low point','Determine minimum curve length for sight distance requirements'],
   5, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-5','vertical-curves','crest','sag','parabolic','grades'], 'published'),

  -- Week 6
  ('acc06b06-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 6: Vertical Curves — Design and Stakeout',
   'Vertical curve design criteria: stopping sight distance, passing sight distance, headlight sight distance (sag curves), drainage, appearance, and rider comfort. AASHTO design standards. K-value: the ratio of curve length to algebraic difference (K = L/A). Using K-values for design: L = K × A. Vertical curve stakeout procedures: computing elevations at each station, marking grade stakes, blue-top stakes for finish grade. Unsymmetrical (unequal tangent) vertical curves: when the PVI is not at the midpoint. Computing elevations for unsymmetrical curves. Combining horizontal and vertical alignments: the 3D alignment.',
   ARRAY['Apply AASHTO design criteria for vertical curves','Use K-values to determine minimum curve lengths','Compute vertical curve stakeout data','Handle unsymmetrical vertical curves','Understand the relationship between horizontal and vertical alignments'],
   6, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-6','vertical-curve-design','K-value','AASHTO','stakeout'], 'published'),

  -- Week 7
  ('acc06b07-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 7: Route Surveying and Alignment Design',
   'Route surveying for highways, railroads, pipelines, and utilities. The complete route survey process: reconnaissance, preliminary survey, alignment design, final location survey, and construction survey. Horizontal alignment design: tangent lengths, curve selection, sight distance around curves, superelevation. Vertical alignment design: grade selection, vertical curve fitting, drainage considerations. Cross-section design: typical roadway sections, lane width, shoulders, ditches, cut and fill slopes. Right-of-way determination and easement requirements. TxDOT standards for route surveys. Plan and profile drawings: what they show and how to read them.',
   ARRAY['Describe the complete route survey process from recon to construction','Design a simple horizontal alignment with tangents and curves','Read and interpret plan and profile drawings','Understand cross-section design elements','Apply TxDOT standards to route survey design'],
   7, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-7','route-surveying','alignment','plan-profile','TxDOT'], 'published'),

  -- Week 8: MIDTERM EXAM
  ('acc06b08-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 8: Midterm Exam',
   'Midterm examination covering Weeks 1–7: COGO review, simple horizontal curve computation and layout, compound and reverse curves, vertical curve theory and computation, vertical curve design, and route surveying concepts. Heavy emphasis on curve computation problems — expect to compute all elements of simple curves, deflection angles, vertical curve elevations, and high/low points.',
   ARRAY['Review all horizontal curve formulas and computations','Practice vertical curve elevation calculations','Review deflection angle stakeout procedures','Study compound and reverse curve concepts','Review route surveying process and design standards'],
   8, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-8','midterm','exam'], 'published'),

  -- Week 9
  ('acc06b09-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 9: Earthwork Volumes — Cross Sections and Computation',
   'Earthwork: computing volumes of cut and fill for construction projects. Cross-section surveys: taking cross-section data at regular station intervals perpendicular to the centerline. Cross-section plotting and area computation. End areas: computing the area of cut and fill in each cross section using coordinate method, planimeter, or CAD software. The average end area method: Volume = L × (A1 + A2) / 2. The prismoidal formula: Volume = L × (A1 + 4Am + A2) / 6. When to use each method (prismoidal correction). Mass diagrams: plotting cumulative earthwork volumes, free haul, overhaul, borrow, and waste. Balancing cut and fill to minimize project cost. Shrinkage and swell factors for different soil types.',
   ARRAY['Compute cross-section areas for cut and fill','Calculate earthwork volumes using average end area method','Apply the prismoidal formula for more accurate volumes','Construct and interpret a mass diagram','Account for shrinkage and swell factors in volume calculations'],
   9, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-9','earthwork','volumes','cross-sections','mass-diagram'], 'published'),

  -- Week 10
  ('acc06b10-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 10: Construction Staking Procedures',
   'Construction surveying: the process of laying out designed structures in the field for builders. Types of construction stakes: offset stakes, slope stakes, grade stakes, blue tops, hub and tack, guard stakes. Reference points and control for construction sites. Slope staking: determining the catch points where cut/fill slopes intersect natural ground. Cut and fill computations from design grade to existing ground. Offset staking: placing stakes at a known offset from the design position with cut/fill information written on the stake. Grade staking for utilities: pipe invert elevations, trench depth computations. Building layout: batter boards, baseline offsets, corner staking. Communication between surveyor and contractor: what information goes on each stake.',
   ARRAY['Describe the types of construction stakes and their purposes','Compute cut and fill values for construction staking','Set slope stakes and determine catch points','Lay out building corners using baseline offsets and batter boards','Communicate construction staking information to contractors'],
   10, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-10','construction-staking','slope-stakes','grade-stakes','layout'], 'published'),

  -- Week 11
  ('acc06b11-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 11: Topographic Surveying Methods',
   'Topographic surveys: mapping the shape of the ground and the location of features. Planning a topographic survey: horizontal and vertical control, feature identification, contour interval selection, survey limits. Field methods: radial (total station or GPS from a single setup), grid method (regular grid of elevation shots), cross-section method (profiles at regular intervals), and controlling point method (shots at significant terrain changes). Feature coding for automated mapping. Contour interpolation from spot elevations. Contour line properties: contour lines never cross, they close on themselves, spacing indicates slope steepness, and they are perpendicular to the direction of maximum slope. Digital Terrain Models (DTM) and Triangulated Irregular Networks (TIN). Using total stations and RTK GPS for topographic data collection.',
   ARRAY['Plan a topographic survey with appropriate control and contour interval','Collect topographic data using radial, grid, and cross-section methods','Apply feature coding for automated mapping','Interpolate contour lines from spot elevations','Understand DTM/TIN concepts for digital terrain representation'],
   11, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-11','topographic','contours','DTM','TIN','field-methods'], 'published'),

  -- Week 12
  ('acc06b12-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 12: State Plane Coordinate Systems and Map Projections',
   'Map projections: the problem of representing the curved earth on a flat surface. Types of projections: conformal (preserve angles), equal area, equidistant. The Lambert Conformal Conic (LCC) projection: how it works, standard parallels, central meridian. The Transverse Mercator (TM) projection: central meridian, scale factor. State Plane Coordinate Systems (SPCS): designed for each state to minimize projection distortion. Texas SPCS: five zones (North, North Central, Central, South Central, South), all using Lambert Conformal Conic. Grid vs ground distances: the grid scale factor varies across the zone. Elevation factor: correcting for height above the ellipsoid. Combined scale factor = grid factor × elevation factor. Converting between ground distances and grid distances. Convergence angle: the difference between grid north and geodetic north.',
   ARRAY['Explain why map projections are necessary and types of distortion','Describe the Lambert Conformal Conic projection used in Texas','Identify the five Texas state plane zones and their parameters','Compute combined scale factors for ground-to-grid conversions','Apply convergence angle corrections to azimuths'],
   12, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-12','state-plane','projections','Lambert','scale-factor','convergence'], 'published'),

  -- Week 13
  ('acc06b13-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 13: Introduction to Photogrammetry and Remote Sensing',
   'Photogrammetry: the science of making measurements from photographs. Aerial photography: vertical and oblique photos, flight planning, overlap and sidelap requirements. Photo scale computation: focal length / flying height above ground. Relief displacement in aerial photos. Stereoscopic viewing and parallax measurement. Ground control points for photogrammetric projects. Orthophotos: geometrically corrected aerial images. Introduction to LiDAR (Light Detection and Ranging): how it works, point cloud data, DEM generation. UAV (drone) photogrammetry: regulatory overview (FAA Part 107), flight planning, ground control, and deliverables. Remote sensing basics: electromagnetic spectrum, spectral signatures, satellite imagery (Landsat, Sentinel). Integration of photogrammetry with conventional surveying.',
   ARRAY['Explain the principles of aerial photogrammetry','Calculate photo scale from focal length and flying height','Describe the role of ground control points in photogrammetry','Understand LiDAR technology and point cloud data','Describe UAV/drone surveying workflows and FAA regulations'],
   13, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-13','photogrammetry','LiDAR','UAV','remote-sensing','aerial'], 'published'),

  -- Week 14
  ('acc06b14-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 14: Survey Project Management and Professional Practice',
   'Managing a survey project from proposal to deliverables. Proposal writing: scope of work, schedule, budget, and qualifications. Project planning: research phase (deed research, existing surveys, control data), field phase (crew assignments, equipment, scheduling), and office phase (computations, drafting, QA/QC). Quality assurance and quality control: independent checks, redundant measurements, closure checks, peer review. Survey deliverables: boundary plats, topographic maps, ALTA/NSPS surveys, descriptions, and staking reports. Record keeping and archiving. Client communication. Professional liability and insurance. Career paths in surveying: party chief, project manager, RPLS, business owner. Continuing education requirements in Texas.',
   ARRAY['Develop a survey project proposal with scope, budget, and schedule','Plan field and office phases of a survey project','Implement QA/QC procedures throughout a project','Prepare professional survey deliverables','Understand career paths and professional development in surveying'],
   14, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-14','project-management','professional-practice','QA-QC','deliverables'], 'published'),

  -- Week 15
  ('acc06b15-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 15: Comprehensive Review and SIT/RPLS Exam Preparation',
   'Comprehensive review of all course topics: horizontal curves (simple, compound, reverse), vertical curves (crest, sag), route surveying, earthwork volumes, construction staking, topographic surveying, state plane coordinates, and photogrammetry. Integration of advanced surveying concepts with foundational skills. Practice problems covering the full range of computation types. SIT and RPLS exam preparation: format, content areas, study strategies. Review of key formulas and their applications. Common exam mistakes and how to avoid them. Professional development resources and continuing education.',
   ARRAY['Review all major computation types from the course','Practice integrated problems combining multiple topics','Prepare for SIT/RPLS exam advanced surveying sections','Identify and address weak areas before the final','Review key formulas and their correct application'],
   15, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-15','review','exam-prep','SIT','RPLS','comprehensive'], 'published'),

  -- Week 16: FINAL EXAM
  ('acc06b16-0000-0000-0000-000000000001', 'acc00006-0000-0000-0000-000000000006',
   'Week 16: Final Exam',
   'Comprehensive final examination covering all course material from Weeks 1–15. Heavy emphasis on computation problems: horizontal curve elements and deflection angles, vertical curve elevations and high/low points, earthwork volumes, construction staking cut/fill values, state plane scale factors, and photo scale computations. Conceptual questions on route surveying, topographic methods, and photogrammetry.',
   ARRAY['Review all computation procedures thoroughly','Practice full curve and volume problems end-to-end','Review construction staking procedures','Study state plane and photogrammetry concepts','Focus on weak areas identified during the semester'],
   16, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2341','week-16','final','exam'], 'published');


-- ============================================================================
-- SECTION 3: QUESTION BANK — Weeks 1-7 (Quiz + Homework)
-- ============================================================================

DELETE FROM question_bank WHERE tags @> ARRAY['acc-srvy-2341'];

-- Week 1 Quiz & Homework
INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('The inverse computation determines the _____ and _____ between two coordinate pairs.', 'multiple_choice', '["Latitude and departure","Distance and direction","Area and perimeter","Elevation and slope"]'::jsonb, 'Distance and direction', 'An inverse computation calculates the distance and direction (azimuth or bearing) between two points given their coordinates. Distance = sqrt(ΔN² + ΔE²), Azimuth = arctan(ΔE/ΔN) adjusted for quadrant.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','quiz','inverse']),
('Given Point A (N=1000, E=2000) and Point B (N=1300, E=2400), what is the distance A to B?', 'numeric_input', '[]'::jsonb, '500', 'ΔN = 300, ΔE = 400. Distance = sqrt(300² + 400²) = sqrt(90000 + 160000) = sqrt(250000) = 500.00 ft.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','quiz','inverse-distance']),
('The azimuth from A to B in the previous problem is:', 'multiple_choice', '["N 53°08'' E","S 53°08'' W","53°08''","36°52''"]'::jsonb, '53°08''', 'ΔN = +300 (north), ΔE = +400 (east) → NE quadrant. Azimuth = arctan(400/300) = arctan(1.333) = 53°08''. Since both ΔN and ΔE are positive, the azimuth is in the first quadrant.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','quiz','inverse-azimuth']),
('A direction-direction intersection uses two directions from known points to find an unknown point.', 'true_false', '["True","False"]'::jsonb, 'True', 'A direction-direction intersection computes the coordinates of an unknown point by intersecting two lines of known direction from two known points. It requires two known points and a direction (azimuth) from each to the unknown point.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','quiz','intersection']),
('COGO stands for Coordinate Geometry.', 'true_false', '["True","False"]'::jsonb, 'True', 'COGO (Coordinate Geometry) is the mathematical foundation for survey computations using coordinates: inversing, intersections, traverse computations, area calculations, and curve solutions.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','quiz','COGO']),
('Compute the inverse from Point P (N=5280.00, E=3150.00) to Point Q (N=4920.00, E=3630.00). Give both the distance and azimuth.', 'short_answer', '[]'::jsonb, 'Distance = 600.00 ft, Azimuth = 128°40'' (S 51°20'' E)', 'ΔN = 4920-5280 = -360, ΔE = 3630-3150 = +480. Distance = sqrt(360² + 480²) = sqrt(129600+230400) = sqrt(360000) = 600.00. Bearing angle = arctan(480/360) = 53°08''. Since ΔN is negative and ΔE is positive (SE quadrant), Azimuth = 180° - 53°08'' = 126°52''. Note: may vary slightly by rounding method.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','homework','inverse-computation']),
('List three types of intersection problems and describe when each is used.', 'short_answer', '[]'::jsonb, 'Direction-direction (two azimuths), distance-distance (two distances), direction-distance (one of each)', 'Three intersection types: (1) Direction-direction: two azimuths from known points; used when angles can be measured but distances cannot (e.g., inaccessible point). (2) Distance-distance: two distances from known points; used when distances can be measured but angles are difficult. (3) Direction-distance: one azimuth and one distance from different known points; hybrid solution.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','homework','intersection-types']),
('Explain why spreadsheets and programming are valuable tools for advanced surveying computations.', 'short_answer', '[]'::jsonb, 'They automate repetitive calculations, reduce human error, allow easy recalculation when inputs change, and handle large datasets efficiently.', 'Spreadsheets automate tedious repetitive computations (like curve tables with dozens of deflection angles), reduce arithmetic errors, allow instant recalculation when design parameters change, and can handle large datasets (thousands of cross-section points). Programming skills extend these capabilities further. Professional surveyors use software daily.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b01-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-1','homework','computation-tools']),

-- Week 2 Quiz & Homework
('In horizontal curve terminology, the degree of curve (D) using the arc definition is:', 'multiple_choice', '["The angle subtended by a 100-ft arc","The angle subtended by a 100-ft chord","The total central angle","The deflection angle to the PT"]'::jsonb, 'The angle subtended by a 100-ft arc', 'The arc definition (used in highway design and in Texas): D is the central angle subtended by a 100-ft arc. D = 5729.578/R. The chord definition (used in railroad design) uses a 100-ft chord instead.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','quiz','degree-of-curve']),
('For a simple curve with R = 1000 ft, the degree of curve D (arc definition) is:', 'numeric_input', '[]'::jsonb, '5.73', 'D = 5729.578 / R = 5729.578 / 1000 = 5.73° (or 5°43''45").', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','quiz','D-computation']),
('The tangent distance (T) of a simple curve is computed as:', 'multiple_choice', '["R × sin(Δ)","R × tan(Δ/2)","R × cos(Δ/2)","R × Δ"]'::jsonb, 'R × tan(Δ/2)', 'T = R × tan(Δ/2) is the distance from the PC (or PT) to the PI along the tangent. It is one of the most fundamental curve formulas.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','quiz','tangent-distance']),
('The external distance (E) is measured from the PI to the midpoint of the curve.', 'true_false', '["True","False"]'::jsonb, 'True', 'E = R × (sec(Δ/2) - 1) is the distance from the PI (outside the curve) to the midpoint of the curve arc. It is the maximum distance between the tangent lines and the curve.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','quiz','external-distance']),
('The long chord (LC) of a simple curve is:', 'multiple_choice', '["The arc length","The straight-line distance from PC to PT","The tangent distance","The radius"]'::jsonb, 'The straight-line distance from PC to PT', 'LC = 2R × sin(Δ/2) is the straight-line (chord) distance from the PC to the PT. It is always shorter than the arc length L.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','quiz','long-chord']),
('Given: R = 800 ft, Δ = 40°00''. Compute T, L, LC, E, and M.', 'essay', '[]'::jsonb, 'T = 291.31 ft, L = 558.51 ft, LC = 546.45 ft, E = 51.33 ft, M = 48.56 ft', 'T = 800 × tan(20°) = 800 × 0.36397 = 291.18 ft. L = 800 × 40° × π/180 = 800 × 0.6981 = 558.51 ft. LC = 2 × 800 × sin(20°) = 1600 × 0.34202 = 547.23 ft. E = 800 × (sec(20°) - 1) = 800 × (1.06418 - 1) = 51.34 ft. M = 800 × (1 - cos(20°)) = 800 × (1 - 0.93969) = 48.25 ft. Note: minor variations due to rounding of trig functions.', 'hard', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','homework','full-curve-computation']),
('What is the degree of curve for a radius of 2000 ft (arc definition)?', 'numeric_input', '[]'::jsonb, '2.86', 'D = 5729.578 / 2000 = 2.865° ≈ 2.86° (or 2°51''53").', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','homework','degree-of-curve-comp']),
('Explain the difference between the arc definition and the chord definition of degree of curve. Which does Texas use?', 'short_answer', '[]'::jsonb, 'Arc def: angle subtended by 100-ft arc (highways). Chord def: angle subtended by 100-ft chord (railroads). Texas uses arc definition.', 'Arc definition: D is the central angle subtended by a 100-ft arc on the curve. Formula: D = 5729.578/R. Used for highway design and in Texas. Chord definition: D is the central angle subtended by a 100-ft chord. Formula: D = 2 × arcsin(50/R). Used historically for railroad design. The two definitions give slightly different D values for the same radius.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b02-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-2','homework','arc-vs-chord']),

-- Week 3 Quiz & Homework
('Station 10+00 means a distance of _____ feet from the beginning of the alignment.', 'numeric_input', '[]'::jsonb, '1000', 'Station 10+00 = 10 × 100 = 1,000 feet from the origin (station 0+00). The number before the + represents hundreds of feet.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b03-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-3','quiz','stationing']),
('If the PI is at station 25+50 and T = 300 ft, the PC station is:', 'multiple_choice', '["22+50","28+50","25+50","22+00"]'::jsonb, '22+50', 'PC station = PI station - T = 25+50 - 3+00 = 22+50. You subtract the tangent distance from the PI station.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b03-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-3','quiz','PC-station']),
('The deflection angle from the PC tangent to any point on the curve equals:', 'multiple_choice', '["The full central angle Δ","Half the arc angle from PC to that point","The degree of curve","The tangent distance divided by radius"]'::jsonb, 'Half the arc angle from PC to that point', 'Deflection angle = (arc length from PC to point / total curve length) × (Δ/2). Equivalently, deflection = (arc/200) × D for full stations. The deflection is always half the corresponding central angle.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b03-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-3','quiz','deflection-angle']),
('The total deflection angle from the PC to the PT equals Δ/2.', 'true_false', '["True","False"]'::jsonb, 'True', 'The total deflection from the PC tangent to the PT equals exactly Δ/2. This is a key check: if your computed deflections don''t sum to Δ/2, there is an error.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b03-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-3','quiz','total-deflection']),
('A subchord is used when a curve point does not fall on a full station.', 'true_false', '["True","False"]'::jsonb, 'True', 'The PC and PT rarely fall on full stations. The distance from the PC to the first full station (or from the last full station to the PT) is a subchord, which is shorter than the full-station chord.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b03-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-3','quiz','subchord']),

-- Week 4 Quiz & Homework
('A compound curve consists of two or more simple curves that:', 'multiple_choice', '["Curve in opposite directions","Curve in the same direction with different radii","Have the same radius","Are separated by a tangent section"]'::jsonb, 'Curve in the same direction with different radii', 'A compound curve has two or more arcs curving in the same direction but with different radii. The point where they meet is the PCC (Point of Compound Curvature). They share a common tangent at the PCC.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b04-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-4','quiz','compound-curve']),
('A reverse curve has curves that turn in opposite directions.', 'true_false', '["True","False"]'::jsonb, 'True', 'A reverse curve consists of two arcs curving in opposite directions joined at the PRC (Point of Reverse Curvature). They create an S-shape. Reverse curves are generally avoided on highways due to safety concerns.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b04-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-4','quiz','reverse-curve']),
('The purpose of a spiral (transition) curve is to:', 'multiple_choice', '["Increase the speed limit","Gradually change curvature from zero (tangent) to the design radius","Add length to the road","Replace horizontal curves"]'::jsonb, 'Gradually change curvature from zero (tangent) to the design radius', 'A spiral provides a gradual transition in curvature and superelevation from the tangent (zero curvature) to the circular arc (full curvature). This prevents the sudden change in centripetal force that would occur at an abrupt tangent-to-curve transition.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b04-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-4','quiz','spiral-purpose']),

-- Week 5 Quiz & Homework
('A crest vertical curve is shaped like:', 'multiple_choice', '["A valley (concave up)","A hill (convex up)","A straight line","A circle"]'::jsonb, 'A hill (convex up)', 'A crest curve is convex (hill-shaped). The grade goes from a steeper uphill to a less steep uphill, to downhill, or from uphill to downhill. Crest curves control stopping sight distance because the hill blocks the driver''s view.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','quiz','crest-curve']),
('The algebraic difference A for grades g1 = +3% and g2 = -2% is:', 'numeric_input', '[]'::jsonb, '-5', 'A = g2 - g1 = (-2) - (+3) = -5%. The negative value indicates a crest curve (grade goes from up to down).', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','quiz','algebraic-difference']),
('The high point of a crest vertical curve is located at x = -g1 × L / A from the PVC.', 'true_false', '["True","False"]'::jsonb, 'True', 'The high point (or low point for sag curves) occurs where the tangent to the parabola is horizontal (slope = 0). The distance from PVC: x = (-g1 / A) × L, where g1 and A are in percent and L is the curve length.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','quiz','high-point']),
('Vertical curves are based on what geometric shape?', 'multiple_choice', '["Circular arc","Ellipse","Parabola","Hyperbola"]'::jsonb, 'Parabola', 'Vertical curves use a parabolic shape because parabolas provide a constant rate of change in grade, which is comfortable for vehicles and mathematically convenient. The equation y = (A/200L)x² gives the offset from the tangent.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','quiz','parabola']),
('A sag curve requires longer minimum length than a crest curve for the same design speed.', 'true_false', '["True","False"]'::jsonb, 'False', 'Crest curves generally require longer minimum lengths than sag curves for the same speed because the crest blocks the driver''s line of sight. Sag curves are controlled by headlight sight distance (at night), which is usually a less demanding criterion.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','quiz','crest-vs-sag']),
('Given: PVC at station 20+00, elevation 450.00 ft, g1 = +4%, g2 = -2%, L = 600 ft. Find the elevation at station 23+00.', 'numeric_input', '[]'::jsonb, '457.50', 'x = 2300 - 2000 = 300 ft from PVC. Tangent elevation = 450.00 + (0.04 × 300) = 462.00. A = -2 - 4 = -6. Offset = (A/(200×L)) × x² = (-6/(200×600)) × 300² = (-0.00005) × 90000 = -4.50. Curve elevation = 462.00 - 4.50 = 457.50 ft.', 'hard', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','homework','vertical-curve-elevation']),
('Find the station and elevation of the high point for the curve in the previous problem.', 'short_answer', '[]'::jsonb, 'Station 24+00, elevation 458.00 ft', 'High point at x = (-g1/A) × L = (-4/(-6)) × 600 = 400 ft from PVC. Station = 20+00 + 4+00 = 24+00. Tangent elev at x=400: 450 + 0.04×400 = 466.00. Offset = (-6/120000) × 160000 = -8.00. Curve elev = 466.00 - 8.00 = 458.00 ft.', 'hard', 'acc00006-0000-0000-0000-000000000006', 'acc06b05-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-5','homework','high-point-computation']),

-- Week 6 Quiz & Homework
('The K-value for vertical curves is defined as:', 'multiple_choice', '["K = A / L","K = L / A","K = L × A","K = A × g1"]'::jsonb, 'K = L / A', 'K = L / A where L = curve length and A = algebraic difference of grades (in %). K represents the horizontal distance needed for a 1% change in grade. Higher K means a flatter, longer curve.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b06-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-6','quiz','K-value']),
('For a design speed of 60 mph, the minimum K-value for a crest curve is 151. If A = 4%, what is the minimum curve length?', 'numeric_input', '[]'::jsonb, '604', 'L = K × A = 151 × 4 = 604 ft. This is the minimum curve length to provide adequate stopping sight distance.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b06-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-6','quiz','min-curve-length']),
('Blue-top stakes indicate:', 'multiple_choice', '["Property corners","The finish grade elevation","Temporary benchmarks","Hazardous areas"]'::jsonb, 'The finish grade elevation', 'Blue tops are grade stakes driven so that the top of the stake is at the exact finish grade elevation. The blue paint on top serves as the visual reference for equipment operators.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b06-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-6','quiz','blue-tops']),

-- Week 7 Quiz & Homework
('A plan and profile drawing shows:', 'multiple_choice', '["Only the horizontal alignment","Only the vertical alignment","Both horizontal alignment (plan view) and vertical alignment (profile view)","The cross-section design"]'::jsonb, 'Both horizontal alignment (plan view) and vertical alignment (profile view)', 'Plan and profile (P&P) drawings show the horizontal alignment in plan view (top) and the vertical alignment in profile view (bottom). They are the primary design documents for route projects.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b07-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-7','quiz','plan-and-profile']),
('Superelevation on a highway curve serves to:', 'multiple_choice', '["Improve drainage","Counteract centripetal force on vehicles","Make the road look better","Reduce construction costs"]'::jsonb, 'Counteract centripetal force on vehicles', 'Superelevation (banking) tilts the roadway cross-section on curves so that a component of the vehicle''s weight helps counteract the centripetal force. This keeps vehicles from sliding outward and allows higher design speeds on curves.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b07-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-7','quiz','superelevation']),
('The preliminary survey in route surveying establishes the proposed alignment.', 'true_false', '["True","False"]'::jsonb, 'True', 'The preliminary survey gathers topographic and control data along the proposed route corridor. This data is used to design the horizontal and vertical alignments. The final location survey refines the alignment for construction.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b07-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-7','quiz','preliminary-survey']);


-- ============================================================================
-- SECTION 4: MIDTERM EXAM (15 questions)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('D = 5729.578 / R applies to the _____ definition of degree of curve.', 'multiple_choice', '["Chord","Arc","Tangent","Central"]'::jsonb, 'Arc', 'D = 5729.578/R is the arc definition, where D is the central angle subtended by a 100-ft arc.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','degree-of-curve']),
('T = R × tan(Δ/2) computes the:', 'multiple_choice', '["Curve length","Long chord","Tangent distance","External distance"]'::jsonb, 'Tangent distance', 'T = R × tan(Δ/2) is the tangent distance from the PC (or PT) to the PI.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','tangent']),
('For R = 500 ft and Δ = 60°, compute T.', 'numeric_input', '[]'::jsonb, '288.68', 'T = 500 × tan(30°) = 500 × 0.57735 = 288.68 ft.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','T-computation']),
('For the same curve (R=500, Δ=60°), compute the curve length L.', 'numeric_input', '[]'::jsonb, '523.60', 'L = R × Δ(radians) = 500 × (60 × π/180) = 500 × 1.04720 = 523.60 ft.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','L-computation']),
('The total deflection from PC to PT equals:', 'multiple_choice', '["Δ","Δ/2","Δ/4","2Δ"]'::jsonb, 'Δ/2', 'The total deflection angle from the PC tangent to the PT always equals Δ/2.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','deflection']),
('PI at station 30+00, T = 250 ft. PC station = ?', 'multiple_choice', '["27+50","32+50","30+00","25+00"]'::jsonb, '27+50', 'PC = PI - T = 30+00 - 2+50 = 27+50.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','PC-station']),
('A compound curve has arcs curving in the same direction with different radii.', 'true_false', '["True","False"]'::jsonb, 'True', 'Compound = same direction, different radii. Reverse = opposite directions.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','compound']),
('Vertical curves use a _____ shape.', 'multiple_choice', '["Circular","Parabolic","Elliptical","Hyperbolic"]'::jsonb, 'Parabolic', 'Vertical curves are parabolas, providing a constant rate of grade change.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','parabola']),
('For g1 = +5% and g2 = -3%, A = ?', 'numeric_input', '[]'::jsonb, '-8', 'A = g2 - g1 = -3 - 5 = -8%.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','A-computation']),
('The high/low point distance from PVC is x = -g1 × L / A.', 'true_false', '["True","False"]'::jsonb, 'True', 'The high or low point occurs where the slope of the parabola is zero: x = (-g1/A) × L.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','high-low-point']),
('K = L / A represents:', 'multiple_choice', '["The curve radius","Horizontal distance for 1% grade change","The tangent distance","The external distance"]'::jsonb, 'Horizontal distance for 1% grade change', 'K = L/A gives the horizontal distance needed for each 1% change in grade.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','K-value']),
('Superelevation counteracts centripetal force on highway curves.', 'true_false', '["True","False"]'::jsonb, 'True', 'Banking the road surface helps counteract the centripetal force pushing vehicles outward.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','superelevation']),
('The inverse of Point A(1000,2000) to B(1400,2300) gives a distance of:', 'numeric_input', '[]'::jsonb, '500', 'sqrt(400² + 300²) = sqrt(160000+90000) = sqrt(250000) = 500.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','inverse']),
('A spiral curve provides a gradual transition from tangent to circular arc.', 'true_false', '["True","False"]'::jsonb, 'True', 'Spirals gradually change curvature from zero (tangent) to the design radius (circular arc).', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','spiral']),
('Crest curves generally require longer minimum lengths than sag curves for the same speed.', 'true_false', '["True","False"]'::jsonb, 'True', 'Crest curves control stopping sight distance (driver can''t see over the hill), requiring longer curves than sag curves which are controlled by the less demanding headlight distance criterion.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b08-0000-0000-0000-000000000001', 'ACC-2341-MIDTERM', ARRAY['acc-srvy-2341','midterm','crest-vs-sag']);


-- ============================================================================
-- SECTION 5: QUESTION BANK — Weeks 9-14
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
-- Week 9
('The average end area formula for earthwork volume is:', 'multiple_choice', '["V = L × (A1 - A2)","V = L × (A1 + A2) / 2","V = L × (A1 × A2)","V = L / (A1 + A2)"]'::jsonb, 'V = L × (A1 + A2) / 2', 'Average end area: Volume = distance between sections × (area of section 1 + area of section 2) / 2. Simple but slightly overestimates volume.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b09-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-9','quiz','average-end-area']),
('Cross sections at stations 10+00 (area = 200 sq ft) and 11+00 (area = 300 sq ft). Volume = ?', 'numeric_input', '[]'::jsonb, '925.93', 'V = 100 × (200+300)/2 = 25,000 cu ft. In cubic yards: 25000/27 = 925.93 CY.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b09-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-9','quiz','volume-computation']),
('The prismoidal formula is more accurate than the average end area method.', 'true_false', '["True","False"]'::jsonb, 'True', 'The prismoidal formula V = L(A1 + 4Am + A2)/6 accounts for the middle area and is theoretically exact for prismoidal shapes. Average end area always overestimates.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b09-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-9','quiz','prismoidal']),
('A mass diagram plots cumulative earthwork volumes along the alignment.', 'true_false', '["True","False"]'::jsonb, 'True', 'The mass diagram shows cumulative cut (+) minus fill (-) volumes along the centerline. It is used to plan earthwork hauling, identify balance points, and minimize haul costs.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b09-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-9','quiz','mass-diagram']),
('A shrinkage factor of 0.90 means that 1 cubic yard of bank material produces 0.90 cubic yards of compacted fill.', 'true_false', '["True","False"]'::jsonb, 'True', 'Shrinkage accounts for compaction. A factor of 0.90 means soil loses 10% volume when compacted. You need more bank material (1/0.90 = 1.11 CY bank) to produce 1 CY of compacted fill.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b09-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-9','quiz','shrinkage']),

-- Week 10
('Slope stakes mark the point where the design slope intersects natural ground.', 'true_false', '["True","False"]'::jsonb, 'True', 'Slope stakes (catch points) mark where the designed cut or fill slope meets the existing ground surface. They define the limits of earthwork construction.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b10-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-10','quiz','slope-stakes']),
('A cut stake marked "C 3.5 / 25 L" means:', 'multiple_choice', '["Cut 3.5 ft, 25 ft left of centerline","Cut 25 ft, 3.5 ft left","Fill 3.5 ft at station 25","Cut 3.5 ft, 25 ft right"]'::jsonb, 'Cut 3.5 ft, 25 ft left of centerline', 'Construction stake notation: C = cut, 3.5 = depth of cut in feet, 25 = distance from centerline, L = left side. The contractor knows to excavate 3.5 feet at this point, which is 25 feet left of the centerline.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b10-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-10','quiz','stake-notation']),
('Batter boards are used in building layout to establish:', 'multiple_choice', '["Property corners","Reference lines and grades for foundation construction","Traverse stations","Aerial photo control"]'::jsonb, 'Reference lines and grades for foundation construction', 'Batter boards are horizontal boards set to a reference elevation at each building corner. Strings stretched between batter boards define the building lines and grades for excavation and foundation construction.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b10-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-10','quiz','batter-boards']),

-- Week 11
('Contour lines that are close together indicate:', 'multiple_choice', '["Flat terrain","Steep terrain","A depression","A ridge"]'::jsonb, 'Steep terrain', 'Close contour spacing indicates steep slopes. Wide spacing indicates gentle slopes. Contour interval is constant, so steeper terrain requires more contour lines in a given horizontal distance.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b11-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-11','quiz','contour-spacing']),
('Contour lines can cross each other.', 'true_false', '["True","False"]'::jsonb, 'False', 'Contour lines never cross (except for overhanging cliffs, which are extremely rare). Each contour represents a single elevation — crossing would mean two elevations at the same point.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b11-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-11','quiz','contour-rules']),
('A TIN is a:', 'multiple_choice', '["Text Information Network","Triangulated Irregular Network","Topographic Index Number","Total Instrument Navigation"]'::jsonb, 'Triangulated Irregular Network', 'A TIN (Triangulated Irregular Network) is a digital terrain model formed by connecting survey points into non-overlapping triangles. Each triangle face represents a plane of constant slope. TINs efficiently represent terrain from irregularly spaced survey points.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b11-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-11','quiz','TIN']),

-- Week 12
('The combined scale factor is the product of:', 'multiple_choice', '["Grid scale factor and convergence angle","Grid scale factor and elevation factor","Elevation factor and convergence angle","Latitude and longitude"]'::jsonb, 'Grid scale factor and elevation factor', 'Combined scale factor = grid scale factor × elevation factor. It converts between ground-level measurements and state plane grid coordinates.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b12-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-12','quiz','combined-scale']),
('If the grid scale factor is 0.999900 and the elevation factor is 0.999950, the combined scale factor is approximately:', 'numeric_input', '[]'::jsonb, '0.99985', '0.999900 × 0.999950 = 0.999850. Ground distance × CSF = grid distance.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b12-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-12','quiz','CSF-computation']),
('Convergence angle is the difference between grid north and geodetic north.', 'true_false', '["True","False"]'::jsonb, 'True', 'The convergence angle (mapping angle) is the angular difference between geodetic north and grid north at a given point. It varies across the projection zone and is zero on the central meridian.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b12-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-12','quiz','convergence']),

-- Week 13
('Photo scale equals focal length divided by:', 'multiple_choice', '["Ground elevation","Flying height above ground","Flying height above sea level","Camera aperture"]'::jsonb, 'Flying height above ground', 'Photo scale = f / H'' where f = focal length and H'' = flying height above ground. For flat terrain: S = f / (H - h) where H = flying height above datum and h = ground elevation.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b13-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-13','quiz','photo-scale']),
('LiDAR stands for Light Detection And Ranging.', 'true_false', '["True","False"]'::jsonb, 'True', 'LiDAR uses laser pulses to measure distances to the ground and features, creating dense 3D point clouds. Combined with GPS and IMU (inertial measurement unit), it produces highly accurate terrain models.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b13-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-13','quiz','LiDAR']),
('FAA Part 107 regulates commercial drone operations in the United States.', 'true_false', '["True","False"]'::jsonb, 'True', 'Part 107 of the Federal Aviation Regulations governs small UAS (under 55 lbs) operations for commercial purposes, including drone surveying. Operators must hold a Remote Pilot Certificate.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b13-0000-0000-0000-000000000001', 'ACC-2341', ARRAY['acc-srvy-2341','week-13','quiz','Part-107']);


-- ============================================================================
-- SECTION 6: FINAL EXAM (20 questions)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('For R = 600 ft and Δ = 50°, T = ?', 'numeric_input', '[]'::jsonb, '279.99', 'T = 600 × tan(25°) = 600 × 0.46631 = 279.79 ft.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','T']),
('For the same curve, compute L.', 'numeric_input', '[]'::jsonb, '523.60', 'L = 600 × (50π/180) = 600 × 0.87267 = 523.60 ft.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','L']),
('Degree of curve for R = 1500 ft (arc def) is:', 'numeric_input', '[]'::jsonb, '3.82', 'D = 5729.578/1500 = 3.82°.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','D']),
('PI at 45+00, T = 350 ft. PC = ?', 'multiple_choice', '["41+50","48+50","45+00","38+50"]'::jsonb, '41+50', 'PC = 45+00 - 3+50 = 41+50.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','PC']),
('A = g2 - g1 for g1 = +2%, g2 = +6% is:', 'numeric_input', '[]'::jsonb, '4', 'A = 6 - 2 = +4%. Positive A indicates a sag curve.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','A']),
('This curve (g1=+2%, g2=+6%) is a:', 'multiple_choice', '["Crest","Sag","Flat","Reverse"]'::jsonb, 'Sag', 'A positive A (grade increasing) means a sag curve. The road goes from gentle uphill to steeper uphill.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','sag']),
('Average end area volume for L=100 ft, A1=150 sq ft, A2=250 sq ft in cubic yards:', 'numeric_input', '[]'::jsonb, '740.74', 'V = 100×(150+250)/2 = 20,000 cu ft / 27 = 740.74 CY.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','volume']),
('Slope stakes mark where design slopes meet existing ground.', 'true_false', '["True","False"]'::jsonb, 'True', 'Slope stakes (catch points) define the lateral limits of cut or fill earthwork.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','slope-stakes']),
('Contour lines that are far apart indicate:', 'multiple_choice', '["Steep terrain","Gentle slopes","A cliff","A depression"]'::jsonb, 'Gentle slopes', 'Wide contour spacing = gentle slope. Close spacing = steep slope.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','contours']),
('Contour lines never cross.', 'true_false', '["True","False"]'::jsonb, 'True', 'Each contour represents one elevation. Crossing would imply two elevations at one point.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','contour-rule']),
('Texas uses _____ state plane zones.', 'numeric_input', '[]'::jsonb, '5', 'Texas has 5 zones: North, North Central, Central, South Central, South.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','zones']),
('The combined scale factor converts between ground and grid distances.', 'true_false', '["True","False"]'::jsonb, 'True', 'CSF = grid factor × elevation factor. Grid distance = ground distance × CSF.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','CSF']),
('Photo scale = focal length / flying height above ground.', 'true_false', '["True","False"]'::jsonb, 'True', 'S = f / H'' where f is focal length and H'' is height above ground.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','photo-scale']),
('A camera with 6-inch focal length at 6,000 ft above ground has photo scale of:', 'multiple_choice', '["1:1,000","1:6,000","1:12,000","1:72,000"]'::jsonb, '1:12,000', 'Scale = f/H'' = 0.5 ft / 6000 ft = 1/12,000.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','scale-computation']),
('FAA Part 107 applies to commercial drone surveying.', 'true_false', '["True","False"]'::jsonb, 'True', 'Part 107 governs commercial small UAS operations including drone surveying.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','Part-107']),
('The prismoidal formula is V = L(A1 + 4Am + A2) / 6.', 'true_false', '["True","False"]'::jsonb, 'True', 'The prismoidal formula uses the areas at both ends and the middle section for a more accurate volume.', 'medium', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','prismoidal']),
('A TIN is used to represent digital terrain.', 'true_false', '["True","False"]'::jsonb, 'True', 'TIN (Triangulated Irregular Network) connects points into triangles to model terrain.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','TIN']),
('K = L / A. If K = 100 and A = 6%, L = ?', 'numeric_input', '[]'::jsonb, '600', 'L = K × A = 100 × 6 = 600 ft.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','K-L']),
('The total deflection from PC to PT is Δ/2.', 'true_false', '["True","False"]'::jsonb, 'True', 'This is a fundamental curve property and field check.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','deflection']),
('Blue tops indicate finish grade elevation in construction staking.', 'true_false', '["True","False"]'::jsonb, 'True', 'Blue top stakes are driven to the exact design grade elevation.', 'easy', 'acc00006-0000-0000-0000-000000000006', 'acc06b16-0000-0000-0000-000000000001', 'ACC-2341-FINAL', ARRAY['acc-srvy-2341','final','blue-tops']);


-- ############################################################################
-- SRVY 2343 — Surveying Legal Principles I
-- ############################################################################

-- ============================================================================
-- SECTION 1: MODULE DEFINITION (order_index 32)
-- ============================================================================

INSERT INTO learning_modules (id, title, description, difficulty, estimated_hours, order_index, status, tags, xp_reward, created_at, updated_at)
VALUES
  ('acc00004-0000-0000-0000-000000000004',
   'ACC SRVY 2343 — Surveying Legal Principles I',
   'Austin Community College SRVY 2343 (3 SCH). A study of the laws governing boundaries and land ownership as they apply to the land surveyor. Topics include real property concepts, estates and ownership types, deed construction and interpretation, legal descriptions (metes and bounds, lot-and-block, PLSS), the Texas land system and its unique history of Spanish and Mexican land grants, boundary evidence and the priority of calls, riparian and littoral boundaries, easements and right-of-way, adverse possession and acquiescence, the role of the surveyor as expert witness, and professional ethics in boundary determination. This course provides the legal foundation necessary for the Surveyor-in-Training (SIT) and RPLS examinations. Prerequisite: SRVY 1341. Textbook: Evidence and Procedures for Boundary Location by Brown, Robillard, and Wilson.',
   'advanced', 48.0, 32, 'published',
   ARRAY['acc','srvy-2343','legal-principles','boundary-law','property-law','college-course','semester'],
   500, now(), now())

ON CONFLICT (id) DO UPDATE SET
  title           = EXCLUDED.title,
  description     = EXCLUDED.description,
  difficulty      = EXCLUDED.difficulty,
  estimated_hours = EXCLUDED.estimated_hours,
  order_index     = EXCLUDED.order_index,
  status          = EXCLUDED.status,
  tags            = EXCLUDED.tags,
  xp_reward       = EXCLUDED.xp_reward,
  updated_at      = now();


-- ============================================================================
-- SECTION 2: LESSONS (16 weeks — 14 lessons + 2 exam weeks)
-- ============================================================================

DELETE FROM learning_lessons WHERE module_id = 'acc00004-0000-0000-0000-000000000004';
INSERT INTO learning_lessons (id, module_id, title, content, key_takeaways, order_index, estimated_minutes, resources, videos, tags, status)
VALUES
  -- Week 1
  ('acc04b01-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 1: Introduction to Property Law and the Surveyor''s Role',
   'Overview of the relationship between law and land surveying. The surveyor as a quasi-judicial officer: the surveyor does not create boundaries but retraces and identifies them. Real property vs personal property. The bundle of rights concept. Historical development of property law from English common law through the American colonial period. Introduction to the Texas Constitution''s treatment of property rights. Why surveyors must understand legal principles — the surveyor''s opinion carries legal weight and can be challenged in court. Overview of the Texas Board of Professional Engineers and Land Surveyors (TBPELS) and the legal authority of the RPLS.',
   ARRAY['Explain why surveyors must understand property law','Distinguish between real and personal property','Describe the bundle of rights concept','Understand the surveyor''s quasi-judicial role in boundary determination','Identify the legal authority governing Texas land surveyors'],
   1, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-1','property-law','introduction','surveyor-role'], 'published'),

  -- Week 2
  ('acc04b02-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 2: Estates and Ownership in Real Property',
   'Types of estates in land: fee simple absolute, fee simple defeasible (determinable, condition subsequent, executory interest), life estates, and future interests (remainders, reversions). Forms of concurrent ownership: tenancy in common, joint tenancy with right of survivorship, community property (Texas is a community property state). Homestead rights under the Texas Constitution — the unique protections afforded to homestead property in Texas. How ownership types affect the surveyor: understanding who has authority to commission surveys, grant easements, and convey property.',
   ARRAY['Identify and describe the major types of estates in land','Distinguish between fee simple absolute and defeasible estates','Explain community property in Texas','Describe Texas homestead protections and their significance','Understand how ownership affects survey authority and conveyance'],
   2, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-2','estates','ownership','community-property','homestead'], 'published'),

  -- Week 3
  ('acc04b03-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 3: Deeds — Construction, Types, and Interpretation',
   'The anatomy of a deed: grantor, grantee, granting clause, habendum clause, legal description, covenants, exceptions and reservations, acknowledgment, and delivery. Types of deeds: general warranty deed, special warranty deed, quitclaim deed, deed without warranty. Rules of deed construction and interpretation: the intent of the grantor controls, the deed is construed as a whole, specific descriptions prevail over general, and ambiguities are construed against the grantor. The doctrine of merger — oral agreements merge into the written deed. Recording statutes in Texas and the concept of constructive notice.',
   ARRAY['Identify all essential parts of a deed','Distinguish between general warranty, special warranty, and quitclaim deeds','Apply basic rules of deed construction','Explain the doctrine of merger','Understand recording statutes and constructive notice in Texas'],
   3, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-3','deeds','construction','interpretation','recording'], 'published'),

  -- Week 4
  ('acc04b04-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 4: Legal Descriptions — Metes and Bounds',
   'Metes and bounds descriptions: the oldest form of legal description in the United States and the primary method used in Texas. Components: point of beginning (POB), courses (bearings/directions), distances, calls to monuments (natural and artificial), calls to adjoiners, and return to POB for closure. Writing and interpreting metes and bounds descriptions. Common errors in descriptions: gaps, overlaps, misclosures, and ambiguities. Senior vs junior conveyances and how they affect boundary rights. Simultaneous conveyances. Reading and plotting actual deed descriptions from Texas counties.',
   ARRAY['Identify all components of a metes and bounds description','Plot a metes and bounds description from a deed','Recognize and explain common description errors','Distinguish between senior and junior conveyances','Apply rules for resolving conflicts between overlapping descriptions'],
   4, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-4','metes-and-bounds','legal-descriptions','senior-junior'], 'published'),

  -- Week 5
  ('acc04b05-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 5: Legal Descriptions — PLSS and Lot-and-Block',
   'The Public Land Survey System (PLSS): principal meridians, baselines, townships, ranges, sections, and aliquot parts. How PLSS descriptions work (e.g., "NW 1/4 of Section 12, T3N, R5W"). Why Texas does NOT use the PLSS — Texas retained its public lands when it joined the Union in 1845 and used its own land grant system instead. However, surveyors must understand PLSS for work in other states and for the SIT/RPLS exams. Lot-and-block (recorded plat) descriptions: subdivision plats, block and lot numbering, references to recorded plats. How lot-and-block descriptions incorporate the plat by reference. Strip and gore issues.',
   ARRAY['Describe the PLSS and locate land by section, township, and range','Explain why Texas does not use the PLSS','Read and interpret lot-and-block descriptions from subdivision plats','Understand strip and gore problems','Compute acreage from PLSS aliquot part descriptions'],
   5, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-5','PLSS','lot-and-block','legal-descriptions','subdivision'], 'published'),

  -- Week 6
  ('acc04b06-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 6: The Texas Land System — Spanish and Mexican Grants',
   'The unique history of Texas land ownership. Spanish land grants: the empresario system, leagues and labors as units of measure (1 league = 4,428.4 acres, 1 labor = 177.1 acres). Mexican land grants after 1821 independence. The Texas Republic (1836–1845): headright grants, bounty grants, donation grants, and pre-emption rights. Texas land offices and the General Land Office (GLO). How these historical grants created the patchwork of original surveys that define Texas property boundaries today. Reading original field notes from Spanish and Mexican surveys. The vara as a unit of measurement (1 vara = 33-1/3 inches in Texas). Patent vs grant terminology.',
   ARRAY['Describe the Spanish empresario system and its impact on Texas land','Define leagues, labors, and varas as Texas land measurement units','Explain the different types of Republic-era land grants','Understand the role of the Texas General Land Office','Read and interpret original field notes from historical Texas surveys'],
   6, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-6','texas-land-system','spanish-grants','mexican-grants','GLO','vara'], 'published'),

  -- Week 7
  ('acc04b07-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 7: Boundary Evidence and the Priority of Calls',
   'Types of boundary evidence: natural monuments (rivers, trees, rock outcrops), artificial monuments (iron rods, pipes, stones, fences), record evidence (deeds, plats, field notes), and parol evidence (testimony). The hierarchy of calls (priority of evidence) from the Stanolind Oil case and Texas common law: (1) natural monuments, (2) artificial monuments, (3) distances, (4) direction/bearing, (5) area/quantity. Why monuments control over courses and distances. Conflicts between calls and how to resolve them. The concept of the "footsteps of the original surveyor." When area controls — exceptions to the general rule.',
   ARRAY['List and rank the priority of calls in boundary determination','Distinguish between natural and artificial monuments','Explain why monuments take precedence over distances and bearings','Apply the footsteps doctrine to retracement surveys','Resolve conflicts between competing boundary evidence'],
   7, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-7','boundary-evidence','priority-of-calls','monuments','footsteps'], 'published'),

  -- Week 8: MIDTERM EXAM
  ('acc04b08-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 8: Midterm Exam',
   'Midterm examination covering Weeks 1–7: property law fundamentals, estates and ownership, deed construction and interpretation, metes and bounds descriptions, PLSS and lot-and-block descriptions, the Texas land system and historical grants, boundary evidence, and the priority of calls. Expect both conceptual questions and practical problems requiring deed interpretation and description analysis.',
   ARRAY['Review all concepts from Weeks 1-7','Practice deed interpretation problems','Review the priority of calls hierarchy','Study Texas land system history and terminology'],
   8, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-8','midterm','exam'], 'published'),

  -- Week 9
  ('acc04b09-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 9: Original Surveys vs Retracement Surveys',
   'The fundamental distinction between an original survey (creating new boundaries where none existed) and a retracement survey (recovering boundaries established by a prior survey). In an original survey, the surveyor creates boundaries; in a retracement, the surveyor''s duty is to find and follow the original boundaries. The doctrine of retracement: the retracing surveyor must "follow in the footsteps" of the original surveyor and cannot establish new corners where original evidence exists. Proportionate measurement and its application. Lost vs obliterated corners: definitions and procedures for restoration. Single and double proportionate measurement in PLSS states. Texas procedures for lost corners.',
   ARRAY['Distinguish between original and retracement surveys','Explain the retracement doctrine and its legal significance','Define lost corners vs obliterated corners','Describe methods for restoring lost corners','Apply proportionate measurement principles'],
   9, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-9','original-survey','retracement','lost-corners','proportioning'], 'published'),

  -- Week 10
  ('acc04b10-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 10: Riparian and Littoral Boundaries',
   'Water boundaries in surveying: riparian rights (rivers and streams) vs littoral rights (lakes and oceans). The gradient boundary: Texas uses the gradient boundary method for non-navigable streams — the boundary is the gradient of the flowing water. Navigable vs non-navigable waters in Texas: navigable streams are public and the state owns the bed; non-navigable streams have private beds. Accretion (gradual deposit of soil), erosion (gradual removal of soil), reliction (water permanently recedes), and avulsion (sudden change in watercourse). How these doctrines affect property boundaries — accretion and reliction move boundaries but avulsion does not. Meander lines and their purpose: they are not boundaries but rather approximate representations of the water''s edge for area computation.',
   ARRAY['Distinguish between riparian and littoral rights','Explain the gradient boundary method used in Texas','Define accretion, erosion, reliction, and avulsion','Determine how water boundary changes affect property lines','Explain why meander lines are not boundaries'],
   10, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-10','riparian','littoral','water-boundaries','accretion','avulsion'], 'published'),

  -- Week 11
  ('acc04b11-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 11: Adverse Possession and Acquiescence',
   'Adverse possession in Texas: the legal doctrine by which a person can acquire title to land owned by another through continuous, open, notorious, hostile, and exclusive possession for a statutory period. Texas limitation periods: 3-year (under color of title with registered deed), 5-year (cultivated/used and paid taxes), 10-year (general adverse possession), and 25-year (strongest presumption). Elements that must be proven for each period. Acquiescence: long-standing agreement between neighbors on a boundary line (practical location). The difference between adverse possession (hostile taking) and acquiescence (mutual agreement). How practical location can become a legal boundary. Boundary by agreement, estoppel, and parol agreement. Implications for the surveyor: the surveyor measures and reports but does not adjudicate title.',
   ARRAY['List the elements required for adverse possession in Texas','Identify the four Texas limitation periods and their requirements','Distinguish between adverse possession and acquiescence','Explain boundary by agreement and practical location','Understand the surveyor''s role when adverse possession is suspected'],
   11, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-11','adverse-possession','acquiescence','limitation-periods','texas'], 'published'),

  -- Week 12
  ('acc04b12-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 12: Easements and Rights-of-Way',
   'Easements defined: the right to use another person''s land for a specific purpose. Types of easements: appurtenant (benefits a neighboring property — dominant and servient estates) vs in gross (benefits a person or entity, not a property). Methods of creating easements: express grant, reservation, implication, necessity, prescription (adverse use), and dedication. Termination of easements: release, merger, abandonment, expiration, condemnation. Right-of-way easements for roads, utilities, and pipelines. Prescriptive easements — similar requirements to adverse possession but results in use rights rather than ownership. How surveyors locate and depict easements on surveys and plats. ALTA/NSPS survey requirements for easement identification.',
   ARRAY['Define easements and distinguish appurtenant from in gross','Identify the methods by which easements are created','Explain prescriptive easements and their requirements','Describe how easements are terminated','Show easements correctly on survey plats and ALTA surveys'],
   12, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-12','easements','right-of-way','prescriptive','appurtenant'], 'published'),

  -- Week 13
  ('acc04b13-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 13: The Surveyor as Expert Witness',
   'The land surveyor in litigation: boundary disputes, title disputes, and condemnation proceedings. Qualifying as an expert witness under Texas Rules of Evidence. Preparing a survey for litigation: maintaining the chain of evidence, documenting all field observations, creating clear exhibits. Writing a boundary opinion — elements of a professional opinion letter. Testimony: direct examination, cross-examination, and redirect. Common pitfalls for surveyor witnesses. The importance of objectivity — the surveyor is an expert, not an advocate. Case studies from Texas boundary litigation. Daubert standard and its application to surveyor testimony. Professional liability and errors and omissions insurance.',
   ARRAY['Describe the surveyor''s role as an expert witness','Prepare survey documentation suitable for litigation','Explain the qualification process for expert witnesses in Texas','Identify common pitfalls in expert testimony','Understand professional liability exposure'],
   13, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-13','expert-witness','litigation','testimony','professional-liability'], 'published'),

  -- Week 14
  ('acc04b14-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 14: Professional Ethics and Texas Survey Standards',
   'Ethics in land surveying: objectivity, competence, conflicts of interest, and duty to the public. The TBPELS Rules of Professional Conduct for surveyors. Minimum standards for land surveying in Texas: Category 1A through 5 surveys, required accuracy standards, monumentation requirements, plat and description requirements. ALTA/NSPS Land Title Survey standards: Table A optional items, accuracy requirements (relative positional precision of 2 cm + 50 ppm), certification language. Comparison of Texas minimum standards with ALTA/NSPS requirements. Common ethical scenarios: discovering encroachments, discrepancies between record and field, neighbor disputes, and pressure from clients to move boundaries.',
   ARRAY['Describe the TBPELS Rules of Professional Conduct','Identify Texas minimum survey standards by category','Explain ALTA/NSPS survey requirements and Table A items','Apply ethical principles to common surveying scenarios','Understand the consequences of professional misconduct'],
   14, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-14','ethics','standards','TBPELS','ALTA','professional-conduct'], 'published'),

  -- Week 15
  ('acc04b15-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 15: Case Law Review and Comprehensive Exam Preparation',
   'Review of landmark Texas boundary law cases: Stafford v. King (footsteps doctrine), State v. Balli (Spanish grants), Kirby Lumber Co. cases (timber boundaries), Oklahoma v. Texas (Red River boundary). Application of legal principles to practical boundary problems. Comprehensive review of all course topics with practice exam questions. Integration of legal concepts with surveying field practice: how legal principles guide field decisions. Study strategies for the SIT and RPLS examinations — legal principles sections. Review of common exam question formats and traps.',
   ARRAY['Analyze key Texas boundary law cases and their holdings','Apply legal principles to practical boundary scenarios','Integrate legal knowledge with surveying field practice','Prepare for SIT/RPLS exam legal principles sections','Review all major course topics systematically'],
   15, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-15','case-law','review','exam-prep','SIT','RPLS'], 'published'),

  -- Week 16: FINAL EXAM
  ('acc04b16-0000-0000-0000-000000000001', 'acc00004-0000-0000-0000-000000000004',
   'Week 16: Final Exam',
   'Comprehensive final examination covering all course material from Weeks 1–15. Topics include: property law fundamentals, estates and ownership, deeds and deed construction, all three types of legal descriptions, the Texas land system and historical grants, boundary evidence and priority of calls, original vs retracement surveys, riparian and littoral boundaries, adverse possession and acquiescence, easements, expert witness procedures, professional ethics, and Texas survey standards. Both conceptual questions and practical deed/description interpretation problems.',
   ARRAY['Review all course concepts comprehensively','Practice deed interpretation and description analysis','Review priority of calls and boundary evidence resolution','Study adverse possession requirements and water boundary doctrines','Focus on weak areas identified during the semester'],
   16, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2343','week-16','final','exam'], 'published');


-- ============================================================================
-- SECTION 3: QUESTION BANK — Weeks 1-7 (Quiz + Homework)
-- ============================================================================
-- Each non-exam week has 5 quiz questions + 3 homework problems = 8 questions
-- Midterm: 15 questions covering weeks 1-7
-- Final: 20 questions comprehensive

DELETE FROM question_bank WHERE tags @> ARRAY['acc-srvy-2343'];

-- Week 1 Quiz & Homework
INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('The land surveyor''s role in boundary determination is best described as:', 'multiple_choice', '["Legislative — creating new laws about property","Quasi-judicial — interpreting evidence to locate existing boundaries","Executive — enforcing property rights","Arbitrary — placing boundaries wherever convenient"]'::jsonb, 'Quasi-judicial — interpreting evidence to locate existing boundaries', 'The surveyor acts in a quasi-judicial capacity, weighing evidence (deeds, monuments, testimony) to locate boundaries that already exist in law. The surveyor does not create boundaries in a retracement — they find and mark them.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','quiz','surveyor-role']),
('Real property includes all of the following EXCEPT:', 'multiple_choice', '["Land and soil","Buildings permanently attached to the land","Growing timber","A mobile home on wheels ready to be towed"]'::jsonb, 'A mobile home on wheels ready to be towed', 'Real property includes land, things permanently attached (fixtures), and things growing on the land. A mobile home on wheels that is not permanently affixed is personal property (chattel), not real property.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','quiz','real-property']),
('The "bundle of rights" in real property includes all EXCEPT:', 'multiple_choice', '["Right of possession","Right of enjoyment","Right of disposition","Right to commit waste"]'::jsonb, 'Right to commit waste', 'The bundle of rights includes possession, enjoyment, control, exclusion, and disposition (sale/transfer). Waste — damaging or destroying the property — is generally prohibited, not a right.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','quiz','bundle-of-rights']),
('In Texas, the board that regulates professional land surveyors is:', 'multiple_choice', '["Texas Department of Licensing and Regulation","Texas Board of Professional Engineers and Land Surveyors (TBPELS)","Texas Real Estate Commission","Texas Land Office"]'::jsonb, 'Texas Board of Professional Engineers and Land Surveyors (TBPELS)', 'TBPELS (Texas Board of Professional Engineers and Land Surveyors) is the regulatory body that licenses and regulates both professional engineers and professional land surveyors in Texas.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','quiz','TBPELS','licensing']),
('A surveyor who retraces a boundary creates new property rights for the landowner.', 'true_false', '["True","False"]'::jsonb, 'False', 'A retracement surveyor does NOT create property rights. They locate and mark boundaries that already exist in law from the original survey and conveyance. Only an original survey creates new boundaries.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','quiz','retracement']),
('Explain the difference between real property and personal property, and give two examples of each.', 'essay', '[]'::jsonb, 'Real property: land, buildings, growing crops. Personal property: vehicles, furniture, equipment.', 'Real property (realty) consists of land and everything permanently attached to or growing on it. Examples include a house, a barn, mineral rights, and standing timber. Personal property (personalty/chattels) consists of movable items not attached to land. Examples include vehicles, livestock, furniture, and tools. The distinction matters because real property is conveyed by deed while personal property is conveyed by bill of sale.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','homework','real-vs-personal']),
('Why is it important for land surveyors to study property law? Describe at least three reasons.', 'essay', '[]'::jsonb, 'Surveyors interpret deeds, locate boundaries using legal evidence, may testify as expert witnesses, and must follow professional standards.', 'Surveyors must study property law because: (1) they interpret deeds and legal descriptions as part of every boundary survey, (2) they must understand the priority of calls and rules of evidence to locate boundaries correctly, (3) they may be called as expert witnesses in boundary disputes, (4) they must comply with TBPELS rules and minimum standards, and (5) their survey opinions carry legal weight and can affect property rights. A surveyor ignorant of the law risks malpractice and harm to clients.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','homework','surveyor-law']),
('What is the legal significance of the RPLS license in Texas?', 'short_answer', '[]'::jsonb, 'The RPLS license authorizes independent practice of land surveying in Texas under TBPELS authority', 'The RPLS (Registered Professional Land Surveyor) license, granted by TBPELS, is the legal authorization to practice land surveying independently in Texas. Only an RPLS may certify surveys, sign and seal plats, and offer professional boundary opinions. Practicing without a license is a criminal offense.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b01-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-1','homework','RPLS','licensing']),

-- Week 2 Quiz & Homework
('A fee simple absolute estate is:', 'multiple_choice', '["The highest form of ownership recognized by law","A temporary right to use land","Ownership that automatically ends upon a condition","A lease for 99 years"]'::jsonb, 'The highest form of ownership recognized by law', 'Fee simple absolute is the most complete form of property ownership. The owner has all rights in the bundle of rights with no conditions or limitations on duration. It can be inherited and conveyed freely.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','quiz','fee-simple']),
('Texas is a community property state. This means that property acquired during marriage is generally:', 'multiple_choice', '["Owned solely by the husband","Owned solely by whoever paid for it","Owned equally by both spouses","Owned by the state"]'::jsonb, 'Owned equally by both spouses', 'In Texas (a community property state), property acquired during marriage by either spouse is presumed to be community property owned equally by both. Separate property includes what was owned before marriage or received as a gift or inheritance during marriage.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','quiz','community-property']),
('A fee simple determinable estate automatically ends when:', 'multiple_choice', '["The owner dies","A specified condition occurs","The government condemns the property","The deed expires after 30 years"]'::jsonb, 'A specified condition occurs', 'A fee simple determinable ends automatically when a specified condition occurs (e.g., "to the church so long as used for religious purposes"). When the condition is violated, ownership reverts automatically to the grantor without court action.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','quiz','fee-simple-determinable']),
('A life estate grants ownership for:', 'multiple_choice', '["99 years","The life of the grantee or another specified person","As long as taxes are paid","Forever"]'::jsonb, 'The life of the grantee or another specified person', 'A life estate is ownership measured by the lifetime of a designated person (the life tenant or a third party in a pur autre vie estate). Upon that person''s death, the property passes to the remainderman or reverts to the grantor.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','quiz','life-estate']),
('Under Texas homestead law, a homestead can be seized to pay credit card debt.', 'true_false', '["True","False"]'::jsonb, 'False', 'Texas has among the strongest homestead protections in the nation. A homestead is generally protected from forced sale for most debts. Exceptions include purchase money mortgages, property taxes, home equity loans (with restrictions), and mechanic''s liens for work on the property.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','quiz','homestead']),
('Describe the difference between joint tenancy with right of survivorship and tenancy in common. Which is more common in Texas?', 'essay', '[]'::jsonb, 'Joint tenancy: equal shares, survivorship right. Tenancy in common: unequal shares possible, no survivorship. Tenancy in common is more common in Texas.', 'Joint tenancy with right of survivorship (JTWROS) means co-owners hold equal shares, and when one dies, their share automatically passes to the surviving co-owner(s) outside of probate. Tenancy in common allows unequal shares, each owner can sell or will their share independently, and there is no survivorship right. In Texas, tenancy in common is the default presumption unless JTWROS is explicitly created.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','homework','concurrent-ownership']),
('What is a fee simple defeasible estate? Give an example of language that creates one.', 'short_answer', '[]'::jsonb, 'Ownership that can be lost upon a condition; e.g., "to Grantee so long as used for school purposes"', 'A fee simple defeasible is ownership that can be terminated if a specified condition occurs. Example: "To the City of Austin so long as the land is used as a public park." If the city stops using it as a park, ownership reverts. Key words include "so long as," "while," "during," and "provided that."', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','homework','defeasible-estate']),
('Why should a surveyor understand the type of estate held by the person commissioning a survey?', 'short_answer', '[]'::jsonb, 'To ensure the person has authority to commission the survey and to understand any limitations on the property', 'A surveyor should verify ownership because: (1) only an authorized person should commission a survey, (2) the estate type may affect what can be shown on the survey, (3) life tenants and defeasible fee holders have limitations that may matter, and (4) in community property situations, both spouses may need to be involved in conveying or encumbering the property.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b02-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-2','homework','ownership-authority']),

-- Week 3 Quiz & Homework
('The clause in a deed that states "to have and to hold" is the:', 'multiple_choice', '["Granting clause","Habendum clause","Acknowledgment","Warranty clause"]'::jsonb, 'Habendum clause', 'The habendum clause ("to have and to hold") defines the extent of ownership being conveyed. It follows the granting clause and specifies the type of estate granted. If the habendum conflicts with the granting clause, the granting clause generally controls.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','quiz','habendum']),
('Which type of deed provides the greatest protection to the grantee?', 'multiple_choice', '["Quitclaim deed","Special warranty deed","General warranty deed","Deed without warranty"]'::jsonb, 'General warranty deed', 'A general warranty deed provides the most protection. The grantor warrants against all defects in title, even those arising before the grantor''s ownership. A special warranty deed only warrants against defects during the grantor''s ownership. A quitclaim deed provides no warranties at all.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','quiz','deed-types']),
('In deed interpretation, ambiguities are generally construed against the:', 'multiple_choice', '["Grantee","Grantor","County clerk","Surveyor"]'::jsonb, 'Grantor', 'The rule of construction against the grantor means that when deed language is ambiguous, it is interpreted in favor of the grantee. The reasoning is that the grantor chose the words and could have been more precise.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','quiz','deed-interpretation']),
('Constructive notice means that a properly recorded deed gives notice to the world of its contents.', 'true_false', '["True","False"]'::jsonb, 'True', 'When a deed is properly recorded in the county clerk''s office, it provides constructive notice to everyone. This means all subsequent purchasers are presumed to know about the conveyance, whether or not they actually searched the records.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','quiz','constructive-notice']),
('The doctrine of merger means that:', 'multiple_choice', '["Two parcels become one when purchased by the same owner","All prior oral agreements merge into the written deed upon delivery","A deed is automatically updated when re-recorded","The grantor and grantee become the same person"]'::jsonb, 'All prior oral agreements merge into the written deed upon delivery', 'The doctrine of merger holds that upon delivery and acceptance of a deed, all prior negotiations, oral promises, and contractual terms merge into the deed. The deed becomes the final expression of the parties'' agreement regarding the property transfer.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','quiz','merger-doctrine']),
('Identify and describe the six essential elements of a valid deed in Texas.', 'essay', '[]'::jsonb, 'Grantor, grantee, granting clause, consideration, legal description, delivery and acceptance', 'A valid deed in Texas requires: (1) competent grantor identified by name, (2) identifiable grantee, (3) granting clause (words of conveyance like "grant" or "convey"), (4) consideration (money, love and affection, or other value), (5) adequate legal description sufficient to identify the property, and (6) delivery to and acceptance by the grantee. Additionally, while not required for validity, acknowledgment (notarization) is necessary for recording.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','homework','deed-elements']),
('What is the difference between an exception and a reservation in a deed?', 'short_answer', '[]'::jsonb, 'Exception withholds existing rights from the conveyance; reservation creates a new right retained by the grantor', 'An exception removes something from the conveyance that already exists (e.g., "excepting the mineral rights previously conveyed to X"). A reservation creates a new right retained by the grantor in the property being conveyed (e.g., "reserving an easement for ingress and egress"). Though often used interchangeably in practice, they are technically different.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','homework','exception-reservation']),
('Compare a general warranty deed to a quitclaim deed. When might a surveyor encounter each type?', 'short_answer', '[]'::jsonb, 'General warranty: full title guarantees, most common in sales. Quitclaim: no guarantees, used to clear title defects or transfer between family.', 'A general warranty deed guarantees the title against all defects and encumbrances, even those predating the grantor''s ownership. A quitclaim deed transfers only whatever interest the grantor may have, with no guarantees. Surveyors commonly encounter general warranty deeds in normal property transactions and quitclaim deeds in situations like clearing title defects, transferring between spouses, or boundary line agreements.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b03-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-3','homework','warranty-vs-quitclaim']),

-- Week 4 Quiz & Homework
('In a metes and bounds description, "metes" refers to:', 'multiple_choice', '["Boundary corners only","Measurements of direction and distance","Property area","Adjoining owners"]'::jsonb, 'Measurements of direction and distance', '"Metes" means measurements — specifically the direction (bearing or azimuth) and distance of each boundary line. "Bounds" refers to the boundaries themselves, including monuments and adjoiners.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','quiz','metes-and-bounds']),
('When two deeds from the same grantor overlap, which deed generally has superior rights?', 'multiple_choice', '["The deed with the larger area","The deed recorded first (senior deed)","The deed recorded second (junior deed)","Neither — they split the overlap equally"]'::jsonb, 'The deed recorded first (senior deed)', 'Under the first-in-time rule, the senior deed (conveyed/recorded first) has superior rights. The grantor can only convey what they own. After the first conveyance, the overlap area belongs to the senior grantee, and the junior deed is short that area.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','quiz','senior-junior']),
('A metes and bounds description must always begin and end at the same point (close).', 'true_false', '["True","False"]'::jsonb, 'True', 'A proper metes and bounds description must close — it begins at a defined Point of Beginning (POB) and returns to that same point after traversing all boundary lines. A description that does not close is defective, though it may still be valid if the property can be identified.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','quiz','closure']),
('A "call" in a legal description refers to:', 'multiple_choice', '["A phone call to the county clerk","Any reference to a direction, distance, monument, or adjoiner","The name of the surveyor","The date of the survey"]'::jsonb, 'Any reference to a direction, distance, monument, or adjoiner', 'A "call" is any reference in a legal description that helps locate the boundary. Calls can be for monuments (natural or artificial), directions (bearings), distances, adjoiners (neighboring property owners), or area.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','quiz','calls']),
('A gap between two adjoining deed descriptions means:', 'multiple_choice', '["Both owners share the gap area","The gap area was never conveyed and may still belong to the original grantor","The surveyor made an error that must be corrected","The gap does not legally exist"]'::jsonb, 'The gap area was never conveyed and may still belong to the original grantor', 'A gap (or hiatus) is an area not covered by any deed description. If two parcels were carved from a larger tract and a gap exists between them, that strip was never conveyed and may remain with the original grantor or their heirs. Gaps create title problems.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','quiz','gaps']),
('Given the following partial description, identify all the "calls": "Beginning at an iron rod found in the south line of Oak Street, thence S 45°30'' E, 200.00 feet to an iron rod set..."', 'short_answer', '[]'::jsonb, 'Calls: monument (iron rod found), adjoiner (south line of Oak Street), direction (S 45°30'' E), distance (200.00 feet), monument (iron rod set)', 'The calls are: (1) monument — "iron rod found," (2) adjoiner — "south line of Oak Street," (3) direction — "S 45°30'' E," (4) distance — "200.00 feet," and (5) monument — "iron rod set." Each call is a piece of evidence the surveyor uses to locate the boundary on the ground.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','homework','identifying-calls']),
('Explain the difference between a senior conveyance and a junior conveyance. Why does seniority matter in boundary disputes?', 'essay', '[]'::jsonb, 'Senior conveyance is first in time and has superior rights. Junior conveyance gets what remains. Seniority resolves overlapping claims.', 'A senior conveyance is the first deed out of a common grantor. A junior conveyance is a subsequent deed from the same grantor. Seniority matters because a grantor can only convey what they still own. After the senior conveyance, the grantor''s remaining interest is reduced. If the two descriptions overlap, the senior grantee has superior rights to the overlap area, and the junior grantee is left short.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','homework','senior-junior-analysis']),
('What is the difference between a gap and an overlap in legal descriptions? Which is worse from a title perspective?', 'short_answer', '[]'::jsonb, 'Gap: area not described in any deed. Overlap: area described in two deeds. Both create title problems; overlaps typically cause more disputes.', 'A gap (hiatus) is an area not covered by any description — it was never conveyed. An overlap (conflict) occurs when two descriptions cover the same area. Both create title problems. Overlaps are typically more contentious because two parties claim the same land, requiring resolution through seniority, boundary agreement, or litigation.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b04-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-4','homework','gap-overlap']),

-- Week 5 Quiz & Homework
('In the PLSS, a standard township contains how many sections?', 'multiple_choice', '["4","16","36","64"]'::jsonb, '36', 'A standard PLSS township is 6 miles × 6 miles and contains 36 sections, each approximately 1 mile × 1 mile (640 acres). Sections are numbered 1-36 in a serpentine pattern starting from the NE corner.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','quiz','PLSS','sections']),
('Texas does not use the PLSS because:', 'multiple_choice', '["Texas was too large to survey","Texas retained its public lands when it joined the Union","The PLSS had not been invented yet","Mexico prohibited the PLSS"]'::jsonb, 'Texas retained its public lands when it joined the Union', 'When Texas was annexed in 1845, it was the only state admitted that retained ownership of its public lands (to pay its Republic-era debt). Since the federal government did not own Texas land, it could not impose the PLSS. Texas used its own system of land grants.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','quiz','texas-PLSS']),
('The NW 1/4 of Section 12 contains approximately how many acres?', 'numeric_input', '[]'::jsonb, '160', 'A section is 640 acres. The NW 1/4 = 640/4 = 160 acres.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','quiz','PLSS-area']),
('A lot-and-block description references:', 'multiple_choice', '["GPS coordinates","A recorded subdivision plat","The original land grant","County tax records only"]'::jsonb, 'A recorded subdivision plat', 'A lot-and-block description identifies property by lot number, block number, subdivision name, and reference to the recorded plat (volume and page in the plat records or cabinet and slide). The plat provides the actual dimensions and bearings.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','quiz','lot-and-block']),
('A strip or gore is a narrow parcel of land between two surveys that was unintentionally left unconveyed.', 'true_false', '["True","False"]'::jsonb, 'True', 'A strip or gore is a narrow piece of land between two adjacent surveys that was never included in either survey or conveyance. Strips and gores create title problems similar to gaps and often result from imprecise original surveys.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','quiz','strip-gore']),
('How many acres are in the S 1/2 of the NE 1/4 of Section 20?', 'numeric_input', '[]'::jsonb, '80', 'NE 1/4 = 640/4 = 160 acres. S 1/2 of that = 160/2 = 80 acres.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','homework','PLSS-area-computation']),
('Write a lot-and-block legal description for Lot 5, Block 3 of a subdivision called "Oakwood Heights" recorded in Volume 10, Page 22 of the plat records of Travis County, Texas.', 'short_answer', '[]'::jsonb, 'Lot 5, Block 3, Oakwood Heights, a subdivision in Travis County, Texas, according to the plat thereof recorded in Volume 10, Page 22 of the Plat Records of Travis County, Texas.', 'A proper lot-and-block description includes: lot number, block number, subdivision name, county, state, and the recording reference (volume and page of plat records). This description incorporates the recorded plat by reference, which contains all dimensions and bearings.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','homework','lot-block-writing']),
('Explain why a Texas surveyor still needs to understand the PLSS even though Texas does not use it.', 'short_answer', '[]'::jsonb, 'PLSS knowledge is required for SIT/RPLS exams, for work in other states, and for understanding federal land records', 'Texas surveyors need PLSS knowledge for: (1) the SIT and RPLS exams test PLSS extensively, (2) surveyors licensed in Texas may work in PLSS states or on federal land, (3) understanding PLSS principles aids in understanding general surveying concepts like proportioning and restoration of lost corners, and (4) some federal land within Texas (military bases, national parks) may reference PLSS-like descriptions.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b05-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-5','homework','PLSS-relevance']),

-- Week 6 Quiz & Homework
('A Spanish league of land in Texas contains approximately:', 'multiple_choice', '["177 acres","640 acres","4,428 acres","10,000 acres"]'::jsonb, '4,428 acres', 'A Spanish league (legua) in Texas equals approximately 4,428.4 acres (25 million square varas). A labor equals approximately 177.1 acres (1 million square varas). These are the primary land measurement units from the Spanish/Mexican period.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','quiz','league','spanish-grants']),
('The Texas vara is defined as:', 'multiple_choice', '["Exactly 36 inches","33-1/3 inches","39.37 inches","Exactly 1 meter"]'::jsonb, '33-1/3 inches', 'The Texas vara equals 33-1/3 inches (33.333... inches). This was established by the Texas legislature and is used to interpret all Spanish and Mexican-era land grants in Texas. One vara = 0.8467 meters.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','quiz','vara']),
('Under the empresario system, colonists received land grants in exchange for:', 'multiple_choice', '["Paying cash to the Spanish crown","Settling and developing the land","Military service only","Building churches"]'::jsonb, 'Settling and developing the land', 'The empresario system (used by both Spain and Mexico) granted land to empresarios (land agents like Stephen F. Austin) who recruited settlers. Colonists received land grants in exchange for settling, building homes, and developing the land — typically a league and a labor for ranching families.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','quiz','empresario']),
('The Texas General Land Office (GLO) maintains records of original Texas land grants.', 'true_false', '["True","False"]'::jsonb, 'True', 'The GLO, established in 1836 by the Republic of Texas, is the custodian of all original land grant records, field notes, patents, and maps. It maintains over 35 million acres of state land records and is an essential research resource for Texas surveyors.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','quiz','GLO']),
('A headright grant in the Republic of Texas was given to:', 'multiple_choice', '["Only Stephen F. Austin","Any citizen of the Republic based on arrival date","Only military veterans","Only married men"]'::jsonb, 'Any citizen of the Republic based on arrival date', 'Headright grants were given to citizens of the Republic of Texas based on when they arrived. First-class headrights (arrived before March 2, 1836) received a league and a labor. Second-class (arrived before October 1, 1837) received 1/3 league. Third-class received 640 acres. The amount decreased for later arrivals.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','quiz','headright']),
('Convert 5,000 varas to feet using the Texas vara (33-1/3 inches).', 'numeric_input', '[]'::jsonb, '13889', '5,000 varas × 33.333 inches/vara = 166,667 inches ÷ 12 = 13,888.9 feet ≈ 13,889 feet. Or: 5,000 × (100/36) = 13,888.9 ft.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','homework','vara-conversion']),
('Describe the major types of land grants issued during the Republic of Texas era (1836-1845).', 'essay', '[]'::jsonb, 'Headright grants (by arrival date), bounty grants (military service), donation grants (Battle of San Jacinto veterans), and pre-emption rights (settlers on vacant land).', 'Republic-era grants include: (1) Headright grants — issued based on arrival date in Texas, ranging from a league and labor (first class) to 640 acres (third class). (2) Bounty grants — issued to soldiers for military service during the revolution. (3) Donation grants — special grants to veterans of the Battle of San Jacinto and other key engagements. (4) Pre-emption rights — allowed settlers already occupying vacant public land to purchase it at a reduced price. These grants created the patchwork of original surveys that define Texas property boundaries today.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','homework','republic-grants']),
('What is the difference between a patent and a deed in the context of Texas land grants?', 'short_answer', '[]'::jsonb, 'A patent is the original transfer from the sovereign (Spain, Mexico, Republic, or State of Texas) to the first private owner. A deed is a transfer between private parties.', 'A patent (or grant) is the sovereign''s conveyance of public land to the first private owner — it creates original title. All subsequent transfers between private parties are by deed. The patent and its original field notes are the ultimate root of title for every parcel in Texas.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b06-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-6','homework','patent-vs-deed']),

-- Week 7 Quiz & Homework
('In the priority of calls, which type of evidence ranks highest?', 'multiple_choice', '["Area","Distance","Direction/bearing","Natural monuments"]'::jsonb, 'Natural monuments', 'The priority of calls from highest to lowest: (1) natural monuments (rivers, creeks, rock outcrops), (2) artificial monuments (iron rods, stones, fences), (3) adjoiners/record boundaries, (4) distances, (5) directions/bearings, (6) area/quantity. Natural monuments are the most reliable because they are least susceptible to error.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','quiz','priority-of-calls']),
('When a deed calls for a creek as a boundary, but the measured distance does not reach the creek, the boundary extends to:', 'multiple_choice', '["The measured distance","The creek","Halfway between the distance and the creek","Neither — the description is void"]'::jsonb, 'The creek', 'Natural monuments control over distance. When a deed calls for a creek (natural monument) and a distance, but they conflict, the creek controls. The boundary extends to the creek regardless of the stated distance.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','quiz','monuments-over-distance']),
('"Following in the footsteps of the original surveyor" means:', 'multiple_choice', '["Using the same equipment the original surveyor used","Walking the same path the original surveyor walked","Locating the boundaries exactly as the original surveyor established them","Contacting the original surveyor for directions"]'::jsonb, 'Locating the boundaries exactly as the original surveyor established them', 'The footsteps doctrine requires the retracing surveyor to locate the boundaries as they were actually established on the ground by the original surveyor, even if the original surveyor made errors. The original monuments control, not what the deed says the measurements should be.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','quiz','footsteps-doctrine']),
('An artificial monument found in the field takes precedence over the bearing stated in the deed.', 'true_false', '["True","False"]'::jsonb, 'True', 'Artificial monuments rank higher than directions/bearings in the priority of calls. If a found monument conflicts with the bearing in the deed, the monument controls because it represents where the boundary was actually placed on the ground.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','quiz','monument-over-bearing']),
('Area is the least reliable call in a legal description because it is always computed from other measurements.', 'true_false', '["True","False"]'::jsonb, 'True', 'Area (acreage) is the weakest call because it is a calculated value derived from distances and directions. Any errors in those measurements compound in the area calculation. Area is generally the last evidence considered in resolving boundary conflicts.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','quiz','area-weakest-call']),
('A deed calls for an iron rod at a corner, but the field survey finds the iron rod 2.5 feet from the record position. Explain what the surveyor should do and why.', 'essay', '[]'::jsonb, 'The surveyor should hold the found monument as the corner because monuments control over distances and bearings. Document the discrepancy.', 'The surveyor should hold the found iron rod as the corner position. Under the priority of calls, monuments (even artificial ones) control over distances and bearings. The 2.5-foot discrepancy likely represents normal measurement error or difference between modern and historical methods. The surveyor should document the monument (size, type, condition), record its coordinates, note the discrepancy from record, and show it on the plat. The monument represents where the boundary was actually placed.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','homework','monument-discrepancy']),
('List the priority of calls from strongest to weakest and give an example of each type of evidence.', 'essay', '[]'::jsonb, '1. Natural monuments (creek), 2. Artificial monuments (iron rod), 3. Adjoiners (Jones tract), 4. Distance (200 ft), 5. Direction (N45E), 6. Area (10 acres)', 'Priority from strongest to weakest: (1) Natural monuments — e.g., "to the center of Onion Creek" (permanent, difficult to move). (2) Artificial monuments — e.g., "to an iron rod set" (placed by the surveyor but could be disturbed). (3) Adjoiners — e.g., "along the south line of the Jones tract." (4) Distance — e.g., "200.00 feet" (subject to measurement error). (5) Direction — e.g., "N 45° E" (subject to compass error, declination). (6) Area — e.g., "containing 10 acres" (calculated from other measurements, most error-prone).', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','homework','priority-list']),
('Describe a scenario where area might control over distance in a boundary determination.', 'short_answer', '[]'::jsonb, 'When land was originally sold by the acre with area as the primary intent, and monuments are lost, area may control to preserve the grantor''s intent.', 'Area may control when land was sold "by the acre" (e.g., "10 acres at $500 per acre") and the intent was clearly to convey a specific quantity. If all monuments are lost and the deed emphasizes area as the key element of the transaction, a court may give area more weight than usual. This is the exception, not the rule.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b07-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-7','homework','area-controls']);


-- ============================================================================
-- SECTION 4: MIDTERM EXAM QUESTIONS (15 questions covering Weeks 1-7)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('The surveyor''s role in boundary determination is best described as:', 'multiple_choice', '["Creating new boundaries","Quasi-judicial — locating existing boundaries based on evidence","Arbitrating disputes between neighbors","Deciding who owns the land"]'::jsonb, 'Quasi-judicial — locating existing boundaries based on evidence', 'The surveyor weighs evidence to locate boundaries already established in law. This is a quasi-judicial function, not a legislative or judicial one.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','surveyor-role']),
('Fee simple absolute ownership is characterized by:', 'multiple_choice', '["Limited duration","Conditions on use","Complete ownership with no limitations on duration","Government approval required for transfer"]'::jsonb, 'Complete ownership with no limitations on duration', 'Fee simple absolute is the most complete form of ownership — unlimited duration, freely transferable, inheritable, and subject to no conditions.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','estates']),
('A quitclaim deed:', 'multiple_choice', '["Guarantees clear title","Transfers whatever interest the grantor may have without warranties","Is only used for government land","Must include a survey"]'::jsonb, 'Transfers whatever interest the grantor may have without warranties', 'A quitclaim deed conveys whatever interest the grantor has (which could be nothing) with no warranties or guarantees about the quality of title.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','deeds']),
('In deed construction, specific descriptions prevail over general descriptions.', 'true_false', '["True","False"]'::jsonb, 'True', 'When a deed contains both a specific and general description that conflict, the specific description controls because it better reflects the grantor''s intent.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','deed-construction']),
('The point of beginning (POB) in a metes and bounds description:', 'multiple_choice', '["Can be anywhere on the boundary","Must be a well-defined, identifiable point","Is always in the NE corner","Is optional"]'::jsonb, 'Must be a well-defined, identifiable point', 'The POB must be identifiable on the ground — typically tied to a monument or referenced to a known point. Without a definite POB, the entire description may be void for uncertainty.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','metes-and-bounds']),
('A standard PLSS section contains approximately:', 'multiple_choice', '["40 acres","160 acres","320 acres","640 acres"]'::jsonb, '640 acres', 'A section is approximately 1 mile × 1 mile = 640 acres. A quarter section = 160 acres. A quarter-quarter = 40 acres.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','PLSS']),
('Texas uses the vara as a unit of measure in historical land grants. One vara equals:', 'multiple_choice', '["36 inches","33-1/3 inches","39.37 inches","30 inches"]'::jsonb, '33-1/3 inches', 'The Texas vara = 33-1/3 inches, as established by the Texas legislature for interpreting Spanish and Mexican land grants.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','vara']),
('A labor of land in the Texas land grant system contains approximately:', 'multiple_choice', '["40 acres","177 acres","640 acres","4,428 acres"]'::jsonb, '177 acres', 'A labor = 1,000,000 square varas ≈ 177.1 acres. A league = 25,000,000 square varas ≈ 4,428.4 acres.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','labor']),
('The highest-ranking evidence in the priority of calls is:', 'multiple_choice', '["Distance","Direction","Natural monuments","Area"]'::jsonb, 'Natural monuments', 'Natural monuments (rivers, creeks, ridges) rank first in the priority of calls because they are the most permanent and least susceptible to error or fraud.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','priority-of-calls']),
('When a call for a monument conflicts with a call for distance, the surveyor should:', 'multiple_choice', '["Split the difference","Hold the distance","Hold the monument","Ask the client what they prefer"]'::jsonb, 'Hold the monument', 'Monuments control over distance in the priority of calls. The monument represents where the boundary was actually placed on the ground.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','monument-vs-distance']),
('The Texas General Land Office was established in what year?', 'multiple_choice', '["1776","1821","1836","1845"]'::jsonb, '1836', 'The GLO was established in 1836 when the Republic of Texas was formed. It is the oldest state agency in Texas and maintains all original land grant records.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','GLO']),
('Community property in Texas means that both spouses must sign a deed to convey homestead property.', 'true_false', '["True","False"]'::jsonb, 'True', 'Under Texas law, both spouses must join in a conveyance of the homestead, regardless of how title is held. This protects the non-title-holding spouse''s homestead rights.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','community-property']),
('The senior deed from a common grantor has superior rights to the junior deed.', 'true_false', '["True","False"]'::jsonb, 'True', 'The senior deed (first in time from the same grantor) has superior rights. The grantor could only convey what remained after the first conveyance.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','senior-junior']),
('An empresario was:', 'multiple_choice', '["A type of land unit","A land agent who recruited settlers for Spanish/Mexican land grants","A Texas state official","A type of deed"]'::jsonb, 'A land agent who recruited settlers for Spanish/Mexican land grants', 'An empresario (like Stephen F. Austin) was a land agent authorized by Spain or Mexico to recruit settlers. In return, the empresario received land and the settlers received grants.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','empresario']),
('How many acres are in the NE 1/4 of the SW 1/4 of a section?', 'numeric_input', '[]'::jsonb, '40', 'SW 1/4 = 640/4 = 160 acres. NE 1/4 of that = 160/4 = 40 acres.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b08-0000-0000-0000-000000000001', 'ACC-2343-MIDTERM', ARRAY['acc-srvy-2343','midterm','PLSS-computation']);


-- ============================================================================
-- SECTION 5: QUESTION BANK — Weeks 9-15
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
-- Week 9
('An original survey differs from a retracement survey in that:', 'multiple_choice', '["An original survey is more accurate","An original survey creates new boundaries; a retracement locates existing ones","A retracement uses better equipment","An original survey requires more monuments"]'::jsonb, 'An original survey creates new boundaries; a retracement locates existing ones', 'An original survey creates boundaries where none previously existed. A retracement survey recovers and marks boundaries established by a prior survey. The legal duties are fundamentally different.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b09-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-9','quiz','original-vs-retracement']),
('A lost corner is one whose position:', 'multiple_choice', '["Can be determined from physical evidence","Cannot be determined from any existing evidence","Was never set","Is underwater"]'::jsonb, 'Cannot be determined from any existing evidence', 'A lost corner is one whose position cannot be determined beyond reasonable doubt from either evidence on the ground or reliable testimony. Its position must be restored using proportionate measurement or other prescribed methods.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b09-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-9','quiz','lost-corner']),
('An obliterated corner is one where the monument is gone but the position can be established from evidence.', 'true_false', '["True","False"]'::jsonb, 'True', 'An obliterated corner has had its monument destroyed or removed, but its position can still be established through witness marks, reference ties, testimony, or other evidence. This distinguishes it from a lost corner.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b09-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-9','quiz','obliterated-corner']),
('Proportionate measurement is used to restore:', 'multiple_choice', '["Obliterated corners","Found monuments","Lost corners","Witness trees"]'::jsonb, 'Lost corners', 'Proportionate measurement is the method used to restore lost corners by distributing the excess or deficiency of measurement proportionally among the remaining lines. It is NOT used for obliterated corners, which are restored from evidence.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b09-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-9','quiz','proportionate-measurement']),
('Explain the footsteps doctrine and why it is important in retracement surveys.', 'essay', '[]'::jsonb, 'The retracing surveyor must locate boundaries as the original surveyor established them, even if the original surveyor made errors.', 'The footsteps doctrine requires the retracing surveyor to follow the original surveyor''s work and locate boundaries where they were actually placed — not where they should have been placed according to the deed. If the original surveyor set a corner 10 feet from the record position, that corner IS the legal boundary. This is important because property rights have been established based on the original survey, and landowners have relied on those boundaries.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b09-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-9','homework','footsteps-essay']),

-- Week 10
('Riparian rights apply to property bordering:', 'multiple_choice', '["Lakes and oceans","Rivers and streams","Any body of water","Underground water"]'::jsonb, 'Rivers and streams', 'Riparian rights apply to property bordering flowing water (rivers and streams). Littoral rights apply to property bordering standing water (lakes and oceans). The distinction matters for boundary determination.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b10-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-10','quiz','riparian']),
('Accretion moves the property boundary because:', 'multiple_choice', '["The state requires it","The gradual deposit of soil is imperceptible and the boundary follows the water","The landowner paid for the new soil","The deed says it does"]'::jsonb, 'The gradual deposit of soil is imperceptible and the boundary follows the water', 'Accretion — the gradual, imperceptible deposit of soil by water action — moves the property boundary because the boundary is the water''s edge (gradient boundary). As soil builds up gradually, the boundary moves with the water. This rewards the riparian owner for the risk of erosion.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b10-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-10','quiz','accretion']),
('A sudden change in a river''s course (such as during a flood) is called:', 'multiple_choice', '["Accretion","Erosion","Avulsion","Reliction"]'::jsonb, 'Avulsion', 'Avulsion is a sudden, perceptible change in a watercourse (e.g., a river cutting a new channel during a flood). Unlike accretion and erosion (which are gradual), avulsion does NOT change the property boundary — the boundary remains at the former channel location.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b10-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-10','quiz','avulsion']),
('Meander lines are boundaries.', 'true_false', '["True","False"]'::jsonb, 'False', 'Meander lines are NOT boundaries. They are approximate lines run along the bank of a body of water for the purpose of computing area. The actual boundary is the water''s edge (gradient boundary), not the meander line.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b10-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-10','quiz','meander-lines']),
('In Texas, who owns the bed of a navigable stream?', 'multiple_choice', '["The adjacent landowners","The State of Texas","The federal government","No one"]'::jsonb, 'The State of Texas', 'In Texas, the state owns the beds of navigable streams (those averaging 30 feet or more in width from the mouth up). The riparian owner''s boundary is the gradient of the flowing water, not the center of the stream.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b10-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-10','quiz','navigable-streams']),

-- Week 11
('Adverse possession in Texas requires possession that is:', 'multiple_choice', '["Continuous, open, notorious, hostile, and exclusive","Continuous and hostile only","Open and notorious only","Exclusive and continuous only"]'::jsonb, 'Continuous, open, notorious, hostile, and exclusive', 'All five elements must be present: (1) Continuous — uninterrupted for the statutory period. (2) Open — visible, not hidden. (3) Notorious — obvious enough that the owner should notice. (4) Hostile — without the owner''s permission. (5) Exclusive — not shared with the owner or public.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b11-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-11','quiz','adverse-possession-elements']),
('The general adverse possession limitation period in Texas is:', 'multiple_choice', '["3 years","5 years","10 years","25 years"]'::jsonb, '10 years', 'The general adverse possession period in Texas (under Texas Civil Practice and Remedies Code §16.026) is 10 years of continuous, open, notorious, hostile, and exclusive possession. The 3-year and 5-year statutes have additional requirements.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b11-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-11','quiz','10-year-statute']),
('Acquiescence differs from adverse possession because acquiescence is:', 'multiple_choice', '["Always hostile","Based on mutual agreement between neighbors","Requires a shorter time period","Only applies to government land"]'::jsonb, 'Based on mutual agreement between neighbors', 'Acquiescence (practical location) is based on mutual agreement or acceptance between neighbors of a boundary line, while adverse possession is a hostile taking without the owner''s consent. Acquiescence creates a boundary by agreement; adverse possession creates one by conflict.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b11-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-11','quiz','acquiescence']),
('The 5-year adverse possession statute in Texas requires the claimant to have paid taxes on the property.', 'true_false', '["True","False"]'::jsonb, 'True', 'The 5-year statute (Texas CPRC §16.025) requires that the claimant cultivated, used, or enjoyed the property AND paid taxes on it during the 5-year period. This additional requirement distinguishes it from the general 10-year statute.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b11-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-11','quiz','5-year-statute']),
('A surveyor can determine that adverse possession has occurred and adjust the boundary accordingly.', 'true_false', '["True","False"]'::jsonb, 'False', 'Only a court can determine that adverse possession has occurred and transfer title. The surveyor should note evidence of potential adverse possession (fences, cultivation, improvements beyond the deed line) and inform the client, but cannot adjudicate title.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b11-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-11','quiz','surveyor-limitation']),

-- Week 12
('An easement appurtenant requires:', 'multiple_choice', '["Only one parcel of land","Two parcels: a dominant estate and a servient estate","Government approval","A written survey"]'::jsonb, 'Two parcels: a dominant estate and a servient estate', 'An easement appurtenant benefits one parcel (the dominant estate) and burdens another (the servient estate). The easement "runs with the land" and transfers automatically with the dominant estate. Example: a driveway easement across a neighbor''s property.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b12-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-12','quiz','easement-appurtenant']),
('An easement by necessity is typically created when:', 'multiple_choice', '["The government needs access","A landlocked parcel needs access to a public road","A utility company needs to install lines","A neighbor agrees to share a driveway"]'::jsonb, 'A landlocked parcel needs access to a public road', 'An easement by necessity arises when a parcel is landlocked (has no access to a public road) as a result of a conveyance. The law implies an easement over the grantor''s remaining land to provide access, because it is presumed the grantor did not intend to convey useless land.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b12-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-12','quiz','easement-necessity']),
('A prescriptive easement requires the same elements as adverse possession.', 'true_false', '["True","False"]'::jsonb, 'True', 'Prescriptive easements require the same elements as adverse possession: continuous, open, notorious, hostile, and exclusive use for the statutory period. The difference is that the claimant acquires a right to USE the land, not own it.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b12-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-12','quiz','prescriptive-easement']),
('An easement in gross:', 'multiple_choice', '["Benefits a neighboring property","Benefits a person or entity, not a property","Cannot be transferred","Must be created by deed only"]'::jsonb, 'Benefits a person or entity, not a property', 'An easement in gross benefits a person or entity rather than a neighboring property. Common examples include utility easements (benefiting the utility company) and billboard easements. There is no dominant estate — only a servient estate.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b12-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-12','quiz','easement-in-gross']),

-- Week 13
('The Daubert standard for expert testimony requires the surveyor to demonstrate:', 'multiple_choice', '["Membership in professional organizations","That their methods are based on reliable principles and applied correctly","At least 20 years of experience","A college degree in surveying"]'::jsonb, 'That their methods are based on reliable principles and applied correctly', 'Under the Daubert standard (adopted in Texas as the Robinson standard), expert testimony must be based on sufficient facts/data, reliable principles/methods, and the expert must have applied those methods reliably. The court acts as a gatekeeper for expert testimony.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b13-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-13','quiz','Daubert']),
('When testifying as an expert witness, the surveyor should be an advocate for their client.', 'true_false', '["True","False"]'::jsonb, 'False', 'The surveyor must be an objective expert, not an advocate. The surveyor''s duty is to present their professional opinion based on the evidence, regardless of which party hired them. Advocacy destroys credibility and may constitute professional misconduct.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b13-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-13','quiz','objectivity']),

-- Week 14
('ALTA/NSPS Land Title Surveys require a relative positional precision of:', 'multiple_choice', '["1 foot","0.1 feet","2 cm + 50 ppm","1 meter"]'::jsonb, '2 cm + 50 ppm', 'ALTA/NSPS standards require a relative positional precision of 2 cm + 50 ppm (parts per million). For example, over a 100-meter traverse, the allowable error is 2 cm + 0.005 m = 2.5 cm.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b14-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-14','quiz','ALTA-precision']),
('TBPELS can revoke or suspend an RPLS license for professional misconduct.', 'true_false', '["True","False"]'::jsonb, 'True', 'TBPELS has the authority to investigate complaints and take disciplinary action including reprimand, probation, suspension, or revocation of an RPLS license for violations of the Professional Land Surveying Practices Act or Rules of Professional Conduct.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b14-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-14','quiz','TBPELS-discipline']),
('Describe three ethical scenarios a surveyor might face and how each should be handled according to professional standards.', 'essay', '[]'::jsonb, 'Scenarios: discovering encroachment, client pressure to move boundary, competence in unfamiliar work. Handle with objectivity, honesty, and professional standards.', 'Common scenarios: (1) Discovering a neighbor''s fence encroaches — the surveyor must report findings accurately even if unfavorable to the client; moving the line would be fraud. (2) A client asks the surveyor to "adjust" a boundary — the surveyor must refuse and explain that boundaries are determined by evidence, not client preference. (3) Being asked to survey unfamiliar terrain (offshore, mining) — the surveyor should decline if they lack competence, per TBPELS rules requiring competence in the work accepted.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b14-0000-0000-0000-000000000001', 'ACC-2343', ARRAY['acc-srvy-2343','week-14','homework','ethics-scenarios']);


-- ============================================================================
-- SECTION 6: FINAL EXAM QUESTIONS (20 questions comprehensive)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('The bundle of rights includes possession, enjoyment, control, exclusion, and:', 'multiple_choice', '["Taxation","Disposition","Eminent domain","Adverse possession"]'::jsonb, 'Disposition', 'The bundle of rights: possession, enjoyment, control, exclusion, and disposition (the right to sell, gift, will, or otherwise transfer the property).', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','bundle-of-rights']),
('The habendum clause in a deed defines:', 'multiple_choice', '["The property boundaries","The extent of ownership being conveyed","The purchase price","The survey method used"]'::jsonb, 'The extent of ownership being conveyed', 'The habendum clause ("to have and to hold") specifies what estate is being conveyed (fee simple, life estate, etc.) and any conditions or limitations.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','habendum']),
('Ambiguities in a deed are construed against the:', 'multiple_choice', '["Grantee","Grantor","Surveyor","County"]'::jsonb, 'Grantor', 'Ambiguities are construed against the grantor because the grantor chose the language and could have been clearer.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','deed-construction']),
('In the priority of calls, directions/bearings rank:', 'multiple_choice', '["First","Second","Third","Fifth"]'::jsonb, 'Fifth', 'Priority: (1) natural monuments, (2) artificial monuments, (3) adjoiners, (4) distances, (5) directions/bearings, (6) area. Directions rank fifth because compass readings are subject to declination and instrument errors.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','priority-of-calls']),
('One Texas league equals approximately:', 'numeric_input', '[]'::jsonb, '4428', 'One league = 25,000,000 square varas ≈ 4,428.4 acres.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','league']),
('Avulsion does NOT change property boundaries because the change is sudden and perceptible.', 'true_false', '["True","False"]'::jsonb, 'True', 'Avulsion (sudden change) does not move the boundary — it remains at the former location of the watercourse. Only gradual, imperceptible changes (accretion and erosion) move the boundary.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','avulsion']),
('The 3-year adverse possession statute in Texas requires:', 'multiple_choice', '["Just possession for 3 years","Possession under color of title with a registered deed","Payment of taxes only","Permission from the owner"]'::jsonb, 'Possession under color of title with a registered deed', 'The 3-year statute (CPRC §16.024) requires possession under title or color of title from the sovereign. This is the shortest AP period and has the strictest requirements.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','3-year-statute']),
('An easement appurtenant runs with the land, meaning it:', 'multiple_choice', '["Expires when the owner dies","Transfers automatically with the dominant estate","Must be renewed every 10 years","Only applies to agricultural land"]'::jsonb, 'Transfers automatically with the dominant estate', 'An easement appurtenant is attached to the dominant estate and transfers automatically when that property is conveyed, even if not mentioned in the deed.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','easement-appurtenant']),
('A lost corner must be restored by:', 'multiple_choice', '["The original surveyor","Proportionate measurement","Simply setting a new monument anywhere","Using only GPS"]'::jsonb, 'Proportionate measurement', 'Lost corners (whose position cannot be determined from evidence) must be restored using proportionate measurement, distributing excess or deficiency equally among the remaining lines.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','lost-corner-restoration']),
('The retracing surveyor may establish new boundaries when the original monuments are found.', 'true_false', '["True","False"]'::jsonb, 'False', 'When original monuments are found, the retracing surveyor must honor them — they represent the actual boundary as established. The surveyor cannot establish new boundaries when evidence of the originals exists.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','retracement']),
('In Texas, navigable streams are defined as those averaging at least ___ feet in width.', 'numeric_input', '[]'::jsonb, '30', 'Under Texas law, a stream is navigable if it averages 30 feet or more in width from its mouth up. The state owns the bed of navigable streams.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','navigable-width']),
('Reliction occurs when:', 'multiple_choice', '["Water gradually covers new land","Water permanently recedes, exposing new land","A river changes course suddenly","A dam is built"]'::jsonb, 'Water permanently recedes, exposing new land', 'Reliction is the gradual, permanent recession of water that exposes new land. Like accretion, reliction moves the property boundary because it is gradual. The exposed land belongs to the riparian/littoral owner.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','reliction']),
('A general warranty deed warrants against defects in title arising:', 'multiple_choice', '["Only during the grantor''s ownership","Only from the original patent","At any time — before and during the grantor''s ownership","Only after the grantee takes possession"]'::jsonb, 'At any time — before and during the grantor''s ownership', 'A general warranty deed provides the broadest protection, warranting against all title defects regardless of when they arose. A special warranty deed, by contrast, only warrants against defects during the grantor''s ownership.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','general-warranty']),
('The W 1/2 of the NE 1/4 of the SE 1/4 of a section contains how many acres?', 'numeric_input', '[]'::jsonb, '20', 'SE 1/4 = 160 acres. NE 1/4 of that = 40 acres. W 1/2 of that = 20 acres.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','PLSS-computation']),
('An easement by prescription can be prevented by:', 'multiple_choice', '["Ignoring the use","Granting permission for the use","Building a fence","Recording a deed"]'::jsonb, 'Granting permission for the use', 'Granting permission defeats the "hostile" element required for a prescriptive easement. If the use is permissive, it cannot be adverse, and no prescriptive rights can accrue no matter how long it continues.', 'hard', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','preventing-prescription']),
('Texas homestead protections prevent forced sale of a homestead for most debts.', 'true_false', '["True","False"]'::jsonb, 'True', 'Texas homestead protections are among the strongest in the nation. The homestead is exempt from forced sale for most debts, with exceptions for purchase-money liens, property taxes, home equity loans, and mechanic''s liens.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','homestead']),
('Convert 8,000 varas to feet.', 'numeric_input', '[]'::jsonb, '22222', '8,000 × 33.333 inches / 12 inches = 22,222.2 feet ≈ 22,222 feet.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','vara-conversion']),
('A surveyor who knowingly moves a monument to favor a client commits:', 'multiple_choice', '["A minor error","Professional misconduct subject to TBPELS discipline","A civil matter only","An accepted practice in boundary disputes"]'::jsonb, 'Professional misconduct subject to TBPELS discipline', 'Knowingly moving or disturbing a monument is a violation of professional ethics and Texas law. It constitutes fraud and professional misconduct subject to license revocation, civil liability, and potentially criminal charges.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','ethics-monuments']),
('The footsteps doctrine requires the retracing surveyor to:', 'multiple_choice', '["Use the same brand of equipment","Locate boundaries where the original surveyor actually placed them","Follow the deed description exactly, ignoring found monuments","Survey only on the same day of year"]'::jsonb, 'Locate boundaries where the original surveyor actually placed them', 'The footsteps doctrine means following the original surveyor''s actual work on the ground, even if it differs from the record. Found monuments from the original survey represent the legal boundary.', 'medium', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','footsteps']),
('An expert witness surveyor should present their findings objectively, not as an advocate for either party.', 'true_false', '["True","False"]'::jsonb, 'True', 'The surveyor''s credibility depends on objectivity. An expert witness must present professional opinions based on evidence and accepted methodology, regardless of which party retained them. Advocacy destroys credibility and violates professional ethics.', 'easy', 'acc00004-0000-0000-0000-000000000004', 'acc04b16-0000-0000-0000-000000000001', 'ACC-2343-FINAL', ARRAY['acc-srvy-2343','final','expert-witness']);


-- ############################################################################
-- SRVY 2344 — Surveying Legal Principles II
-- ############################################################################

-- ============================================================================
-- SECTION 1: MODULE DEFINITION (order_index 35)
-- ============================================================================

INSERT INTO learning_modules (id, title, description, difficulty, estimated_hours, order_index, status, tags, xp_reward, created_at, updated_at)
VALUES
  ('acc00007-0000-0000-0000-000000000007',
   'ACC SRVY 2344 — Surveying Legal Principles II',
   'Austin Community College SRVY 2344 (3 SCH). Continuation of SRVY 2343 with advanced study of boundary law and the surveyor''s role in complex boundary problems. Topics include advanced deed analysis with multiple conveyances, simultaneous and sequential conveyance conflicts, complex riparian and littoral boundary issues including the Red River boundary and tidal boundaries, mineral rights and the severed estate in Texas, eminent domain and condemnation survey procedures, subdivision platting law and municipal regulations, the ALTA/NSPS Land Title Survey in depth (Table A items, certification, exceptions), Texas Administrative Code Title 22 Part 29 (TBPELS rules for surveyors), advanced Texas case law analysis, writing professional boundary opinions and expert reports, and comprehensive SIT/RPLS exam preparation for the legal principles sections. Prerequisite: SRVY 2343. Textbooks: Evidence and Procedures for Boundary Location by Brown/Robillard/Wilson; Clark on Surveying and Boundaries (selected chapters).',
   'advanced', 48.0, 35, 'published',
   ARRAY['acc','srvy-2344','legal-principles-2','advanced-boundary-law','mineral-rights','ALTA','college-course','semester'],
   500, now(), now())

ON CONFLICT (id) DO UPDATE SET
  title           = EXCLUDED.title,
  description     = EXCLUDED.description,
  difficulty      = EXCLUDED.difficulty,
  estimated_hours = EXCLUDED.estimated_hours,
  order_index     = EXCLUDED.order_index,
  status          = EXCLUDED.status,
  tags            = EXCLUDED.tags,
  xp_reward       = EXCLUDED.xp_reward,
  updated_at      = now();


-- ============================================================================
-- SECTION 2: LESSONS (16 weeks)
-- ============================================================================

DELETE FROM learning_lessons WHERE module_id = 'acc00007-0000-0000-0000-000000000007';
INSERT INTO learning_lessons (id, module_id, title, content, key_takeaways, order_index, estimated_minutes, resources, videos, tags, status)
VALUES
  -- Week 1
  ('acc07b01-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 1: Review of Legal Principles I and Advanced Deed Analysis',
   'Comprehensive review of SRVY 2343 fundamentals: property law, estates, deed construction, legal descriptions, Texas land system, priority of calls, and boundary evidence. Introduction to advanced deed analysis: interpreting complex deed language, identifying ambiguities that require legal analysis, and understanding the limits of the surveyor''s authority in deed interpretation. Multi-generation deed chains: tracing title from the original patent through successive conveyances. Identifying breaks in the chain of title. The role of title abstracts and title insurance in the surveyor''s research. Understanding legal opinions vs surveyor''s opinions — what the surveyor can and cannot determine.',
   ARRAY['Review all key concepts from SRVY 2343','Analyze complex deed language and identify ambiguities','Trace a chain of title from patent to present owner','Distinguish between legal opinions and surveyor opinions','Understand the role of title research in boundary surveys'],
   1, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-1','review','deed-analysis','chain-of-title'], 'published'),

  -- Week 2
  ('acc07b02-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 2: Simultaneous and Sequential Conveyances',
   'Complex conveyance scenarios: when a grantor divides a tract into multiple parcels. Simultaneous conveyances: all parcels conveyed at the same time — no seniority among grantees, boundaries interpreted to be consistent with each other. Sequential conveyances: parcels conveyed at different times — senior/junior rights apply. The "first deed out" rule and its implications. Excess and deficiency: when the total area of all conveyances exceeds or falls short of the parent tract. Rules for distributing excess or deficiency: proportional to area, proportional to frontage, or by intent. Strips and gores between sequential conveyances — who gets the leftover land? The doctrine of after-acquired title (estoppel by deed): if a grantor conveys land they don''t own, and later acquires it, the title automatically passes to the grantee.',
   ARRAY['Distinguish between simultaneous and sequential conveyances','Apply senior/junior rights to sequential conveyances','Distribute excess and deficiency among multiple grantees','Resolve strip and gore issues between conveyances','Explain the doctrine of after-acquired title'],
   2, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-2','simultaneous','sequential','excess-deficiency','after-acquired-title'], 'published'),

  -- Week 3
  ('acc07b03-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 3: Advanced Boundary Conflict Resolution',
   'Resolving complex boundary conflicts that involve multiple types of evidence. Conflicting monuments: when two monuments that should mark the same corner are found in different positions. Conflicting deeds: when adjacent deeds describe overlapping or gapped boundaries from different grantors (not a common grantor). Unwritten rights that affect boundaries: practical location (long acquiescence), boundary by agreement (parol agreement), boundary by estoppel, and boundary by adverse possession. How unwritten rights interact with record boundaries. The surveyor''s duty when encountering conflicting evidence: document everything, apply the priority of calls, note discrepancies, and advise the client to seek legal counsel when title questions arise. Case studies in boundary conflict resolution.',
   ARRAY['Resolve conflicts between multiple found monuments','Handle boundary conflicts from different grantor chains','Identify unwritten rights that may affect boundaries','Document conflicting evidence properly in survey reports','Know when to advise clients to seek legal counsel'],
   3, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-3','boundary-conflicts','unwritten-rights','practical-location','estoppel'], 'published'),

  -- Week 4
  ('acc07b04-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 4: Complex Riparian and Littoral Boundaries',
   'Advanced water boundary issues in Texas. The Red River boundary: the historic dispute between Texas and Oklahoma, the medial line, and the vegetation line doctrine. Tidal boundaries: the mean higher high water (MHHW) line for coastal properties, Texas Open Beaches Act, and public trust doctrine. The gradient boundary in detail: how to establish the gradient of flowing water, field methods for locating the gradient boundary, and the Motl v. Boyd decision. Islands and accretions: when islands form in navigable streams, ownership rules. Oxbow lakes and abandoned channels: when a river changes course (avulsion) and the old channel becomes the boundary. Practical field procedures for riparian surveys: locating the gradient boundary, mapping meander lines, and documenting water boundary evidence. Working with hydrologists and water rights attorneys.',
   ARRAY['Explain the Red River boundary doctrine between Texas and Oklahoma','Describe tidal boundaries and the mean higher high water line','Apply the gradient boundary method from Motl v. Boyd','Determine ownership of islands and accretions','Conduct field procedures for riparian boundary surveys'],
   4, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-4','riparian-advanced','Red-River','tidal','gradient-boundary','Motl-v-Boyd'], 'published'),

  -- Week 5
  ('acc07b05-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 5: Mineral Rights and the Severed Estate',
   'Mineral rights in Texas: the concept of the severed estate — surface rights and mineral rights can be owned by different parties. How mineral severance occurs: reservation in a deed (e.g., "reserving all oil, gas, and other minerals"). The dominant estate doctrine: mineral rights are dominant over surface rights in Texas, meaning the mineral owner has the right to use the surface as reasonably necessary for extraction. Mineral leases, royalty interests, and working interests. The surveyor''s role in mineral surveys: locating well sites, pipeline easements, and mineral lease boundaries. Pooling and unitization. The Railroad Commission of Texas (RRC) and its jurisdiction over oil and gas operations. Horizontal drilling and its impact on surface use. Practical considerations: when a surface owner commissions a boundary survey on land with severed minerals.',
   ARRAY['Explain the severed estate concept for mineral rights in Texas','Describe the dominant estate doctrine and its implications','Identify the surveyor''s role in mineral-related surveys','Understand mineral leases, royalties, and working interests','Describe the Railroad Commission''s role in oil and gas regulation'],
   5, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-5','mineral-rights','severed-estate','dominant-estate','RRC'], 'published'),

  -- Week 6
  ('acc07b06-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 6: Eminent Domain and Condemnation Surveys',
   'Eminent domain: the government''s power to take private property for public use with just compensation (Fifth Amendment, Texas Constitution Art. I, §17). The condemnation process in Texas: negotiation, special commissioners hearing, and judicial proceedings. The surveyor''s role in condemnation: preparing the taking map, metes and bounds description of the taking area, calculating areas (fee taking, permanent easement, temporary easement), and identifying improvements and features within the taking area. Remainder parcels and damages: the effect of the taking on the remaining property. Types of takings: fee simple (full ownership transfer), permanent easement (ongoing use right), temporary construction easement. Inverse condemnation: when the government effectively takes property without formal proceedings. TxDOT condemnation survey requirements and standards. Preparing exhibit maps and legal descriptions for condemnation proceedings.',
   ARRAY['Explain the constitutional basis for eminent domain','Describe the condemnation process in Texas','Prepare taking maps with areas and descriptions','Distinguish between fee takings, permanent easements, and temporary easements','Understand inverse condemnation and regulatory takings'],
   6, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-6','eminent-domain','condemnation','taking-map','TxDOT'], 'published'),

  -- Week 7
  ('acc07b07-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 7: Subdivision Platting Law and Municipal Regulations',
   'Subdivision law in Texas: Texas Local Government Code Chapter 212 (municipal subdivision regulation) and Chapter 232 (county subdivision regulation). The platting process: preliminary plat, construction plans, final plat, recording. Municipal subdivision ordinances: lot size requirements, setbacks, utility easements, drainage easements, street dedication, and public improvement requirements. Extraterritorial jurisdiction (ETJ): the area outside city limits where the city can regulate subdivision. County authority: counties have limited platting authority for tracts under 10 acres outside city limits and ETJ. Creating subdivision plats: required elements (title, surveyor''s certificate, owner''s dedication, dimensions, bearings, curve data, easements, flood zones, scale, north arrow). Amending plats: replats, vacating plats, and plat corrections. Common platting mistakes and how to avoid them.',
   ARRAY['Describe Texas subdivision law under LGC Chapters 212 and 232','Explain the platting process from preliminary to recording','Identify required elements of a subdivision plat','Understand ETJ and county subdivision authority','Prepare a subdivision plat meeting municipal requirements'],
   7, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-7','subdivision','platting','municipal','ETJ','LGC-212'], 'published'),

  -- Week 8: MIDTERM EXAM
  ('acc07b08-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 8: Midterm Exam',
   'Midterm examination covering Weeks 1–7: advanced deed analysis, simultaneous and sequential conveyances, complex boundary conflict resolution, advanced riparian and littoral boundaries, mineral rights and the severed estate, eminent domain and condemnation surveys, and subdivision platting law. Expect scenario-based questions requiring analysis of complex boundary situations, deed interpretation problems, and questions on Texas-specific legal provisions.',
   ARRAY['Review all concepts from Weeks 1-7','Practice complex deed interpretation scenarios','Review mineral rights and eminent domain procedures','Study subdivision platting requirements','Focus on Texas-specific legal provisions'],
   8, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-8','midterm','exam'], 'published'),

  -- Week 9
  ('acc07b09-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 9: ALTA/NSPS Land Title Surveys — Standards and Requirements',
   'The ALTA/NSPS Land Title Survey: the most comprehensive boundary survey standard in the United States, jointly published by the American Land Title Association and the National Society of Professional Surveyors. Purpose: to provide title insurance companies and lenders with reliable boundary and survey information. The 2021 Minimum Standard Detail Requirements: scope, accuracy standards (relative positional precision of 2 cm + 50 ppm at the 95% confidence level), fieldwork requirements, and deliverables. The survey plat/map: required elements (boundaries with dimensions, area, improvements, easements, rights-of-way, encroachments, evidence of utilities, access, flood zone classification). The surveyor''s certification: standard language, what it certifies, and liability implications. When ALTA surveys are required: commercial real estate transactions, refinancing, and institutional lending.',
   ARRAY['Describe the purpose and scope of ALTA/NSPS surveys','State the accuracy requirement (2 cm + 50 ppm at 95%)','Identify required elements on an ALTA survey plat','Understand the surveyor''s certification and its implications','Explain when ALTA surveys are required in commercial transactions'],
   9, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-9','ALTA','NSPS','land-title-survey','certification','accuracy'], 'published'),

  -- Week 10
  ('acc07b10-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 10: ALTA/NSPS Table A Optional Items',
   'Table A of the ALTA/NSPS standards: 20 optional survey responsibilities that can be negotiated between the client and surveyor. Detailed study of each Table A item: Item 1 (monuments placed or to be placed), Item 2 (address of surveyed property), Item 3 (flood zone classification with FEMA map info), Item 4 (gross land area), Items 5a-5b (zoning classification and building setback lines), Item 6 (exterior dimensions of buildings and observable evidence of use), Items 7a-7c (visible utilities — above/below ground, and observed evidence), Item 8 (wetland delineation — requires specialist), Items 9-10 (parking and traffic access), Item 11 (location of utilities from record documents), Items 13-14 (building setback and height restrictions from documents), Item 16 (evidence of earth-moving or building construction), Item 17 (proposed improvements or recorded easements with furnished plans), Item 18 (vertical relief — spot elevations or contours), Item 19 (professional liability insurance), Item 20 (plat or map on previous ALTA standard). Fee implications of Table A items.',
   ARRAY['Describe each Table A optional item and its survey implications','Advise clients on which Table A items are appropriate for their transaction','Understand the additional fieldwork required for each item','Price Table A items appropriately','Coordinate with zoning and environmental specialists when needed'],
   10, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-10','ALTA','Table-A','optional-items','zoning','utilities'], 'published'),

  -- Week 11
  ('acc07b11-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 11: Texas Administrative Code — TBPELS Rules for Surveyors',
   'Texas Administrative Code Title 22, Part 29: the detailed rules governing professional land surveying in Texas. Board organization and procedures (Chapter 1071, Texas Occupations Code). Licensing requirements: SIT qualifications (education and experience), RPLS qualifications (additional experience, exam passage). Continuing education requirements for license renewal. Rules of Professional Conduct: competence, integrity, conflicts of interest, supervision of subordinates, and seal requirements. Minimum standards for surveys: Category 1A (boundary survey), Category 1B (boundary with improvements), Category 2 (topographic), Category 3 (control), Category 4 (construction), Category 5 (geodetic). Plat and description requirements under the rules. Disciplinary process: complaints, investigations, hearings, and sanctions. Recent rule changes and proposed amendments. Comparison with other states'' licensing requirements.',
   ARRAY['Navigate the Texas Administrative Code provisions for surveyors','Identify SIT and RPLS licensing requirements','Describe the TBPELS Rules of Professional Conduct','Apply Texas minimum standards to different survey categories','Understand the disciplinary process for professional misconduct'],
   11, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-11','TAC','TBPELS','licensing','minimum-standards','rules-of-conduct'], 'published'),

  -- Week 12
  ('acc07b12-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 12: Advanced Texas Case Law Analysis',
   'In-depth study of landmark Texas boundary law cases. Stafford v. King (1945): the footsteps doctrine — the retracing surveyor must follow the original surveyor''s work. State v. Balli (1933): interpreting Spanish and Mexican land grants, the role of the General Land Office. Motl v. Boyd (1926): establishing the gradient boundary method for non-navigable streams in Texas. Oklahoma v. Texas (1926): the Red River boundary, the medial line. Kirby Lumber Co. v. Temple Lumber Co.: timber boundaries and the standing timber rule. Myrad Properties v. LaSalle Bank (2009): survey liability and the scope of the surveyor''s duty. Recent Texas appellate decisions affecting surveying practice. How to research and analyze case law using legal databases. Applying case law principles to practical boundary problems.',
   ARRAY['Analyze landmark Texas boundary cases and state their holdings','Apply the Stafford v. King footsteps doctrine to retracement problems','Understand the Motl v. Boyd gradient boundary ruling','Research Texas case law relevant to surveying','Apply case law principles to practical boundary scenarios'],
   12, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-12','case-law','Stafford-v-King','Motl-v-Boyd','State-v-Balli'], 'published'),

  -- Week 13
  ('acc07b13-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 13: Writing Boundary Opinions and Expert Reports',
   'The professional boundary opinion: when and why surveyors write them. Elements of a boundary opinion letter: statement of purpose, scope of work, documents reviewed, field investigation summary, analysis of evidence, conclusions, and caveats/limitations. Writing clear, defensible analysis: supporting each conclusion with evidence and legal authority. Organizing complex boundary problems for presentation. Preparing survey exhibits for litigation: clear graphics, proper labeling, scale considerations, and color coding. The boundary opinion as a professional document: tone, objectivity, and precision of language. Peer review of boundary opinions. Common mistakes in boundary opinions and how to avoid them. The difference between a boundary opinion and a legal opinion — staying within the surveyor''s scope of practice.',
   ARRAY['Write a professional boundary opinion letter','Organize complex boundary analysis for clear presentation','Prepare survey exhibits suitable for litigation','Maintain objectivity and precision in professional writing','Distinguish between surveyor opinions and legal opinions'],
   13, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-13','boundary-opinion','expert-report','litigation','exhibits'], 'published'),

  -- Week 14
  ('acc07b14-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 14: SIT/RPLS Exam Preparation — Legal Principles',
   'Comprehensive preparation for the legal principles portions of the SIT and RPLS examinations. Exam format and structure: multiple choice, scenario-based problems, and computation questions. Key topic areas: property law fundamentals, deed interpretation, legal descriptions (all three types), Texas land history, priority of calls, boundary evidence, retracement principles, water boundaries, adverse possession, easements, eminent domain, subdivision law, ALTA/NSPS standards, and professional ethics. Practice exam questions with detailed explanations. Time management strategies for the exam. Common traps and misleading answer choices. Study resources: recommended textbooks, online resources, and study groups. Texas-specific topics that are heavily tested. Registration procedures and exam logistics.',
   ARRAY['Identify key legal principles topics tested on SIT/RPLS exams','Practice exam-style questions with time constraints','Recognize common exam traps and misleading answers','Develop effective study strategies for the licensing exams','Review Texas-specific legal principles that are heavily tested'],
   14, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-14','SIT','RPLS','exam-prep','licensing','study-strategies'], 'published'),

  -- Week 15
  ('acc07b15-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 15: Comprehensive Review and Integration',
   'Integration of all legal principles topics from both SRVY 2343 and SRVY 2344. Complex scenario problems requiring application of multiple legal principles simultaneously. Mock boundary disputes: students analyze a complete boundary problem from deed research through field investigation to written opinion. Review of all Texas-specific topics: the land grant system, community property, homestead, the vara, the GLO, the gradient boundary, mineral rights, TBPELS rules, and condemnation procedures. Final exam preparation: comprehensive practice problems, formula review, and concept summaries. Career guidance: the path from student to SIT to RPLS, continuing education, and specialization opportunities in boundary law, construction, geodesy, and GIS.',
   ARRAY['Integrate legal principles from both SRVY 2343 and 2344','Analyze complex scenarios requiring multiple legal concepts','Complete a mock boundary dispute from research to opinion','Review all Texas-specific legal topics comprehensively','Prepare for the comprehensive final examination'],
   15, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-15','review','integration','mock-dispute','comprehensive'], 'published'),

  -- Week 16: FINAL EXAM
  ('acc07b16-0000-0000-0000-000000000001', 'acc00007-0000-0000-0000-000000000007',
   'Week 16: Final Exam',
   'Comprehensive final examination covering all material from Weeks 1–15 of SRVY 2344, with integration of SRVY 2343 fundamentals. Topics include: advanced deed analysis, simultaneous/sequential conveyances, complex boundary conflicts, riparian/littoral complexities, mineral rights, eminent domain, subdivision platting, ALTA/NSPS standards and Table A items, TBPELS rules and minimum standards, Texas case law, and boundary opinion writing. Scenario-based questions requiring multi-step analysis of complex boundary problems.',
   ARRAY['Review all course concepts from both legal principles courses','Practice complex scenario-based analysis problems','Review ALTA/NSPS standards and Table A items','Study TBPELS rules and minimum standards categories','Focus on weak areas identified during the semester'],
   16, 180, '[]'::jsonb, '[]'::jsonb,
   ARRAY['acc','srvy-2344','week-16','final','exam'], 'published');


-- ============================================================================
-- SECTION 3: QUESTION BANK — Weeks 1-7 (Quiz + Homework)
-- ============================================================================

DELETE FROM question_bank WHERE tags @> ARRAY['acc-srvy-2344'];

-- Week 1 Quiz & Homework
INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('A chain of title traces ownership from:', 'multiple_choice', '["The current owner backward to the original patent","The original patent forward to the current owner","The county clerk to the surveyor","The buyer to the seller only"]'::jsonb, 'The original patent forward to the current owner', 'A chain of title traces the complete history of ownership from the sovereign''s original patent through every subsequent conveyance to the current owner. Each link must be unbroken for clear title.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','quiz','chain-of-title']),
('A title abstract is:', 'multiple_choice', '["A summary of all recorded documents affecting a parcel''s title","A survey plat","A type of deed","A court order"]'::jsonb, 'A summary of all recorded documents affecting a parcel''s title', 'A title abstract is a chronological summary of all recorded instruments (deeds, mortgages, liens, easements, judgments) that affect title to a parcel. Surveyors use abstracts to research the deed history before conducting boundary surveys.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','quiz','title-abstract']),
('The surveyor can determine who legally owns a disputed strip of land.', 'true_false', '["True","False"]'::jsonb, 'False', 'Only a court can determine legal ownership. The surveyor locates boundaries based on evidence and the priority of calls, but cannot adjudicate title disputes, adverse possession claims, or other ownership questions.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','quiz','surveyor-limitations']),
('When analyzing a deed, the surveyor should read the entire deed, not just the legal description.', 'true_false', '["True","False"]'::jsonb, 'True', 'The entire deed may contain important information: exceptions, reservations, easements, conditions, and references to other documents. Reading only the legal description can cause the surveyor to miss critical boundary-affecting provisions.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','quiz','deed-analysis']),
('A break in the chain of title means:', 'multiple_choice', '["The deed is too old to read","There is a gap in the recorded conveyance history","The property was surveyed incorrectly","The grantor used a quitclaim deed"]'::jsonb, 'There is a gap in the recorded conveyance history', 'A break means there is a missing link — a period where no recorded instrument accounts for the transfer of title. This creates a title defect that may require a quiet title action or other legal remedy to cure.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','quiz','title-break']),
('What documents should a surveyor review before conducting a boundary survey? List at least five types.', 'essay', '[]'::jsonb, 'Deeds, plats, prior surveys, title abstract/commitment, easements, county records, GLO records, aerial photos', 'A thorough boundary surveyor reviews: (1) current deed and all deeds in the chain of title, (2) recorded plats and subdivision maps, (3) prior surveys of the property and adjoining tracts, (4) title abstract or title commitment from the title company, (5) easement documents (utility, access, drainage), (6) county clerk records, (7) GLO field notes and maps for original grants, (8) aerial photographs for occupation evidence, and (9) any court orders or boundary agreements affecting the property.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','homework','research-documents']),
('Explain the difference between a surveyor''s opinion and a legal opinion regarding boundary location.', 'essay', '[]'::jsonb, 'Surveyor''s opinion: professional judgment on boundary location based on physical evidence and survey methods. Legal opinion: attorney''s judgment on title and ownership rights.', 'A surveyor''s opinion addresses where boundaries are located on the ground based on physical evidence, monuments, measurements, and the priority of calls. A legal opinion addresses questions of title, ownership, and legal rights — who owns the land. Surveyors must not render legal opinions (that constitutes unauthorized practice of law). When title or ownership questions arise, the surveyor should advise the client to consult an attorney.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','homework','opinion-types']),
('Why is it important to review adjoining property deeds, not just the subject property deed?', 'short_answer', '[]'::jsonb, 'Adjoining deeds may contain calls to the subject property, different descriptions of shared boundaries, or senior rights that affect the subject boundary.', 'Adjoining deeds are essential because: (1) they may call for the subject property as an adjoiner, establishing the boundary by reference, (2) they may contain a different description of the shared boundary that creates a conflict, (3) they may be senior, giving the adjoiner superior rights, and (4) they may contain easements or restrictions that cross onto the subject property.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b01-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-1','homework','adjoining-deeds']),

-- Week 2 Quiz & Homework
('In simultaneous conveyances from a common grantor, which grantee has seniority?', 'multiple_choice', '["The first grantee named","The grantee with the larger parcel","Neither — there is no seniority","The grantee who records first"]'::jsonb, 'Neither — there is no seniority', 'In truly simultaneous conveyances, no grantee has seniority over another. All parcels are interpreted together to be consistent. Any excess or deficiency is shared proportionally rather than being absorbed entirely by the junior grantee.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b02-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-2','quiz','simultaneous']),
('When a grantor conveys more land than they own, the excess is distributed:', 'multiple_choice', '["To the first grantee only","Proportionally among all grantees","To the last grantee only","To the government"]'::jsonb, 'Proportionally among all grantees', 'When the total area of all conveyances exceeds the parent tract, the deficiency is typically distributed proportionally among all grantees (for simultaneous conveyances) or absorbed by the junior grantee (for sequential conveyances).', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b02-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-2','quiz','excess-deficiency']),
('The doctrine of after-acquired title means:', 'multiple_choice', '["A grantee acquires title after the statute of limitations expires","If a grantor conveys land they don''t own and later acquires it, title automatically passes to the grantee","Title can be acquired after death","The government acquires title after condemnation"]'::jsonb, 'If a grantor conveys land they don''t own and later acquires it, title automatically passes to the grantee', 'Estoppel by deed (after-acquired title): if a grantor purports to convey title they don''t own by warranty deed, and later acquires that title, it automatically passes to the original grantee. The grantor is estopped from denying the earlier conveyance.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b02-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-2','quiz','after-acquired-title']),
('In sequential conveyances, the junior grantee absorbs any deficiency.', 'true_false', '["True","False"]'::jsonb, 'True', 'In sequential conveyances, the senior grantee (first out) gets the full benefit of their deed description. Any overlap or deficiency is borne by the junior grantee because the grantor had already conveyed those rights.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b02-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-2','quiz','junior-absorbs']),
('A strip of unconveyed land between two sequential conveyances is called a:', 'multiple_choice', '["Buffer zone","Strip or gore","Easement","Right-of-way"]'::jsonb, 'Strip or gore', 'A strip or gore is a narrow parcel of land inadvertently left unconveyed between two adjacent tracts. It typically belongs to the original grantor or their heirs. Courts may apply the doctrine of de minimis or other equitable principles to resolve gore disputes.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b02-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-2','quiz','strip-gore']),

-- Week 3 Quiz & Homework
('Practical location (acquiescence) differs from adverse possession because practical location:', 'multiple_choice', '["Requires a shorter time period","Is based on mutual agreement rather than hostility","Requires payment of taxes","Only applies to government land"]'::jsonb, 'Is based on mutual agreement rather than hostility', 'Practical location (acquiescence) is based on mutual recognition and acceptance of a boundary line by adjacent landowners over a long period. It is cooperative, not hostile. Adverse possession is a unilateral hostile taking of possession.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b03-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-3','quiz','practical-location']),
('When two monuments marking the same corner are found in different positions, the surveyor should:', 'multiple_choice', '["Average the two positions","Choose the one closest to the record distance","Investigate to determine which was set by the original surveyor","Ignore both and use the deed description"]'::jsonb, 'Investigate to determine which was set by the original surveyor', 'The surveyor must investigate: examine monument characteristics (type, age, condition), check accessories and reference ties, review prior surveys, and determine which monument was set by or relates to the original survey. The original monument controls.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b03-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-3','quiz','conflicting-monuments']),
('Boundary by estoppel occurs when a landowner''s conduct prevents them from asserting their true boundary.', 'true_false', '["True","False"]'::jsonb, 'True', 'Estoppel applies when a landowner''s actions or representations cause a neighbor to reasonably rely on a particular boundary line to their detriment. The landowner is then "estopped" (prevented) from claiming the true boundary.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b03-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-3','quiz','estoppel']),

-- Week 4 Quiz & Homework
('The gradient boundary method in Texas was established by which case?', 'multiple_choice', '["Stafford v. King","Motl v. Boyd","Oklahoma v. Texas","State v. Balli"]'::jsonb, 'Motl v. Boyd', 'Motl v. Boyd (1926) established the gradient boundary as the method for determining the boundary of non-navigable streams in Texas. The gradient is the line of the flowing water''s surface at intermediate stage.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b04-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-4','quiz','gradient-boundary']),
('Under the Texas Open Beaches Act, beaches on the Gulf Coast are:', 'multiple_choice', '["All privately owned","Subject to public easement for access and use","Owned by the federal government","Only accessible by permit"]'::jsonb, 'Subject to public easement for access and use', 'The Texas Open Beaches Act provides public access to Gulf Coast beaches from the mean low tide line to the vegetation line. The public has a free and unrestricted right to use this area.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b04-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-4','quiz','open-beaches']),
('An island that forms in a navigable Texas stream is owned by:', 'multiple_choice', '["The adjacent riparian owner","The State of Texas","The federal government","The first person to claim it"]'::jsonb, 'The State of Texas', 'In Texas, the state owns the beds of navigable streams. An island forming in a navigable stream is part of the streambed and belongs to the state. For non-navigable streams, the island belongs to the riparian owner(s).', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b04-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-4','quiz','island-ownership']),

-- Week 5 Quiz & Homework
('In Texas, mineral rights are considered the _____ estate.', 'multiple_choice', '["Servient","Subordinate","Dominant","Surface"]'::jsonb, 'Dominant', 'In Texas, the mineral estate is dominant over the surface estate. This means the mineral owner has the right to use as much of the surface as is reasonably necessary to explore, develop, and produce the minerals, even without the surface owner''s consent.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b05-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-5','quiz','dominant-estate']),
('Mineral rights in Texas can be severed from surface rights.', 'true_false', '["True","False"]'::jsonb, 'True', 'Mineral rights can be reserved or excepted in a deed, creating a "severed estate" where the surface and minerals are owned by different parties. This is extremely common in Texas due to its extensive oil and gas history.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b05-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-5','quiz','severance']),
('The Railroad Commission of Texas regulates:', 'multiple_choice', '["Railroads only","Oil, gas, and mining operations","Land surveying","Real estate transactions"]'::jsonb, 'Oil, gas, and mining operations', 'Despite its name, the Railroad Commission of Texas (RRC) primarily regulates oil, gas, natural gas utilities, pipeline safety, coal and uranium mining, and LP-gas. It no longer regulates railroads.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b05-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-5','quiz','RRC']),

-- Week 6 Quiz & Homework
('Eminent domain requires _____ for the taking of private property.', 'multiple_choice', '["The owner''s consent","Just compensation","A unanimous vote","Court approval in all cases"]'::jsonb, 'Just compensation', 'The Fifth Amendment (and Texas Constitution Art. I, §17) requires that private property taken for public use must be accompanied by adequate or just compensation. The owner''s consent is not required.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b06-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-6','quiz','just-compensation']),
('A taking map prepared by the surveyor must include a metes and bounds description of the taking area.', 'true_false', '["True","False"]'::jsonb, 'True', 'The taking map includes a metes and bounds description defining the exact area being acquired, the area in square feet or acres, and the relationship to the parent tract. This description becomes part of the legal condemnation documents.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b06-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-6','quiz','taking-map']),
('Inverse condemnation occurs when:', 'multiple_choice', '["The government takes property without formal proceedings","The property owner condemns the government","The property is returned to the owner","The condemnation is reversed on appeal"]'::jsonb, 'The government takes property without formal proceedings', 'Inverse condemnation is a claim by a property owner that the government has effectively taken their property (through regulation, flooding, or other action) without formal condemnation proceedings and without paying just compensation.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b06-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-6','quiz','inverse-condemnation']),

-- Week 7 Quiz & Homework
('In Texas, subdivision platting within a city''s ETJ is regulated by:', 'multiple_choice', '["The county only","The city","The state legislature directly","No one — there is no regulation in the ETJ"]'::jsonb, 'The city', 'Under Texas LGC Chapter 212, cities can regulate subdivision platting within their ETJ (extraterritorial jurisdiction). The ETJ extends from 0.5 to 5 miles beyond city limits depending on city population.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b07-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-7','quiz','ETJ']),
('A subdivision plat must include the surveyor''s certificate and the owner''s dedication.', 'true_false', '["True","False"]'::jsonb, 'True', 'A properly recorded subdivision plat requires: the surveyor''s certificate (certifying the accuracy of the survey), the owner''s dedication (dedicating streets, easements, and public areas), and typically acknowledgment and approval stamps from the applicable jurisdictions.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b07-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-7','quiz','plat-requirements']),
('Texas counties can regulate subdivision of tracts under _____ acres outside city limits and ETJ.', 'numeric_input', '[]'::jsonb, '10', 'Under LGC Chapter 232, Texas counties can require platting for subdivisions of tracts under 10 acres outside city limits and ETJ. Tracts of 10 acres or more are generally exempt from county subdivision regulation.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b07-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-7','quiz','county-authority']);


-- ============================================================================
-- SECTION 4: MIDTERM EXAM (15 questions)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('In simultaneous conveyances, no grantee has seniority.', 'true_false', '["True","False"]'::jsonb, 'True', 'Simultaneous conveyances have no seniority — all parcels are interpreted consistently.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','simultaneous']),
('The junior grantee absorbs excess/deficiency in sequential conveyances.', 'true_false', '["True","False"]'::jsonb, 'True', 'The senior grantee gets full benefit; any shortage falls on the junior.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','sequential']),
('Boundary by estoppel requires the landowner''s conduct to have caused detrimental reliance.', 'true_false', '["True","False"]'::jsonb, 'True', 'Estoppel requires: (1) conduct by the landowner, (2) reasonable reliance by the neighbor, and (3) detriment to the neighbor.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','estoppel']),
('The gradient boundary applies to:', 'multiple_choice', '["Navigable streams only","Non-navigable streams in Texas","Lakes only","Ocean coastline"]'::jsonb, 'Non-navigable streams in Texas', 'Motl v. Boyd established the gradient boundary for non-navigable streams.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','gradient']),
('Mineral rights in Texas are the dominant estate.', 'true_false', '["True","False"]'::jsonb, 'True', 'The mineral estate is dominant over the surface estate in Texas.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','mineral-rights']),
('The Railroad Commission of Texas regulates oil and gas operations.', 'true_false', '["True","False"]'::jsonb, 'True', 'The RRC regulates oil, gas, pipelines, and mining in Texas.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','RRC']),
('Eminent domain requires:', 'multiple_choice', '["Owner consent","Just compensation","Legislative approval for each taking","A jury trial in all cases"]'::jsonb, 'Just compensation', 'Just compensation is constitutionally required for eminent domain takings.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','eminent-domain']),
('Inverse condemnation is initiated by the:', 'multiple_choice', '["Government","Property owner","Surveyor","Title company"]'::jsonb, 'Property owner', 'Inverse condemnation is a claim by the property owner that the government has effectively taken their property.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','inverse-condemnation']),
('A subdivision plat must include a surveyor''s certificate.', 'true_false', '["True","False"]'::jsonb, 'True', 'The surveyor certifies the accuracy of the boundaries, dimensions, and areas shown on the plat.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','plat']),
('Cities can regulate subdivision within their ETJ.', 'true_false', '["True","False"]'::jsonb, 'True', 'Texas LGC Chapter 212 grants cities platting authority within their ETJ.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','ETJ']),
('The Texas Open Beaches Act provides public access to Gulf beaches.', 'true_false', '["True","False"]'::jsonb, 'True', 'The Act provides public access from the mean low tide line to the vegetation line.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','open-beaches']),
('A strip or gore belongs to:', 'multiple_choice', '["The adjacent owners equally","The original grantor or their heirs","The state","Whoever finds it first"]'::jsonb, 'The original grantor or their heirs', 'Unconveyed strips remain with the original grantor (or successors) since they were never conveyed out.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','strip-gore']),
('The doctrine of after-acquired title applies when a grantor later acquires title they previously purported to convey.', 'true_false', '["True","False"]'::jsonb, 'True', 'When a grantor conveys by warranty deed and later acquires the title, it passes to the grantee automatically.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','after-acquired']),
('Only a court can adjudicate title disputes.', 'true_false', '["True","False"]'::jsonb, 'True', 'Surveyors locate boundaries but cannot determine ownership or title rights.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','court-authority']),
('Counties can require platting for tracts under 10 acres outside city limits and ETJ.', 'true_false', '["True","False"]'::jsonb, 'True', 'LGC Chapter 232 gives counties limited subdivision authority for tracts under 10 acres.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b08-0000-0000-0000-000000000001', 'ACC-2344-MIDTERM', ARRAY['acc-srvy-2344','midterm','county-platting']);


-- ============================================================================
-- SECTION 5: QUESTION BANK — Weeks 9-14
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
-- Week 9
('The ALTA/NSPS accuracy requirement is:', 'multiple_choice', '["1 foot","0.1 feet","2 cm + 50 ppm at 95% confidence","1:10,000 relative precision"]'::jsonb, '2 cm + 50 ppm at 95% confidence', 'The ALTA/NSPS standard requires relative positional precision of 2 cm + 50 ppm at the 95% confidence level. For a 100m traverse, that is 2 cm + 0.5 cm = 2.5 cm allowable.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b09-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-9','quiz','ALTA-accuracy']),
('An ALTA/NSPS survey must show evidence of utilities observed in the field.', 'true_false', '["True","False"]'::jsonb, 'True', 'The minimum standard requires the surveyor to show observed evidence of utilities (manholes, utility poles, pedestals, meters, etc.) on the plat. Additional utility items may be selected from Table A.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b09-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-9','quiz','ALTA-utilities']),
('The ALTA/NSPS surveyor''s certification is a legal warranty of accuracy.', 'true_false', '["True","False"]'::jsonb, 'False', 'The certification is a professional statement of what was done and what was found — it is NOT a warranty or guarantee. However, the surveyor can be held liable for negligence if the survey does not meet the stated standards.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b09-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-9','quiz','ALTA-certification']),
('ALTA/NSPS surveys are most commonly required for:', 'multiple_choice', '["Residential home purchases","Commercial real estate transactions","Government surveys","Agricultural sales"]'::jsonb, 'Commercial real estate transactions', 'ALTA/NSPS surveys are primarily required for commercial real estate transactions where title insurance and/or institutional lending are involved. They are rarely required for routine residential purchases.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b09-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-9','quiz','ALTA-purpose']),

-- Week 10
('ALTA Table A Item 1 addresses:', 'multiple_choice', '["Flood zone classification","Monuments placed or to be placed","Zoning information","Parking areas"]'::jsonb, 'Monuments placed or to be placed', 'Table A Item 1 requires the surveyor to place (or report existing) monuments at all major corners of the boundary — an additional requirement beyond the minimum standard.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b10-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-10','quiz','Table-A-1']),
('Table A Item 8 (wetland delineation) requires the surveyor to delineate wetlands.', 'true_false', '["True","False"]'::jsonb, 'False', 'Table A Item 8 requires the surveyor to show wetland boundaries IF delineated by a qualified specialist. The surveyor does not perform the wetland delineation — that requires an environmental scientist or wetland specialist.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b10-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-10','quiz','Table-A-8']),
('Table A Item 19 requires the surveyor to carry professional liability insurance.', 'true_false', '["True","False"]'::jsonb, 'True', 'Item 19 requires the surveyor to carry professional liability (E&O) insurance and provide evidence of coverage. Many commercial clients and lenders require this.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b10-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-10','quiz','Table-A-19']),

-- Week 11
('The SIT examination in Texas requires a minimum of _____ semester hours of qualifying education.', 'multiple_choice', '["16","24","32","48"]'::jsonb, '32', 'Texas requires 32 semester hours of qualifying surveying education to sit for the SIT exam. The coursework must cover specified technical topics including legal principles, surveying methods, and mathematics.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b11-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-11','quiz','SIT-education']),
('A Texas RPLS must complete continuing education to renew their license.', 'true_false', '["True","False"]'::jsonb, 'True', 'Texas RPLSs must complete continuing professional development (CPD) hours during each license renewal period. The requirements are set by TBPELS and include both technical and ethics/rules components.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b11-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-11','quiz','continuing-education']),
('Category 1A under Texas minimum standards refers to:', 'multiple_choice', '["Topographic surveys","Boundary surveys without improvements","Boundary surveys with improvements shown","Construction surveys"]'::jsonb, 'Boundary surveys without improvements', 'Category 1A is a boundary survey that establishes or retraces property boundaries without showing improvements. Category 1B includes improvements. Category 2 = topographic. Category 3 = control.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b11-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-11','quiz','Category-1A']),

-- Week 12
('Stafford v. King established the _____ doctrine.', 'multiple_choice', '["Dominant estate","Gradient boundary","Footsteps","Community property"]'::jsonb, 'Footsteps', 'Stafford v. King (1945) is the landmark Texas case establishing that a retracing surveyor must follow in the footsteps of the original surveyor.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b12-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-12','quiz','Stafford-v-King']),
('State v. Balli dealt with:', 'multiple_choice', '["Water boundaries","Spanish and Mexican land grants","Adverse possession","Mineral rights"]'::jsonb, 'Spanish and Mexican land grants', 'State v. Balli (1933) is a landmark Texas case involving the interpretation of Spanish land grants in the Rio Grande Valley, establishing principles for how these historical grants are interpreted.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b12-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-12','quiz','State-v-Balli']),

-- Week 13
('A boundary opinion letter should include:', 'multiple_choice', '["Only the surveyor''s conclusion","Purpose, scope, documents reviewed, analysis, and conclusions","A legal opinion on ownership","A guarantee of accuracy"]'::jsonb, 'Purpose, scope, documents reviewed, analysis, and conclusions', 'A professional boundary opinion includes: statement of purpose, scope of work, documents reviewed, field investigation summary, analysis of evidence with legal authority, conclusions, and caveats/limitations.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b13-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-13','quiz','boundary-opinion']),
('The surveyor should be an advocate for the client in a boundary opinion.', 'true_false', '["True","False"]'::jsonb, 'False', 'The surveyor must be objective, not an advocate. The boundary opinion must present an unbiased professional analysis based on evidence and legal principles, regardless of which party is paying.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b13-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-13','quiz','objectivity']),

-- Week 14
('The SIT exam tests legal principles heavily.', 'true_false', '["True","False"]'::jsonb, 'True', 'The SIT (and RPLS) examinations in Texas include substantial portions on legal principles, boundary law, deed interpretation, and Texas-specific legal topics.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b14-0000-0000-0000-000000000001', 'ACC-2344', ARRAY['acc-srvy-2344','week-14','quiz','SIT-exam']);


-- ============================================================================
-- SECTION 6: FINAL EXAM (20 questions)
-- ============================================================================

INSERT INTO question_bank (question_text, question_type, options, correct_answer, explanation, difficulty, module_id, lesson_id, exam_category, tags) VALUES
('A chain of title must be unbroken from the original patent to the current owner.', 'true_false', '["True","False"]'::jsonb, 'True', 'Any break in the chain creates a title defect.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','chain-of-title']),
('Simultaneous conveyances have no seniority among grantees.', 'true_false', '["True","False"]'::jsonb, 'True', 'All parcels conveyed simultaneously are interpreted consistently with no priority.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','simultaneous']),
('The after-acquired title doctrine applies to:', 'multiple_choice', '["All deeds","Warranty deeds where the grantor later acquires the title","Quitclaim deeds","Government patents"]'::jsonb, 'Warranty deeds where the grantor later acquires the title', 'After-acquired title (estoppel by deed) only applies to warranty deeds, not quitclaim deeds.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','after-acquired']),
('Practical location is based on mutual agreement, not hostility.', 'true_false', '["True","False"]'::jsonb, 'True', 'Practical location (acquiescence) involves cooperative acceptance of a boundary line.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','practical-location']),
('Motl v. Boyd established the _____ boundary method.', 'multiple_choice', '["Meander","Gradient","Tidal","Vegetation"]'::jsonb, 'Gradient', 'Motl v. Boyd established the gradient boundary for non-navigable streams in Texas.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','Motl-v-Boyd']),
('The mineral estate is dominant in Texas.', 'true_false', '["True","False"]'::jsonb, 'True', 'Mineral rights are dominant over surface rights in Texas.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','dominant']),
('Eminent domain requires just compensation.', 'true_false', '["True","False"]'::jsonb, 'True', 'Constitutional requirement under the 5th Amendment and Texas Constitution.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','compensation']),
('A taking map must include:', 'multiple_choice', '["Only the property address","A metes and bounds description of the taking area with acreage","The owner''s signature","An appraisal"]'::jsonb, 'A metes and bounds description of the taking area with acreage', 'The taking map precisely defines what is being acquired with a legal description and area calculation.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','taking-map']),
('Texas LGC Chapter 212 governs:', 'multiple_choice', '["County roads","Municipal subdivision regulation","State highways","Federal lands"]'::jsonb, 'Municipal subdivision regulation', 'LGC 212 gives cities authority to regulate subdivision within city limits and ETJ.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','LGC-212']),
('ALTA accuracy is 2 cm + 50 ppm at 95% confidence.', 'true_false', '["True","False"]'::jsonb, 'True', 'This is the relative positional precision standard for ALTA/NSPS surveys.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','ALTA-accuracy']),
('Table A Item 1 addresses monuments placed at property corners.', 'true_false', '["True","False"]'::jsonb, 'True', 'Item 1 requires the surveyor to place or identify monuments at major corners.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','Table-A']),
('The ALTA surveyor''s certification is a guarantee of accuracy.', 'true_false', '["True","False"]'::jsonb, 'False', 'It is a professional statement, not a warranty or guarantee.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','certification']),
('Category 1A survey under TBPELS is a boundary survey without improvements.', 'true_false', '["True","False"]'::jsonb, 'True', '1A = boundary only. 1B = boundary with improvements.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','Category-1A']),
('Stafford v. King established the footsteps doctrine.', 'true_false', '["True","False"]'::jsonb, 'True', 'The retracing surveyor must follow in the footsteps of the original surveyor.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','Stafford']),
('A boundary opinion must be objective, not advocacy for the client.', 'true_false', '["True","False"]'::jsonb, 'True', 'Professional objectivity is essential for credibility and ethics.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','objectivity']),
('The SIT requires 32 semester hours of qualifying surveying education.', 'true_false', '["True","False"]'::jsonb, 'True', 'Texas requires 32 SCH of qualifying coursework for the SIT exam.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','SIT-education']),
('An island in a navigable Texas stream belongs to the state.', 'true_false', '["True","False"]'::jsonb, 'True', 'The state owns the beds of navigable streams, including islands.', 'medium', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','island']),
('ETJ stands for Extraterritorial Jurisdiction.', 'true_false', '["True","False"]'::jsonb, 'True', 'ETJ is the area outside city limits where the city can regulate subdivision.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','ETJ']),
('Surveyors can adjudicate title disputes between neighbors.', 'true_false', '["True","False"]'::jsonb, 'False', 'Only courts adjudicate title. Surveyors locate boundaries based on evidence.', 'easy', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','limitation']),
('Describe three key differences between SRVY 2343 and SRVY 2344 in terms of the legal topics covered and the level of complexity.', 'essay', '[]'::jsonb, '2343 covers fundamentals (estates, deeds, descriptions, priority of calls). 2344 covers advanced topics (ALTA, mineral rights, condemnation, case law, boundary opinions).', '2343 provides foundational legal principles: property law basics, deed construction, legal descriptions, the Texas land system, priority of calls, basic water boundaries, and adverse possession. 2344 builds on this with advanced applications: complex conveyance scenarios, mineral rights and severed estates, eminent domain procedures, ALTA/NSPS standards in depth, TBPELS administrative rules, Texas case law analysis, and professional boundary opinion writing. 2344 is more analytical and practice-oriented.', 'hard', 'acc00007-0000-0000-0000-000000000007', 'acc07b16-0000-0000-0000-000000000001', 'ACC-2344-FINAL', ARRAY['acc-srvy-2344','final','comparison']);


COMMIT;
