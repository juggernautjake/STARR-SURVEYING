/*==============================================================================
  ADMIN LAYOUT, COMPONENTS & GLOBAL STYLES
  Brand: Red #BD1218, Blue #1D3095, Dark #0F1419
==============================================================================*/

/* === LAYOUT === */
.admin-layout { display:flex; min-height:100vh; background:#F3F4F6; }
.admin-layout__main { flex:1; margin-left:260px; display:flex; flex-direction:column; min-height:100vh; transition:margin-left .3s; }
.admin-layout__content { flex:1; padding:2rem; margin-top:64px; }

/* === SIDEBAR === */
.admin-sidebar { position:fixed; top:0; left:0; width:260px; height:100vh; background:linear-gradient(180deg,#152050,#1D3095); display:flex; flex-direction:column; z-index:50; transition:transform .3s; overflow-y:auto; }
.admin-sidebar__header { padding:1.25rem 1.25rem 1rem; border-bottom:1px solid rgba(255,255,255,.1); display:flex; align-items:center; gap:.75rem; }
.admin-sidebar__logo { width:40px; height:40px; border-radius:8px; object-fit:contain; }
.admin-sidebar__brand { display:flex; flex-direction:column; }
.admin-sidebar__brand-name { font-family:'Sora',sans-serif; font-size:.95rem; font-weight:700; color:#FFF; }
.admin-sidebar__brand-sub { font-family:'Inter',sans-serif; font-size:.65rem; color:rgba(255,255,255,.5); text-transform:uppercase; letter-spacing:.5px; }
.admin-sidebar__nav { flex:1; padding:.75rem 0; }
.admin-sidebar__section { margin-bottom:.25rem; }
.admin-sidebar__section-label { font-family:'Inter',sans-serif; font-size:.65rem; font-weight:600; color:rgba(255,255,255,.4); text-transform:uppercase; letter-spacing:.8px; padding:.75rem 1.25rem .35rem; }
.admin-sidebar__link { display:flex; align-items:center; gap:.75rem; padding:.6rem 1.25rem; font-family:'Inter',sans-serif; font-size:.85rem; font-weight:500; color:rgba(255,255,255,.75); text-decoration:none; transition:all .15s; border-left:3px solid transparent; }
.admin-sidebar__link:hover { background:rgba(255,255,255,.08); color:#FFF; }
.admin-sidebar__link--active { background:rgba(255,255,255,.12); color:#FFF; border-left-color:#BD1218; font-weight:600; }
.admin-sidebar__link-icon { font-size:1.1rem; width:1.5rem; text-align:center; flex-shrink:0; }
.admin-sidebar__footer { padding:1rem 1.25rem; border-top:1px solid rgba(255,255,255,.1); }
.admin-sidebar__user { display:flex; align-items:center; gap:.65rem; }
.admin-sidebar__avatar { width:32px; height:32px; border-radius:50%; border:2px solid rgba(255,255,255,.3); object-fit:cover; }
.admin-sidebar__avatar-placeholder { width:32px; height:32px; border-radius:50%; background:#BD1218; color:#FFF; display:flex; align-items:center; justify-content:center; font-family:'Sora',sans-serif; font-size:.75rem; font-weight:700; flex-shrink:0; }
.admin-sidebar__user-info { flex:1; min-width:0; }
.admin-sidebar__user-name { font-family:'Inter',sans-serif; font-size:.8rem; font-weight:600; color:#FFF; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.admin-sidebar__user-role { font-family:'Inter',sans-serif; font-size:.65rem; color:rgba(255,255,255,.5); text-transform:uppercase; }
.admin-sidebar__header--clickable { cursor:pointer; transition:background .15s; }
.admin-sidebar__header--clickable:hover { background:rgba(255,255,255,.08); }
.admin-sidebar__section-label--collapsible { cursor:pointer; display:flex; align-items:center; gap:.4rem; transition:all .15s; user-select:none; border-radius:4px; margin:0 .5rem; padding:.6rem .75rem .3rem; }
.admin-sidebar__section-label--collapsible:hover { color:rgba(255,255,255,.7); background:rgba(255,255,255,.04); }
.admin-sidebar__section-label--active { color:rgba(255,255,255,.7); background:rgba(255,255,255,.06); }
.admin-sidebar__section-arrow { display:inline-flex; align-items:center; justify-content:center; font-size:1rem; color:rgba(255,255,255,.5); transition:transform .2s; width:1rem; }
.admin-sidebar__section-arrow--expanded { transform:rotate(90deg); }

/* === TOP BAR === */
.admin-topbar { position:fixed; top:0; left:260px; right:0; height:64px; background:#FFF; border-bottom:2px solid #E5E7EB; display:flex; align-items:center; justify-content:space-between; padding:0 2rem; z-index:40; transition:left .3s; }
.admin-topbar__left { display:flex; align-items:center; gap:1rem; }
.admin-topbar__hamburger { display:none; align-items:center; justify-content:center; width:36px; height:36px; background:none; border:2px solid #E5E7EB; border-radius:6px; color:#4B5563; font-size:1.25rem; cursor:pointer; }
.admin-topbar__hamburger:hover { border-color:#1D3095; color:#1D3095; }
.admin-topbar__title { font-family:'Sora',sans-serif; font-size:1.15rem; font-weight:600; color:#0F1419; }
.admin-topbar__right { display:flex; align-items:center; gap:.75rem; }
.admin-topbar__role-badge { display:inline-flex; align-items:center; padding:.25rem .65rem; border-radius:20px; font-family:'Inter',sans-serif; font-size:.7rem; font-weight:600; text-transform:uppercase; letter-spacing:.3px; }
.admin-topbar__role-badge--admin { background:#FEF2F2; color:#BD1218; border:1px solid #FECACA; }
.admin-topbar__role-badge--employee { background:#EFF6FF; color:#1D3095; border:1px solid #BFDBFE; }
.admin-topbar__signout { display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .85rem; font-family:'Inter',sans-serif; font-size:.8rem; font-weight:600; color:#6B7280; background:#F8F9FA; border:1px solid #E5E7EB; border-radius:6px; cursor:pointer; text-decoration:none; }
.admin-topbar__signout:hover { background:#FEF2F2; color:#BD1218; border-color:#BD1218; }
.admin-topbar__username { font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; color:#374151; }
.admin-topbar__xp { display:inline-flex; align-items:center; gap:.25rem; padding:.3rem .65rem; background:#F8F9FA; border:1px solid #E5E7EB; border-radius:20px; font-family:'Inter',sans-serif; font-size:.78rem; font-weight:700; text-decoration:none; cursor:pointer; transition:all .15s; position:relative; }
.admin-topbar__xp:hover { background:#EFF6FF; border-color:#1D3095; box-shadow:0 2px 8px rgba(29,48,149,.15); }
.admin-topbar__xp:hover::after { content:'Click to spend reward points!'; position:absolute; top:calc(100% + 6px); left:50%; transform:translateX(-50%); background:#0F1419; color:#FFF; padding:.35rem .65rem; border-radius:6px; font-size:.68rem; font-weight:500; white-space:nowrap; z-index:50; pointer-events:none; box-shadow:0 2px 8px rgba(0,0,0,.15); }
.admin-topbar__xp:hover::before { content:''; position:absolute; top:calc(100% + 2px); left:50%; transform:translateX(-50%); border:4px solid transparent; border-bottom-color:#0F1419; z-index:50; pointer-events:none; }
.admin-topbar__xp-icon { font-size:.85rem; }
.admin-topbar__xp-current { color:#10B981; }
.admin-topbar__xp-sep { color:#D1D5DB; font-weight:400; }
.admin-topbar__xp-total { color:#1D3095; }
.admin-topbar__xp-label { color:#9CA3AF; font-weight:600; font-size:.68rem; margin-left:.1rem; }

/* === CARD === */
.admin-card { background:#FFF; border-radius:10px; padding:1.25rem; border:1px solid #E5E7EB; }
.admin-card:hover { border-color:#D1D5DB; }
.admin-card__label { font-family:'Inter',sans-serif; font-size:.75rem; font-weight:600; color:#6B7280; text-transform:uppercase; letter-spacing:.3px; margin-bottom:.35rem; }
.admin-card__value { font-family:'Sora',sans-serif; font-size:1.75rem; font-weight:700; color:#0F1419; line-height:1.2; }
.admin-card__footer { font-family:'Inter',sans-serif; font-size:.75rem; color:#9CA3AF; margin-top:.5rem; }
.admin-card--accent-red { border-left:4px solid #BD1218; }
.admin-card--accent-blue { border-left:4px solid #1D3095; }
.admin-card--accent-green { border-left:4px solid #10B981; }
.admin-card--accent-amber { border-left:4px solid #F59E0B; }

/* === BUTTONS === */
.admin-btn { display:inline-flex; align-items:center; justify-content:center; gap:.4rem; padding:.55rem 1.15rem; font-family:'Inter',sans-serif; font-size:.85rem; font-weight:600; border-radius:6px; cursor:pointer; transition:all .15s; text-decoration:none; border:2px solid transparent; }
.admin-btn--primary { background:#BD1218; color:#FFF; border-color:#BD1218; }
.admin-btn--primary:hover { background:#9A0F14; border-color:#9A0F14; }
.admin-btn--secondary { background:#1D3095; color:#FFF; border-color:#1D3095; }
.admin-btn--secondary:hover { background:#152050; border-color:#152050; }
.admin-btn--ghost { background:transparent; color:#6B7280; border-color:#E5E7EB; }
.admin-btn--ghost:hover { border-color:#1D3095; color:#1D3095; }
.admin-btn--success { background:#10B981; color:#FFF; border-color:#10B981; }
.admin-btn--success:hover { background:#059669; border-color:#059669; }
.admin-btn--sm { padding:.35rem .75rem; font-size:.78rem; }
.admin-btn--lg { padding:.7rem 1.5rem; font-size:.95rem; }
.admin-btn:disabled { opacity:.5; cursor:not-allowed; }

/* === SEARCH === */
.admin-search { position:relative; width:100%; max-width:500px; background:#FFF; border-radius:8px; }
.admin-search__input { width:100%; padding:.6rem .85rem; font-family:'Inter',sans-serif; font-size:.9rem; border:2px solid #E5E7EB; border-radius:8px; background:transparent; color:#0F1419; margin:0; }
.admin-search__input:focus { outline:none; border-color:#1D3095; }
.admin-search__input::placeholder { color:#9CA3AF; }
.admin-search__btn { display:inline-flex; align-items:center; gap:.4rem; padding:.5rem .85rem; background:#1D3095; color:#FFF; border:none; border-radius:8px; cursor:pointer; font-family:'Inter',sans-serif; font-size:.85rem; font-weight:600; transition:background .15s; white-space:nowrap; }
.admin-search__btn:hover { background:#152050; }
.admin-search__btn:disabled { opacity:.5; cursor:not-allowed; }
.admin-search__btn svg { flex-shrink:0; }

/* === PROGRESS BAR === */
.admin-progress { width:100%; }
.admin-progress__bar { width:100%; height:8px; background:#E5E7EB; border-radius:4px; overflow:hidden; }
.admin-progress__fill { height:100%; background:linear-gradient(90deg,#1D3095,#BD1218); border-radius:4px; transition:width .5s; }
.admin-progress__label { display:flex; justify-content:space-between; margin-top:.35rem; font-family:'Inter',sans-serif; font-size:.75rem; color:#6B7280; }

/* === TOAST === */
.admin-toast { position:fixed; top:80px; right:2rem; z-index:100; min-width:280px; max-width:420px; padding:.85rem 1.15rem; border-radius:8px; font-family:'Inter',sans-serif; font-size:.85rem; font-weight:500; box-shadow:0 4px 16px rgba(0,0,0,.12); animation:toast-in .3s ease-out; display:flex; align-items:center; gap:.65rem; }
.admin-toast--success { background:#ECFDF5; border:1px solid #10B981; color:#065F46; }
.admin-toast--error { background:#FEF2F2; border:1px solid #BD1218; color:#BD1218; }
.admin-toast--info { background:#EFF6FF; border:1px solid #1D3095; color:#1D3095; }
.admin-toast__close { margin-left:auto; background:none; border:none; font-size:1.1rem; cursor:pointer; color:inherit; opacity:.6; padding:0; line-height:1; }
@keyframes toast-in { from{opacity:0;transform:translateY(-10px)} to{opacity:1;transform:translateY(0)} }

/* === MODAL === */
.admin-modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; z-index:200; animation:modal-fade .2s; }
.admin-modal { background:#FFF; border-radius:12px; max-width:600px; width:92%; max-height:85vh; overflow-y:auto; box-shadow:0 12px 48px rgba(0,0,0,.2); }
.admin-modal__header { padding:1.25rem 1.5rem; border-bottom:1px solid #E5E7EB; display:flex; align-items:center; justify-content:space-between; }
.admin-modal__title { font-family:'Sora',sans-serif; font-size:1.1rem; font-weight:600; color:#0F1419; }
.admin-modal__close { background:none; border:none; font-size:1.35rem; color:#6B7280; cursor:pointer; padding:.25rem; line-height:1; }
.admin-modal__close:hover { color:#BD1218; }
.admin-modal__body { padding:1.5rem; }
.admin-modal__footer { padding:1rem 1.5rem; border-top:1px solid #E5E7EB; display:flex; justify-content:flex-end; gap:.75rem; }
@keyframes modal-fade { from{opacity:0} to{opacity:1} }

/* ═══════════════════════════════════════════════════════════════════════════
   FIELDBOOK — Two-Page Notebook Component
   ═══════════════════════════════════════════════════════════════════════════ */

/* FAB button — rightmost in the bottom-right toolbar row */
.fieldbook-fab-wrap { position:fixed; bottom:1.5rem; right:1.5rem; z-index:90; display:flex; flex-direction:column; align-items:center; }
.fieldbook-fab { width:48px; height:48px; border-radius:12px; background:#BD1218; color:#FFF; border:none; font-size:1.3rem; cursor:pointer; box-shadow:0 4px 16px rgba(189,18,24,.35); transition:all .2s; display:flex; align-items:center; justify-content:center; position:relative; z-index:2; }
.fieldbook-fab:hover { background:#9A0F14; transform:translateY(-2px); box-shadow:0 6px 20px rgba(189,18,24,.45); }
.fieldbook-fab-tooltip { position:absolute; bottom:calc(100% + 8px); white-space:nowrap; background:#FEF3C7; color:#92400E; font-family:'Inter',sans-serif; font-size:.75rem; font-weight:600; padding:.35rem .7rem; border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,.1); opacity:0; transform:translateY(4px); pointer-events:none; transition:opacity .2s, transform .2s; }
.fieldbook-fab-tooltip::after { content:''; position:absolute; top:100%; left:50%; transform:translateX(-50%); border:5px solid transparent; border-top-color:#FEF3C7; border-bottom:none; }
.fieldbook-fab-wrap:hover .fieldbook-fab-tooltip { opacity:1; transform:translateY(0); }

/* ── Main fieldbook container ── */
.fb { position:fixed; bottom:0; right:0; width:620px; max-width:100vw; height:85vh; max-height:700px; background:#F5F0E8; border-top-left-radius:12px; box-shadow:-4px -4px 24px rgba(0,0,0,.18); z-index:95; display:flex; flex-direction:column; animation:fb-slide .25s ease-out; overflow:hidden; }
@keyframes fb-slide { from{transform:translateY(100%)} to{transform:translateY(0)} }

/* ── Top bar ── */
.fb__topbar { display:flex; align-items:center; justify-content:space-between; padding:.45rem .75rem; background:#8B4513; color:#FFF; border-top-left-radius:12px; }
.fb__topbar-left { display:flex; gap:.2rem; }
.fb__topbar-right { display:flex; gap:.4rem; align-items:center; }
.fb__tab { padding:.3rem .6rem; font-family:'Inter',sans-serif; font-size:.72rem; font-weight:600; color:rgba(255,255,255,.7); background:none; border:none; border-radius:4px; cursor:pointer; }
.fb__tab:hover { color:#FFF; background:rgba(255,255,255,.15); }
.fb__tab--active { color:#FFF; background:rgba(255,255,255,.2); }
.fb__saving { font-family:'Inter',sans-serif; font-size:.65rem; color:#FDE68A; animation:fb-pulse 1s infinite; }
@keyframes fb-pulse { 0%,100%{opacity:.5} 50%{opacity:1} }
.fb__expand { color:rgba(255,255,255,.7); text-decoration:none; font-size:.95rem; padding:.2rem; }
.fb__expand:hover { color:#FFF; }
.fb__close { background:none; border:none; color:rgba(255,255,255,.7); font-size:1.1rem; cursor:pointer; }
.fb__close:hover { color:#FFF; }

/* ── Title bar ── */
.fb__title-bar { display:flex; align-items:center; gap:.5rem; padding:.4rem .75rem; background:#EDE4D3; border-bottom:1px solid #D4C5A9; }
.fb__title-input { flex:1; background:none; border:none; font-family:'Sora',sans-serif; font-size:.88rem; font-weight:600; color:#3B2F1E; padding:.2rem .4rem; }
.fb__title-input:focus { outline:none; }
.fb__title-input::placeholder { color:#A89170; }
.fb__new-btn { padding:.25rem .5rem; background:#1D3095; color:#FFF; border:none; border-radius:4px; font-family:'Inter',sans-serif; font-size:.68rem; font-weight:600; cursor:pointer; white-space:nowrap; }
.fb__new-btn:hover { background:#152050; }

/* ── Book spread (two pages side by side) ── */
.fb__book { display:flex; flex:1; min-height:0; overflow:hidden; perspective:1000px; }
.fb__book--flip-forward { animation:fb-flip-forward .4s ease-in-out; }
.fb__book--flip-back { animation:fb-flip-back .4s ease-in-out; }
@keyframes fb-flip-forward {
  0% { transform:rotateY(0); }
  50% { transform:rotateY(-12deg); opacity:.8; }
  100% { transform:rotateY(0); }
}
@keyframes fb-flip-back {
  0% { transform:rotateY(0); }
  50% { transform:rotateY(12deg); opacity:.8; }
  100% { transform:rotateY(0); }
}

/* ── Single page (notebook paper) ── */
.fb__page { flex:1; background:#FFFEF7; overflow:hidden; padding:.5rem .65rem .5rem .85rem; position:relative; }
.fb__page--left { border-right:none; box-shadow:inset -2px 0 8px rgba(0,0,0,.05); }
.fb__page--right { border-left:none; box-shadow:inset 2px 0 8px rgba(0,0,0,.05); }

/* Red margin line on left page */
.fb__page--left::before { content:''; position:absolute; left:.65rem; top:0; bottom:0; width:2px; background:rgba(220,80,80,.25); }

/* Notebook paper lines */
.fb__page-lines { display:flex; flex-direction:column; height:100%; }
.fb__line { flex:0 0 auto; height:calc(100% / 18); border-bottom:1px solid rgba(0,100,200,.1); display:flex; align-items:flex-end; padding-bottom:1px; }
.fb__line-text { font-family:'Courier New', Courier, monospace; font-size:.72rem; line-height:1; color:#2C1810; white-space:pre; overflow:hidden; text-overflow:ellipsis; padding-left:.15rem; }

/* ── Spine (center divider) ── */
.fb__spine { width:8px; background:linear-gradient(90deg, #D4C5A9, #BFB08A, #D4C5A9); flex-shrink:0; box-shadow:0 0 4px rgba(0,0,0,.1); }

/* ── Page navigation ── */
.fb__page-nav { display:flex; align-items:center; justify-content:center; gap:.75rem; padding:.3rem .75rem; background:#EDE4D3; border-top:1px solid #D4C5A9; }
.fb__page-btn { background:none; border:none; font-family:'Inter',sans-serif; font-size:.72rem; font-weight:600; color:#8B4513; cursor:pointer; padding:.2rem .5rem; border-radius:4px; }
.fb__page-btn:hover:not(:disabled) { background:rgba(139,69,19,.1); }
.fb__page-btn:disabled { opacity:.3; cursor:default; }
.fb__page-count { font-family:'Inter',sans-serif; font-size:.68rem; color:#A89170; }

/* ── Editor textarea (below the book display) ── */
.fb__editor { padding:.35rem .75rem; background:#F5F0E8; border-top:1px solid #D4C5A9; }
.fb__textarea { width:100%; min-height:52px; max-height:80px; padding:.4rem .55rem; font-family:'Courier New', Courier, monospace; font-size:.78rem; border:1.5px solid #D4C5A9; border-radius:6px; background:#FFFEF7; color:#2C1810; resize:vertical; line-height:1.5; }
.fb__textarea:focus { outline:none; border-color:#8B4513; }
.fb__textarea::placeholder { color:#A89170; }

/* ── Media list ── */
.fb__media-list { max-height:100px; overflow-y:auto; padding:.3rem .75rem; background:#F5F0E8; display:flex; flex-direction:column; gap:.25rem; }
.fb__media-item { background:#FFFEF7; border:1px solid #D4C5A9; border-radius:6px; padding:.3rem .5rem; }
.fb__media-link { display:flex; align-items:center; gap:.4rem; font-family:'Inter',sans-serif; font-size:.72rem; color:#3B2F1E; }
.fb__media-link-text { flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; color:#1D3095; }
.fb__media-link button { background:none; border:none; color:#9CA3AF; cursor:pointer; font-size:.72rem; }

/* ── Audio recorder (inline) ── */
.fb__recorder-wrap { padding:.3rem .75rem; background:#F5F0E8; }
.fb-audio-recorder { display:flex; align-items:center; gap:.5rem; }
.fb-audio-recorder__btn { padding:.3rem .65rem; border:none; border-radius:6px; font-family:'Inter',sans-serif; font-size:.72rem; font-weight:600; cursor:pointer; display:flex; align-items:center; gap:.3rem; }
.fb-audio-recorder__btn--start { background:#EF4444; color:#FFF; }
.fb-audio-recorder__btn--start:hover { background:#DC2626; }
.fb-audio-recorder__btn--stop { background:#374151; color:#FFF; }
.fb-audio-recorder__active { display:flex; align-items:center; gap:.5rem; }
.fb-audio-recorder__pulse { width:10px; height:10px; border-radius:50%; background:#EF4444; animation:rec-pulse .8s infinite alternate; }
@keyframes rec-pulse { from{opacity:.4;transform:scale(.9)} to{opacity:1;transform:scale(1.1)} }
.fb-audio-recorder__time { font-family:'Courier New',monospace; font-size:.72rem; color:#374151; }
.fb-audio-recorder__error { font-family:'Inter',sans-serif; font-size:.65rem; color:#EF4444; }

/* ── Audio player ── */
.fb-audio-player { display:flex; align-items:center; gap:.4rem; padding:.2rem 0; }
.fb-audio-player__play { width:28px; height:28px; border-radius:50%; background:#1D3095; color:#FFF; border:none; font-size:.7rem; cursor:pointer; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.fb-audio-player__play:hover { background:#152050; }
.fb-audio-player__track { flex:1; min-width:0; }
.fb-audio-player__name { font-family:'Inter',sans-serif; font-size:.62rem; color:#6B7280; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.fb-audio-player__seek-wrap { display:flex; align-items:center; gap:.35rem; }
.fb-audio-player__seek { flex:1; height:4px; -webkit-appearance:none; appearance:none; background:#E5E7EB; border-radius:2px; outline:none; cursor:pointer; }
.fb-audio-player__seek::-webkit-slider-thumb { -webkit-appearance:none; width:10px; height:10px; border-radius:50%; background:#1D3095; cursor:pointer; }
.fb-audio-player__times { font-family:'Courier New',monospace; font-size:.58rem; color:#9CA3AF; white-space:nowrap; }
.fb-audio-player__controls { display:flex; align-items:center; gap:.2rem; }
.fb-audio-player__mute, .fb-audio-player__download, .fb-audio-player__remove { background:none; border:none; font-size:.72rem; cursor:pointer; padding:.1rem; color:#6B7280; }
.fb-audio-player__mute:hover, .fb-audio-player__download:hover { color:#1D3095; }
.fb-audio-player__remove:hover { color:#EF4444; }
.fb-audio-player__volume { width:40px; height:3px; -webkit-appearance:none; appearance:none; background:#E5E7EB; border-radius:2px; cursor:pointer; }
.fb-audio-player__volume::-webkit-slider-thumb { -webkit-appearance:none; width:8px; height:8px; border-radius:50%; background:#1D3095; cursor:pointer; }

/* ── Toolbar ── */
.fb__toolbar { display:flex; align-items:center; gap:.15rem; padding:.3rem .75rem; background:#EDE4D3; border-top:1px solid #D4C5A9; }
.fb__tool { background:none; border:1px solid transparent; width:28px; height:28px; border-radius:4px; font-size:.78rem; cursor:pointer; display:flex; align-items:center; justify-content:center; color:#3B2F1E; font-family:'Inter',sans-serif; }
.fb__tool:hover { background:#D4C5A9; }
.fb__tool--save { color:#1D3095; }
.fb__toolbar-sep { width:1px; height:18px; background:#C4B48A; margin:0 .2rem; }
.fb__emoji-picker { position:absolute; bottom:calc(100% + 4px); right:0; background:#FFFEF7; border:1px solid #D4C5A9; border-radius:8px; padding:.35rem; display:grid; grid-template-columns:repeat(8,1fr); gap:.15rem; box-shadow:0 4px 12px rgba(0,0,0,.15); z-index:10; }
.fb__emoji-picker button { background:none; border:none; font-size:1rem; cursor:pointer; padding:.2rem; border-radius:4px; }
.fb__emoji-picker button:hover { background:#EDE4D3; }

/* ── Entry metadata ── */
.fb__meta { padding:.2rem .75rem .4rem; font-family:'Inter',sans-serif; font-size:.6rem; color:#A89170; background:#F5F0E8; }

/* ── Browse / Search views ── */
.fb__browse { flex:1; overflow-y:auto; display:flex; flex-direction:column; }
.fb__cat-bar { display:flex; gap:.3rem; padding:.5rem .75rem; flex-wrap:wrap; background:#EDE4D3; border-bottom:1px solid #D4C5A9; }
.fb__cat-chip { padding:.25rem .55rem; font-family:'Inter',sans-serif; font-size:.68rem; font-weight:600; border:1.5px solid #C4B48A; border-radius:12px; background:none; color:#3B2F1E; cursor:pointer; white-space:nowrap; }
.fb__cat-chip:hover { background:#D4C5A9; }
.fb__cat-chip--active { background:#8B4513; color:#FFF; border-color:#8B4513; }
.fb__cat-chip--add { border-style:dashed; color:#8B4513; }
.fb__new-cat-form { display:flex; gap:.35rem; padding:.35rem .75rem; background:#F5F0E8; }
.fb__new-cat-input { flex:1; padding:.3rem .5rem; border:1.5px solid #D4C5A9; border-radius:4px; font-family:'Inter',sans-serif; font-size:.72rem; background:#FFFEF7; color:#3B2F1E; }
.fb__new-cat-input:focus { outline:none; border-color:#8B4513; }
.fb__new-cat-save { padding:.3rem .6rem; background:#8B4513; color:#FFF; border:none; border-radius:4px; font-family:'Inter',sans-serif; font-size:.68rem; font-weight:600; cursor:pointer; }
.fb__search-bar { display:flex; gap:.35rem; padding:.5rem .75rem; background:#EDE4D3; border-bottom:1px solid #D4C5A9; }
.fb__search-input { flex:1; padding:.35rem .55rem; border:1.5px solid #D4C5A9; border-radius:6px; font-family:'Inter',sans-serif; font-size:.78rem; background:#FFFEF7; color:#3B2F1E; }
.fb__search-input:focus { outline:none; border-color:#8B4513; }
.fb__search-btn { padding:.35rem .65rem; background:#8B4513; color:#FFF; border:none; border-radius:6px; font-family:'Inter',sans-serif; font-size:.72rem; font-weight:600; cursor:pointer; }
.fb__entry-list { flex:1; overflow-y:auto; padding:.5rem .75rem; }
.fb__entry-card { display:block; width:100%; text-align:left; padding:.6rem; margin-bottom:.4rem; background:#FFFEF7; border:1px solid #D4C5A9; border-left:3px solid #8B4513; border-radius:6px; cursor:pointer; transition:all .1s; }
.fb__entry-card:hover { background:#F5F0E8; border-color:#8B4513; }
.fb__entry-card-title { font-family:'Sora',sans-serif; font-size:.82rem; font-weight:600; color:#3B2F1E; margin-bottom:.15rem; }
.fb__entry-card-preview { font-family:'Inter',sans-serif; font-size:.7rem; color:#6B7280; line-height:1.3; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.fb__entry-card-date { font-family:'Inter',sans-serif; font-size:.6rem; color:#A89170; margin-top:.2rem; }
.fb__empty-msg { text-align:center; padding:1.5rem; font-family:'Inter',sans-serif; font-size:.82rem; color:#A89170; }

/* ── Mobile ── */
@media(max-width:699px) {
  .fb { width:100%; border-radius:12px 12px 0 0; }
  .fb__book { flex-direction:column; }
  .fb__spine { width:100%; height:4px; }
  .fb__page--left::before { display:none; }
}

/* === FORM INPUTS === */
.admin-input { width:100%; padding:.6rem .75rem; font-family:'Inter',sans-serif; font-size:.9rem; border:2px solid #E5E7EB; border-radius:8px; color:#0F1419; }
.admin-input:focus { outline:none; border-color:#1D3095; }
.admin-label { display:block; font-family:'Inter',sans-serif; font-size:.8rem; font-weight:600; color:#374151; margin-bottom:.35rem; }
.admin-select { width:100%; padding:.6rem .75rem; font-family:'Inter',sans-serif; font-size:.9rem; border:2px solid #E5E7EB; border-radius:8px; color:#0F1419; background:#FFF; }
.admin-select:focus { outline:none; border-color:#1D3095; }
.admin-textarea { width:100%; min-height:100px; padding:.6rem .75rem; font-family:'Inter',sans-serif; font-size:.9rem; border:2px solid #E5E7EB; border-radius:8px; color:#0F1419; resize:vertical; }
.admin-textarea:focus { outline:none; border-color:#1D3095; }

/* === DASHBOARD === */
.admin-dashboard__welcome { margin-bottom:2rem; }
.admin-dashboard__welcome-title { font-family:'Sora',sans-serif; font-size:1.5rem; font-weight:700; color:#0F1419; margin-bottom:.25rem; }
.admin-dashboard__welcome-sub { font-family:'Inter',sans-serif; font-size:.9rem; color:#6B7280; }
.admin-dashboard__cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem; margin-bottom:2rem; }
.admin-dashboard__section { margin-bottom:2rem; }
.admin-dashboard__section-title { font-family:'Sora',sans-serif; font-size:1.1rem; font-weight:600; color:#0F1419; margin-bottom:1rem; padding-bottom:.5rem; border-bottom:2px solid #E5E7EB; }
.admin-dashboard__quick-links { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:.75rem; }
.admin-dashboard__quick-link { display:flex; align-items:center; gap:.75rem; padding:.85rem 1rem; background:#FFF; border:1px solid #E5E7EB; border-radius:8px; text-decoration:none; color:#0F1419; font-family:'Inter',sans-serif; font-size:.85rem; font-weight:500; transition:all .15s; }
.admin-dashboard__quick-link:hover { border-color:#1D3095; background:#F0F4FF; color:#1D3095; }

/* === EMPTY STATE === */
.admin-empty { text-align:center; padding:3rem 2rem; background:#FFF; border:1px dashed #D1D5DB; border-radius:10px; }
.admin-empty__icon { font-size:2.5rem; margin-bottom:.75rem; }
.admin-empty__title { font-family:'Sora',sans-serif; font-size:1.05rem; font-weight:600; color:#0F1419; margin-bottom:.35rem; }
.admin-empty__desc { font-family:'Inter',sans-serif; font-size:.85rem; color:#9CA3AF; margin-bottom:1rem; }

/* === DASHBOARD 4-CARD LAYOUT === */
.dashboard-cards { display:grid; grid-template-columns:repeat(2,1fr); gap:1rem; margin-bottom:2rem; }
.dashboard-card { background:#FFF; border:1px solid #E5E7EB; border-radius:12px; padding:1.25rem; text-decoration:none; color:inherit; transition:all .2s; display:flex; flex-direction:column; gap:.65rem; position:relative; overflow:hidden; }
.dashboard-card:hover { border-color:#1D3095; box-shadow:0 4px 16px rgba(29,48,149,.1); transform:translateY(-2px); }
.dashboard-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
.dashboard-card--education::before { background:linear-gradient(90deg,#1D3095,#3B82F6); }
.dashboard-card--jobs::before { background:linear-gradient(90deg,#059669,#10B981); }
.dashboard-card--finances::before { background:linear-gradient(90deg,#D97706,#F59E0B); }
.dashboard-card--schedule::before { background:linear-gradient(90deg,#7C3AED,#A78BFA); }
.dashboard-card__header { display:flex; align-items:center; justify-content:space-between; }
.dashboard-card__icon { font-size:1.75rem; }
.dashboard-card__badge { font-family:'Inter',sans-serif; font-size:.65rem; font-weight:700; text-transform:uppercase; letter-spacing:.5px; padding:.2rem .55rem; border-radius:12px; }
.dashboard-card--education .dashboard-card__badge { background:#EFF6FF; color:#1D3095; }
.dashboard-card--jobs .dashboard-card__badge { background:#ECFDF5; color:#059669; }
.dashboard-card--finances .dashboard-card__badge { background:#FEF3C7; color:#D97706; }
.dashboard-card--schedule .dashboard-card__badge { background:#F3E8FF; color:#7C3AED; }
.dashboard-card__title { font-family:'Sora',sans-serif; font-size:1.05rem; font-weight:600; color:#0F1419; }
.dashboard-card__metrics { display:flex; gap:1.25rem; }
.dashboard-card__metric { display:flex; flex-direction:column; gap:.1rem; }
.dashboard-card__metric-value { font-family:'Sora',sans-serif; font-size:1.35rem; font-weight:700; color:#0F1419; }
.dashboard-card__metric-label { font-family:'Inter',sans-serif; font-size:.72rem; color:#9CA3AF; }
.dashboard-card__progress { margin-top:.25rem; }
.dashboard-card__progress-bar { width:100%; height:6px; background:#E5E7EB; border-radius:3px; overflow:hidden; }
.dashboard-card__progress-fill { height:100%; background:linear-gradient(90deg,#1D3095,#3B82F6); border-radius:3px; transition:width .5s ease; }
.dashboard-card__progress-label { font-family:'Inter',sans-serif; font-size:.72rem; color:#6B7280; margin-top:.25rem; }
.dashboard-card__link { font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; color:#1D3095; margin-top:auto; }
.dashboard-card__empty-note { font-family:'Inter',sans-serif; font-size:.78rem; color:#9CA3AF; font-style:italic; }

/* === DASHBOARD QUIZ HISTORY WIDGET === */
.dashboard-quiz-history { display:flex; flex-direction:column; gap:.35rem; }
.dashboard-quiz-item { display:flex; align-items:center; justify-content:space-between; padding:.65rem .85rem; background:#FFF; border:1px solid #E5E7EB; border-radius:6px; }
.dashboard-quiz-item__info { display:flex; align-items:center; gap:.75rem; }
.dashboard-quiz-item__type { font-family:'Inter',sans-serif; font-size:.78rem; font-weight:600; color:#374151; }
.dashboard-quiz-item__date { font-family:'Inter',sans-serif; font-size:.72rem; color:#9CA3AF; }
.dashboard-quiz-item__score { font-family:'Sora',sans-serif; font-size:.95rem; font-weight:700; }
.dashboard-quiz-item__score--pass { color:#10B981; }
.dashboard-quiz-item__score--fail { color:#BD1218; }

/* === DASHBOARD ACTIVITY FEED === */
.dashboard-activity-feed { display:flex; flex-direction:column; gap:.35rem; }
.dashboard-activity-item { display:flex; align-items:center; gap:.75rem; padding:.65rem .85rem; background:#FFF; border:1px solid #E5E7EB; border-radius:6px; font-family:'Inter',sans-serif; font-size:.82rem; }
.dashboard-activity-item__user { font-weight:600; color:#0F1419; min-width:80px; }
.dashboard-activity-item__action { flex:1; color:#374151; }
.dashboard-activity-item__time { color:#9CA3AF; font-size:.72rem; white-space:nowrap; }
.dashboard-view-all { display:inline-flex; align-items:center; gap:.35rem; font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; color:#1D3095; text-decoration:none; margin-top:.75rem; }
.dashboard-view-all:hover { color:#BD1218; }

/* === MOBILE === */
@media(max-width:1023px) {
  .admin-sidebar { transform:translateX(-100%); }
  .admin-sidebar--open { transform:translateX(0); }
  .admin-layout__main { margin-left:0; }
  .admin-topbar { left:0; }
  .admin-topbar__hamburger { display:flex; }
  .admin-layout__content { padding:1.25rem; }
  .fb { width:100%; border-radius:12px 12px 0 0; }
}
@media(max-width:599px) {
  .admin-topbar { padding:0 1rem; height:56px; }
  .admin-topbar__title { font-size:1rem; }
  .admin-topbar__role-badge { display:none; }
  .admin-layout__content { padding:1rem; margin-top:56px; }
  .admin-dashboard__cards { grid-template-columns:1fr; }
  .dashboard-cards { grid-template-columns:1fr; }
  .dashboard-card__metrics { flex-wrap:wrap; gap:.75rem; }
  .fieldbook-fab-wrap { bottom:1rem; right:1rem; }
  .fieldbook-fab { width:44px; height:44px; font-size:1.15rem; }
}
.admin-sidebar-overlay { display:none; }
@media(max-width:1023px) { .admin-sidebar-overlay--active { display:block; position:fixed; inset:0; background:rgba(0,0,0,.4); z-index:45; } }

/* === NOTIFICATION BELL === */
.notif-bell { position:relative; }
.notif-bell__btn { position:relative; display:flex; align-items:center; justify-content:center; width:36px; height:36px; border:1px solid #E5E7EB; border-radius:8px; background:#fff; cursor:pointer; color:#6B7280; transition:all .15s; }
.notif-bell__btn:hover { border-color:#1D3095; color:#1D3095; background:#F5F7FF; }
.notif-bell__icon { display:block; }
.notif-bell__badge { position:absolute; top:-4px; right:-4px; min-width:18px; height:18px; padding:0 5px; background:#EF4444; color:#fff; font-size:.65rem; font-weight:700; border-radius:10px; display:flex; align-items:center; justify-content:center; border:2px solid #fff; line-height:1; font-family:'Inter',sans-serif; }
.notif-bell__dropdown { position:absolute; top:calc(100% + 8px); right:0; width:360px; max-height:480px; background:#fff; border:1px solid #E5E7EB; border-radius:12px; box-shadow:0 12px 40px rgba(0,0,0,.15); z-index:200; display:flex; flex-direction:column; animation:notifSlideDown .15s ease; }
@keyframes notifSlideDown { from{opacity:0;transform:translateY(-8px)} to{opacity:1;transform:translateY(0)} }
.notif-bell__header { display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; border-bottom:1px solid #E5E7EB; }
.notif-bell__title { margin:0; font-size:.9rem; font-weight:700; color:#1F2937; }
.notif-bell__mark-all { background:none; border:none; color:#1D3095; font-size:.75rem; font-weight:600; cursor:pointer; padding:.2rem .4rem; border-radius:4px; }
.notif-bell__mark-all:hover { background:#EFF6FF; }
.notif-bell__list { flex:1; overflow-y:auto; max-height:360px; }
.notif-bell__empty { text-align:center; padding:2rem 1rem; color:#9CA3AF; }
.notif-bell__empty span { font-size:2rem; display:block; margin-bottom:.5rem; }
.notif-bell__empty p { margin:0; font-size:.85rem; }
.notif-bell__item { display:flex; align-items:flex-start; gap:.65rem; padding:.75rem 1rem; border-bottom:1px solid #F3F4F6; cursor:pointer; transition:background .1s; position:relative; }
.notif-bell__item:hover { background:#F9FAFB; }
.notif-bell__item--unread { background:#EFF6FF; }
.notif-bell__item--unread:hover { background:#DBEAFE; }
.notif-bell__item-icon { font-size:1.2rem; flex-shrink:0; margin-top:.1rem; }
.notif-bell__item-content { flex:1; min-width:0; }
.notif-bell__item-title { display:block; font-size:.82rem; font-weight:600; color:#1F2937; line-height:1.3; }
.notif-bell__item-body { display:block; font-size:.75rem; color:#6B7280; margin-top:.15rem; line-height:1.4; overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; }
.notif-bell__item-time { display:block; font-size:.68rem; color:#9CA3AF; margin-top:.25rem; }
.notif-bell__item-dismiss { position:absolute; top:.5rem; right:.5rem; background:none; border:none; color:#D1D5DB; font-size:.75rem; cursor:pointer; padding:.15rem; border-radius:3px; line-height:1; opacity:0; transition:opacity .1s; }
.notif-bell__item:hover .notif-bell__item-dismiss { opacity:1; }
.notif-bell__item-dismiss:hover { color:#EF4444; background:#FEE2E2; }
.notif-bell__footer { padding:.6rem 1rem; border-top:1px solid #E5E7EB; text-align:center; }
.notif-bell__view-all { font-size:.78rem; font-weight:600; color:#1D3095; text-decoration:none; }
.notif-bell__view-all:hover { text-decoration:underline; }
@media(max-width:599px) { .notif-bell__dropdown { width:calc(100vw - 2rem); right:-60px; } }
