/*==============================================================================
  ADMIN DISCUSSIONS — Thread FAB, Panel, and Discussion Pages
  For flagging content issues, errors, and improvement suggestions
==============================================================================*/

/* === FLOATING ACTION BUTTON — middle in the bottom-right toolbar row === */
.discussion-fab-wrap { position:fixed; bottom:1.5rem; right:calc(1.5rem + 60px); z-index:90; display:flex; flex-direction:column; align-items:center; }
.discussion-fab { width:48px; height:48px; border-radius:12px; background:#F59E0B; color:#FFF; border:none; font-size:1.2rem; cursor:pointer; box-shadow:0 4px 16px rgba(245,158,11,.35); transition:all .2s; display:flex; align-items:center; justify-content:center; position:relative; z-index:2; }
.discussion-fab:hover { background:#D97706; transform:translateY(-2px); box-shadow:0 6px 20px rgba(245,158,11,.45); }
.discussion-fab-tooltip { position:absolute; bottom:calc(100% + 8px); white-space:nowrap; background:#FEF3C7; color:#92400E; font-family:'Inter',sans-serif; font-size:.75rem; font-weight:600; padding:.35rem .7rem; border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,.1); opacity:0; transform:translateY(4px); pointer-events:none; transition:opacity .2s ease, transform .2s ease; }
.discussion-fab-tooltip::after { content:''; position:absolute; top:100%; left:50%; transform:translateX(-50%); border:5px solid transparent; border-top-color:#FEF3C7; border-bottom:none; }
.discussion-fab-wrap:hover .discussion-fab-tooltip { opacity:1; transform:translateY(0); }

/* === DISCUSSION PANEL (slide-up from bottom-right) === */
.discussion-panel { position:fixed; bottom:0; right:0; width:440px; max-width:100vw; height:80vh; background:#FFF; border-top-left-radius:16px; box-shadow:-4px -4px 24px rgba(0,0,0,.12); z-index:95; display:flex; flex-direction:column; animation:discussion-slide .25s ease-out; }
@keyframes discussion-slide { from{transform:translateY(100%)} to{transform:translateY(0)} }

.discussion-panel__header { padding:.75rem 1rem; border-bottom:1px solid #E5E7EB; display:flex; align-items:center; justify-content:space-between; }
.discussion-panel__header-tabs { display:flex; gap:.25rem; }
.discussion-panel__tab { padding:.4rem .75rem; font-family:'Inter',sans-serif; font-size:.8rem; font-weight:600; color:#6B7280; background:none; border:1.5px solid transparent; border-radius:6px; cursor:pointer; transition:all .15s; }
.discussion-panel__tab:hover { color:#1D3095; background:#F5F7FF; }
.discussion-panel__tab--active { color:#1D3095; background:#EFF6FF; border-color:#1D3095; }
.discussion-panel__close { background:none; border:none; font-size:1.25rem; color:#6B7280; cursor:pointer; padding:.25rem; }
.discussion-panel__close:hover { color:#BD1218; }

.discussion-panel__context { padding:.45rem 1rem; background:#F8F9FA; font-family:'Inter',sans-serif; font-size:.72rem; color:#6B7280; border-bottom:1px solid #E5E7EB; }

.discussion-panel__body { flex:1; overflow-y:auto; padding:.75rem 1rem; }
.discussion-panel__loading { text-align:center; color:#9CA3AF; font-family:'Inter',sans-serif; font-size:.85rem; padding:2rem 0; }

.discussion-panel__empty { text-align:center; padding:2rem 1rem; }
.discussion-panel__empty span { font-size:2rem; display:block; margin-bottom:.5rem; }
.discussion-panel__empty p { margin:0 0 1rem; font-family:'Inter',sans-serif; font-size:.85rem; color:#9CA3AF; }

/* === THREAD LIST ITEMS === */
.discussion-panel__list { display:flex; flex-direction:column; gap:.5rem; }
.discussion-panel__item { display:block; padding:.75rem; background:#F8F9FA; border:1px solid #E5E7EB; border-radius:8px; text-decoration:none; color:inherit; transition:all .15s; }
.discussion-panel__item:hover { border-color:#1D3095; background:#F5F7FF; }
.discussion-panel__item-header { display:flex; align-items:center; gap:.5rem; margin-bottom:.35rem; }
.discussion-panel__item-escalation { display:inline-flex; align-items:center; gap:.25rem; padding:.15rem .5rem; border-radius:12px; font-family:'Inter',sans-serif; font-size:.62rem; font-weight:700; color:#FFF; letter-spacing:.3px; }
.discussion-panel__item-type { font-family:'Inter',sans-serif; font-size:.68rem; font-weight:600; color:#6B7280; }
.discussion-panel__item-title { font-family:'Sora',sans-serif; font-size:.88rem; font-weight:600; color:#0F1419; margin:0 0 .2rem; }
.discussion-panel__item-desc { font-family:'Inter',sans-serif; font-size:.78rem; color:#6B7280; margin:0 0 .3rem; line-height:1.4; }
.discussion-panel__item-meta { display:flex; justify-content:space-between; font-family:'Inter',sans-serif; font-size:.68rem; color:#9CA3AF; }

.discussion-panel__view-all { display:block; text-align:center; padding:.75rem; font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; color:#1D3095; text-decoration:none; margin-top:.5rem; }
.discussion-panel__view-all:hover { text-decoration:underline; }

/* === CREATE FORM === */
.discussion-panel__form { display:flex; flex-direction:column; gap:.65rem; }
.discussion-panel__form-row { display:grid; grid-template-columns:1fr 1fr; gap:.65rem; }

/* === DISCUSSION FULL PAGE === */
.discussions-page__filters { display:flex; gap:.75rem; margin-bottom:1.25rem; flex-wrap:wrap; }
.discussions-page__filter { padding:.4rem .75rem; font-family:'Inter',sans-serif; font-size:.8rem; font-weight:600; border:1.5px solid #E5E7EB; border-radius:6px; background:#FFF; color:#6B7280; cursor:pointer; transition:all .15s; }
.discussions-page__filter:hover { border-color:#1D3095; color:#1D3095; }
.discussions-page__filter--active { background:#1D3095; color:#FFF; border-color:#1D3095; }

.discussions-page__grid { display:flex; flex-direction:column; gap:.75rem; }
.discussions-page__card { display:flex; gap:1rem; padding:1rem; background:#FFF; border:1px solid #E5E7EB; border-radius:10px; text-decoration:none; color:inherit; transition:all .15s; }
.discussions-page__card:hover { border-color:#1D3095; box-shadow:0 2px 12px rgba(29,48,149,.08); }
.discussions-page__card-indicator { width:4px; border-radius:2px; flex-shrink:0; }
.discussions-page__card-body { flex:1; min-width:0; }
.discussions-page__card-top { display:flex; align-items:center; gap:.5rem; margin-bottom:.35rem; flex-wrap:wrap; }
.discussions-page__card-title { font-family:'Sora',sans-serif; font-size:.95rem; font-weight:600; color:#0F1419; }
.discussions-page__card-desc { font-family:'Inter',sans-serif; font-size:.82rem; color:#6B7280; margin-bottom:.35rem; line-height:1.4; }
.discussions-page__card-footer { display:flex; gap:1rem; font-family:'Inter',sans-serif; font-size:.72rem; color:#9CA3AF; flex-wrap:wrap; }

/* === THREAD DETAIL PAGE === */
.thread-detail__header { margin-bottom:1.5rem; }
.thread-detail__title { font-family:'Sora',sans-serif; font-size:1.3rem; font-weight:700; color:#0F1419; margin:0 0 .5rem; }
.thread-detail__meta { display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:.75rem; }
.thread-detail__badge { display:inline-flex; align-items:center; gap:.25rem; padding:.25rem .65rem; border-radius:20px; font-family:'Inter',sans-serif; font-size:.72rem; font-weight:700; letter-spacing:.3px; }
.thread-detail__description { font-family:'Inter',sans-serif; font-size:.9rem; color:#374151; line-height:1.6; padding:1rem; background:#F8F9FA; border-radius:8px; border-left:3px solid #1D3095; }
.thread-detail__page-ref { font-family:'Inter',sans-serif; font-size:.78rem; color:#6B7280; margin-top:.5rem; }
.thread-detail__page-ref a { color:#1D3095; text-decoration:none; }
.thread-detail__page-ref a:hover { text-decoration:underline; }

/* Messages in thread */
.thread-detail__messages { margin-top:1.5rem; }
.thread-detail__messages-title { font-family:'Sora',sans-serif; font-size:1rem; font-weight:600; color:#0F1419; margin-bottom:1rem; padding-bottom:.5rem; border-bottom:2px solid #E5E7EB; }
.thread-detail__message { display:flex; gap:.75rem; margin-bottom:.75rem; }
.thread-detail__message-avatar { width:32px; height:32px; border-radius:50%; background:#1D3095; color:#FFF; display:flex; align-items:center; justify-content:center; font-family:'Sora',sans-serif; font-size:.7rem; font-weight:700; flex-shrink:0; }
.thread-detail__message-body { flex:1; }
.thread-detail__message-header { display:flex; align-items:center; gap:.5rem; margin-bottom:.2rem; }
.thread-detail__message-sender { font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; color:#0F1419; }
.thread-detail__message-time { font-family:'Inter',sans-serif; font-size:.68rem; color:#9CA3AF; }
.thread-detail__message-text { font-family:'Inter',sans-serif; font-size:.88rem; color:#374151; line-height:1.5; white-space:pre-wrap; }

/* Reply box */
.thread-detail__reply { margin-top:1rem; display:flex; gap:.5rem; align-items:flex-end; }
.thread-detail__reply textarea { flex:1; min-height:60px; max-height:120px; padding:.6rem .75rem; font-family:'Inter',sans-serif; font-size:.85rem; border:2px solid #E5E7EB; border-radius:8px; resize:vertical; color:#0F1419; }
.thread-detail__reply textarea:focus { outline:none; border-color:#1D3095; }
.thread-detail__reply-btn { padding:.6rem 1rem; background:#1D3095; color:#FFF; border:none; border-radius:8px; font-family:'Inter',sans-serif; font-size:.82rem; font-weight:600; cursor:pointer; white-space:nowrap; }
.thread-detail__reply-btn:hover { background:#152050; }
.thread-detail__reply-btn:disabled { opacity:.5; cursor:not-allowed; }

/* === THREAD ACTIONS BAR === */
.thread-detail__actions { display:flex; gap:.75rem; margin-top:1rem; flex-wrap:wrap; }

/* === MOBILE === */
@media(max-width:599px) {
  .discussion-panel { width:100%; border-radius:16px 16px 0 0; }
  .discussion-fab-wrap { bottom:1rem; right:calc(1rem + 56px); }
  .discussion-fab { width:44px; height:44px; font-size:1.1rem; }
  .discussion-panel__form-row { grid-template-columns:1fr; }
}
